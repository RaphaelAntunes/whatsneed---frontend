{"version":3,"sources":["assets/backgroundStep.png","layout/themeContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","services/socket.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","pages/ToDoList/index.js","hooks/usePlans/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","context/Tickets/TicketsContext.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageOptionsMenu/index.js","components/LocationPreview/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","helpers/contrastColor.js","components/ContactTag/index.js","components/TicketListItemCustom/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useMessages/index.js","pages/Dashboard/ChartsUser.js","pages/Dashboard/ChartsDate.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","hooks/useCompanies/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","pages/Kanban/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Subscription/index.js","components/FileModal/index.js","pages/Files/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","pages/ForgetPassWord/index.js","routes/index.js","App.js","index.js","assets/logo2.png","assets/logo3.png","assets/planilha.xlsx","assets/wa-background.png","assets/wa-background-dark.png","assets/sound.mp3","assets/chat_notify.mp3","assets/logo.png","assets/n8n.png","assets/dialogflow.png","assets/webhook.png","assets/typebot.jpg"],"names":["module","exports","ColorModeContext","React","createContext","toggleColorMode","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","plans","users","connections","campaigns","schedules","enabled","disabled","clear","delete","save","yes","no","money","companies","plan","token","auth","dashboard","charts","perDay","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","tabs","general","assessments","integrations","sendIdQueue","timeSendQueue","queueRedirection","outOfHoursMessage","queueRedirectionDesc","prompt","expiresTicket","expiresInactiveMessage","greetingMessage","complationMessage","okAdd","okEdit","cancel","qrCode","message","contacts","deletedAll","searchPlaceholder","deleteAllTitle","importTitle","deleteAllMessage","importMessage","import","export","whatsapp","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","sideMenu","note","options","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","queue","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","queueModal","color","ratingMessage","orderQueue","integrationId","userModal","profile","allTicket","allTicketEnabled","allTicketDesabled","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","management","settings","helps","messagesAPI","annoucements","chats","financeiro","files","queueIntegration","appBar","notRegister","user","logout","deleteAll","textMessage","mediaMessage","media","notifications","noTickets","noAttachment","attach","dialog","shortcode","geral","visao","mediaName","messageVariablesPicker","label","vars","contactFirstName","contactName","greeting","protocolNumber","date","hour","contactLists","company","contactListItems","lists","importTitlte","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","fileList","okadd","restart","close","announcements","active","inactive","priority","text","mediaPath","campaignsConfig","queueSelect","inputLabel","userCreation","messagesList","header","assignedTo","return","resolve","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","fileModal","fileOptions","ticketOptionsMenu","schedule","transfer","registerAppointment","appointmentsModal","textarea","titleFrom","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","concat","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","isString","api","axios","create","baseURL","process","withCredentials","openApi","socketConnection","params","userId","localStorage","getItem","openSocket","transports","pingTimeout","pingInterval","query","isObject","reducer","state","action","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useEffect","async","get","fetchSession","companyId","socket","on","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","has","isArray","setting","find","key","moment","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","Math","round","warn","push","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","useStyles","makeStyles","root","display","flexDirection","alignItems","margin","inputContainer","width","marginBottom","input","flexGrow","marginRight","listContainer","height","marginTop","backgroundColor","borderRadius","list","ToDoList","classes","task","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","className","TextField","onChange","event","target","variant","Button","onClick","handleAddTask","trim","now","Date","newTasks","createdAt","List","map","index","ListItem","ListItemText","primary","secondary","toLocaleString","ListItemSecondaryAction","IconButton","handleEditTask","EditIcon","handleDeleteTask","DeleteIcon","usePlans","getPlanList","url","method","responseData","finder","remove","getPlanCompany","ListSubheader","ListItemLink","props","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","button","dense","component","style","ListItemIcon","newChats","forEach","chatIndex","u","chatId","MainListItems","drawerClose","collapsed","useContext","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","planConfigs","useCampaigns","useKanban","useOpenAi","useIntegrations","useSchedules","useInternalChat","useExternalApi","fetchData","delayDebounceFn","setTimeout","fetchChats","clearTimeout","unreadsCount","length","chatUser","unreads","filter","whats","records","overflowY","Fragment","hidden","position","fontSize","textAlign","paddingLeft","inset","WhatsAppIcon","DynamicFormIcon","SpaceDashboardIcon","PendingActionsOutlinedIcon","CalendarMonthOutlinedIcon","DiscountOutlinedIcon","Badge","ForumOutlinedIcon","HelpOutlineIcon","Divider","small","DashboardOutlinedIcon","prev","WysiwygOutlinedIcon","ExpandLessIcon","ExpandMoreIcon","Collapse","in","unmountOnExit","disablePadding","AssignmentOutlinedIcon","PermIdentityOutlinedIcon","FingerprintOutlinedIcon","super","ReportGmailerrorredOutlinedIcon","WebhookOutlinedIcon","PolylineOutlinedIcon","badgeContent","SwapHorizOutlinedIcon","CloudOutlinedIcon","ViewAgendaOutlinedIcon","GroupsOutlinedIcon","CodeRoundedIcon","PeopleAltOutlinedIcon","RequestPageOutlinedIcon","Typography","padding","fontWeight","buttonProgress","green","top","left","marginLeft","ButtonWithSpinner","rest","CircularProgress","size","elements","allowedElements","CustomLink","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","uuid","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","window","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","alt","ConfirmationModal","onClose","onConfirm","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","MessageOptionsMenu","menuOpen","handleClose","anchorEl","confirmationOpen","setConfirmationOpen","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","MenuItem","e","hanldeReplyMessage","LocationPreview","image","link","description","handleLocation","minWidth","float","src","flexWrap","gutterBottom","dangerouslySetInnerHTML","__html","fullWidth","messagesListWrapper","overflow","minHeight","backgroundImage","mode","whatsBackground","whatsBackgroundDark","scrollbarStyles","circleLoading","opacity","messageLeft","maxWidth","right","whiteSpace","alignSelf","paddingRight","paddingTop","paddingBottom","boxShadow","quotedContainerLeft","quotedMsg","quotedSideColorLeft","flex","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","zIndex","messageContactName","textContentItem","overflowWrap","textContentItemEdited","textContentItemDeleted","fontStyle","timestamp","bottom","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","justifyContent","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","ticket","ticketId","isGroup","hasMore","setHasMore","lastMessageRef","useRef","selectedMessage","setSelectedMessage","setAnchorEl","messageOptionsMenuOpen","Boolean","currentTicketId","current","scrollToBottom","fetchMessages","emit","scrollIntoView","handleOpenMessageOptionsMenu","currentTarget","checkMessageMedia","mediaType","split","locationParts","imageLocation","linkLocation","descriptionLocation","mediaUrl","controls","startIcon","GetApp","href","renderDailyTimestamps","parseISO","messageDay","previousMessageDay","isSameDay","renderNumberTicket","_message$ticket","_message$ticket$whats","messageTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","clsx","onScroll","scrollTop","document","getElementById","prevPageNumber","renderMessages","_message$contact","_message$contact2","messageCenter","isDeleted","ExpandMore","xmlns","viewBox","fill","d","isEdited","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","Card","square","CardHeader","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","Skeleton","animation","Avatar","subheader","palette","tabHeaderBackground","breakpoints","down","TicketHeader","TicketInfo","userName","setUserName","setContactName","offsetWidth","truncadName","substring","cursor","profilePicUrl","mainWrapper","borderLeft","transition","transitions","easing","sharp","leavingScreen","mainWrapperShift","easeOut","enteringScreen","TicketMessagesDialog","setDrawerOpen","setContact","setTicket","queueId","q","fetchTicket","prevState","_data$contact","handleDrawerOpen","renderTicketInfo","Box","contrastColor","tag","ContactTag","toUpperCase","pendingTicket","queueTag","background","noTicketsDiv","newMessagesCount","noTicketsText","lineHeight","connectionTag","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","contactLastMessage","badgeStyle","acceptButton","ticketQueueColor","ticketInfo","secondaryContentSecond","alignContent","ticketInfo1","Radiusdot","transform","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue6","_ticket$queue7","_ticket$queue7$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","openTicketMessageDialog","setOpenTicketMessageDialog","useParams","isMounted","_ticket$queue","_ticket$queue$name","_ticket$queue2","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","handleSendMessage","msg","read","uuidv4","handleSelectTicket","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","VisibilityIcon","blue","chatbot","AndroidIcon","grey","lastMessage","unreadMessages","badge","settingIndex","put","handleAcepptTicket","_ticket$queue3","useIntegration","promptId","handleCloseTicket","_ticket$queue4","handleReopenTicket","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","maxHeight","popoverPaper","spacing","noShadow","NotificationsPopOver","volume","ticketIdUrl","location","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","showPendingTickets","setShowPendingTickets","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","fetchSettings","Notification","requestPermission","console","log","processNotifications","newNotifications","ticketIndex","notfiticationIndex","n","String","_user$queues","some","visibilityState","handleNotifications","urlPicture","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","handleClick","aria-label","overlap","ChatIcon","Popover","disableScrollLock","paper","TicketListItem","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","item","VolumeDownIcon","xs","Slider","step","min","max","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","multiple","setQueues","fetchQueues","FormControl","InputLabel","shrink","Select","labelWidth","MenuProps","renderValue","_queues$find","_queues$find2","Chip","multFieldLine","btnWrapper","formControl","UserSchema","Yup","shape","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","_data$queues","userQueueIds","fetchUser","scroll","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","Field","as","autoFocus","helperText","labelId","divider","dividerText","textField","backdrop","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","border","filename","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","Notifications","Paper","scrollHeight","clientHeight","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","userObj","senderId","ForumIcon","goToMessages","fancyBackground","toolbar","dark","main","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaper","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","themeToggle","userModalOpen","setUserModalOpen","setMenuOpen","drawerOpen","drawerVariant","setDrawerVariant","useTheme","colorMode","greaterThenSm","useMediaQuery","reload","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","handleOpenUserModal","handleClickLogout","cardAvatar","cardTitle","cardSubtitle","CardCounter","off","red","pointer","RatingBox","rating","ratingTrunc","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","CheckCircleIcon","ErrorIcon","useDashboard","useMessages","ChartJS","CategoryScale","LinearScale","BarElement","Title","Legend","ChartDataLabels","responsive","plugins","legend","datalabels","anchor","offset","textStrokeColor","textStrokeWidth","font","weight","ChatsUser","initialDate","setInitialDate","finalDate","setFinalDate","ticketsData","setTicketsData","handleGetTicketsInformation","dataCharts","labels","nome","datasets","quantidade","Stack","direction","sx","my","LocalizationProvider","dateAdapter","AdapterDateFns","adapterLocale","brLocale","DatePicker","newValue","renderInput","Bar","ChartsDate","count","hasOwnProperty","horario","total","fixedHeightPaper","alignRight","selectContainer","card1","card2","card3","card4","card5","card6","card7","card8","card9","Dashboard","counters","setCounters","setAttendants","period","setPeriod","filterType","setFilterType","dateFrom","setDateFrom","dateTo","setDateTo","newDate","getDate","month","getMonth","year","getFullYear","showFilter","setShowFilter","queueTicket","setQueueTicket","days","isEmpty","date_from","date_to","keys","formatTime","firstLoad","Container","sm","md","elevation","paragraph","supportPending","CallIcon","supportHappening","HourglassEmptyIcon","supportFinished","DoneAllIcon","leads","PersonAddIcon","AccessAlarmIcon","avgWaitTime","TimerIcon","handleChangeFilterType","FormHelperText","InputLabelProps","handleChangePeriod","fixedHeightPaper2","extraAttr","ContactSchema","ContactModal","contactId","onSave","fetchContact","handleSaveContact","FieldArray","_ref3","info","DeleteOutlineIcon","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","whatsapps","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","then","fetchContacts","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","handleSelectOption","onKeyPress","InputProps","endAdornment","displayEmpty","w","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","filteredTickets","indexOf","shouldUpdateTicket","_data$ticket$queue","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","Checkbox","checked","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","Array","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","tabsInternal","settingsIcon","tab","internalTab","ticketOptionsBox","optionsBackground","ticketSearchLine","serachInputWrapper","searchIcon","searchInput","insiderTabPanel","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","insiderTabLabel","smallFormControl","TicketsManagerTabs","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","applyPanelStyle","handleCloseOrOpenTicket","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","SearchIcon","InputBase","inputRef","searchedTerm","FormControlLabel","labelPlacement","control","Switch","handleChangeTabOpen","TicketsList","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","deleteItem","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","handleSave","setErrors","rows","multiline","flexShrink","borderRight","contactdrawer","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","openForm","setOpenForm","PaperProps","BackdropProps","ModalProps","CloseIcon","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","bordabox","newMessageBox","newmessagebox","messageInputWrapper","inputdigita","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","inputMessage","recording","ticketStatus","handleCancelAudio","handleUploadAudio","handleStartRecording","SendIcon","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","setInputMessage","handleInputPaste","handleQuickAnswersClick","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","closeIcon","opt","isNil","onInputChange","reason","onPaste","shiftKey","maxRows","withWidth","_medias$","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","emoji","native","selectedMedias","from","clipboardData","blob","extension","formData","FormData","getTime","append","handleUploadQuickMessageMedia","navigator","mediaDevices","getUserMedia","audio","start","stop","getMp3","CancelIcon","ClearIcon","renderReplyingMessage","useQueues","findAll","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","InputComponent","other","OutlinedDiv","inputComponent","inputProps","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","setContacts","attachment","setAttachment","attachmentFile","messageInputRef","c","customList","capitalize","file","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setFieldValue","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","AttachFile","DeleteOutline","click","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","handleOpenConfirmationModal","keepMounted","handleOpenScheduleModal","handleCloseTransferTicketModal","handleCloseScheduleModal","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","UndoRoundedIcon","ThemeProvider","MoreVert","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","boxticket","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","Tickets","WebkitTextFillColor","whatsappButton","validCodes","SignUp","qs","phone","planId","isCodeEnabled","setIsCodeEnabled","validationCode","setValidationCode","showPassword","setShowPassword","setPlans","listPlans","handleWhatsAppClick","encodeURIComponent","handleInputChange","recurrence","campaignsEnabled","handleSignUp","autoComplete","justify","mt","powered","Login","handleChangeInput","CssBaseline","tabIndex","aria-disabled","textDecoration","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","timeUseBotQueues","maxUseBotQueues","setWhatsApp","selectedQueueId","setSelectedQueueId","selectedPrompt","setSelectedPrompt","setPrompts","whatsQueueIds","transferQueueId","handleChangePrompt","whatsappData","handleSaveWhatsApp","selectedIds","timeToTransfer","selectedId","setQrCode","fontFamily","class","focusable","aria-hidden","QRCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","endTime","render","arrayHelpers","FastField","field","NumberFormat","customInput","_ref4","useCompanies","finding","updateSchedules","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","resetForm","handleSubmit","setValues","incrementDueDate","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","PlansManagerGrid","minimumFractionDigits","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","planList","_data$value","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","fontecor","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","callType","setCallType","chatbotType","setChatbotType","CheckMsgIsGroup","setCheckMsgIsGroupType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","loadingCallType","setLoadingCallType","loadingChatbotType","setLoadingChatbotType","loadingCheckMsgIsGroup","setCheckMsgIsGroup","ipixcType","setIpIxcType","loadingIpIxcType","setLoadingIpIxcType","tokenixcType","setTokenIxcType","loadingTokenIxcType","setLoadingTokenIxcType","ipmkauthType","setIpMkauthType","loadingIpMkauthType","setLoadingIpMkauthType","clientidmkauthType","setClientIdMkauthType","loadingClientIdMkauthType","setLoadingClientIdMkauthType","clientsecretmkauthType","setClientSecrectMkauthType","loadingClientSecrectMkauthType","setLoadingClientSecrectMkauthType","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","sendGreetingMessageOneQueues","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","handleChangeUserRating","handleScheduleType","handleGroupType","handleCallType","handleChatbotType","handleSendGreetingAccepted","handleSettingsTransfTicket","handleSendGreetingMessageOneQueues","scrollButtons","handleChangeAsaas","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","findData","isSuper","handleTabChange","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","companiesPlans","setCompaniesPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","customValuePlans","setCustomValuePlans","loadCompanies","companiesList","plansCompanies","price","buttonText","buttonVariant","tiers","tier","StarIcon","CardContent","line","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","InputAdornment","handleEditUser","newContacts","contactIndex","Contacts","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","deletingAllContact","setDeletingAllContact","handleDeleteContact","go","handleDeleteAllContact","handleimportContact","CSVLink","separator","DeleteForeverIcon","hadleEditContact","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","renderTitle","handleOptionChangeTitle","SaveIcon","order","handleDeleteOption","renderMessage","handleOptionChangeMessage","renderStep","StepContent","optionNumber","handleAddOption","AddIcon","nonLinear","orientation","QueueOptions","fetchOptions","addOption","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","setIntegrations","queueIntegrations","handleSaveQueue","onFocus","Colorize","textField1","integration","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleCloseConfirmationModal","handleDeleteQueue","handleCloseQueueModal","handleOpenQueueModal","handleEditQueue","TagSchema","TagModal","tagId","kanban","setKanban","handleKanbanChange","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","deletingAllTags","setDeletingAllTags","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleDeleteAllTags","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","setFile","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","gap","helpPaper","shadows","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","addEventListener","removeEventListener","openVideoModal","Modal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","PeopleIcon","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","fileUploadRef","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","BlockIcon","path","require","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","basename","handleSaveQuickeMessage","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","toString","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","Route","Component","isPrivate","Redirect","RouterRoute","eventTitleStyle","textOverflow","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","day","previous","next","yesterday","tomorrow","today","agenda","noEventsInRange","showMore","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","Calendar","formats","agendaDateFormat","weekdayFormat","events","handleEditSchedule","end","startAccessor","endAccessor","tabmsg","campaigntab","CampaignSchema","CampaignModal","campaignId","tagListId","campaign","setCampaign","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","tagLists","setTagLists","formattedTagLists","catch","_ref5","prevCampaignData","entries","_ref6","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","fileListId","f","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","GroupIcon","DoneIcon","ListAltIcon","ScheduleIcon","EventAvailableIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","boxlist","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","chatlist","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","alert","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","_formatDate","past","abs","ceil","trialExpiration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","minRows","selectedFile","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","VisibilityOff","Visibility","redBox","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","xl","helpertext","handleTestSession","newIntegrations","integrationIndex","selectedIntegration","setSelectedIntegration","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","webhooks","typebot","handleEditIntegration","passwordRegex","ForgetPassword","showAdditionalFields","setShowAdditionalFields","showResetPasswordButton","setShowResetPasswordButton","showConfirmPassword","setShowConfirmPassword","setError","emailExists","setEmailExists","togglePasswordVisibility","toggleConfirmPasswordVisibility","handleSendEmail","isResetPasswordButtonClicked","newPassword","matches","confirmPassword","when","is","oneOf","otherwise","handleResetPassword","VisibilityOffIcon","Routes","BrowserRouter","exact","Signup","TicketResponsiveContainer","QuickMessages","Files","Financeiro","Annoucements","Subscription","Chat","ToastContainer","queryClient","QueryClient","App","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","textPrimary","borderPrimary","light","announcementspopover","boxchatlist","messageIcons","inputBackground","barraSuperior","mediainput","i18nlocale","ptBR","QueryClientProvider","client","ReactDOM"],"mappings":"kIAAAA,EAAOC,QAAU,IAA0B,4C,qNCI5BC,MAFUC,IAAMC,cAAc,CAAEC,gBAAiBA,S,usBCFhE,MCIMC,GAAW,CDHfC,GAAI,CACFC,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,uDACTC,KAAM,4DAERC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,YACRC,MAAO,gCAGXA,MAAO,CACLV,MAAO,QACPI,KAAM,CACJE,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,SACRE,SAAU,8BAGdC,MAAO,CACLR,KAAM,CACJC,KAAM,OACNQ,MAAO,cACPC,YAAa,cACbC,UAAW,YACXC,UAAW,eACXC,QAAS,cACTC,SAAU,gBACVC,MAAO,WACPC,OAAQ,UACRC,KAAM,SACNC,IAAK,MACLC,GAAI,SACJC,MAAO,OAGXC,UAAW,CACTzB,MAAO,oBACPI,KAAM,CACJC,KAAM,kBACNqB,KAAM,QACNC,MAAO,QACPlB,OAAQ,YACRP,QAAS,gCAGb0B,KAAM,CACJ3B,OAAQ,CACNC,QAAS,+BAEXyB,MAAO,SAETE,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACN/B,MAAO,yBAIbc,YAAa,CACXd,MAAO,cACPC,OAAQ,CACN+B,QAAS,sDAEXC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,kEACfC,gBAAiB,cACjBC,kBACE,8DAEJ7B,QAAS,CACP8B,IAAK,qBACLC,WAAY,cACZC,SAAU,mBACVC,OAAQ,UACRC,MAAO,eACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZ7C,MAAO,yCACP8C,QACE,kHAEJL,OAAQ,CACNzC,MAAO,+BACP8C,QACE,4FAEJC,UAAW,CACT/C,MAAO,4BAETgD,QAAS,CACPhD,MAAO,yCACP8C,QACE,+JAGNG,MAAO,CACL5C,KAAM,OACN6C,OAAQ,SACRC,WAAY,8BACZC,QAAS,YACTC,QAAS,cACTC,QAAS,cAGbC,cAAe,CACbvD,MAAO,CACLsC,IAAK,qBACLkB,KAAM,mBAEbC,KAAM,CACCC,QAAS,QACT9D,SAAU,YACV+D,YAAa,mBACbC,aAAc,oBACd5C,UAAW,4BAEbZ,KAAM,CACJC,KAAM,OACN+C,QAAS,YACTS,YAAa,OACbC,cAAe,sCACfC,iBAAkB,2BACxBC,kBAAmB,iCACbC,qBAAsB,mFACtBC,OAAQ,SAGRC,cAAe,2CACfC,uBAAwB,2CAC9BC,gBAAiB,6BACXC,kBAAmB,2BACzBT,YAAa,QAETrD,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVvE,QAAS,+BAEXwE,OAAQ,CACNC,QAAS,0CAEXC,SAAU,CACR5E,MAAO,WACPC,OAAQ,CACN+B,QAAS,mCACf6C,WAAY,4CAEZC,kBAAmB,eACb7C,kBAAmB,CACnBC,YAAa,WACb6C,eAAgB,gBAChBC,YAAa,oBACb7C,cAAe,gGACf8C,iBAAkB,qGAClBC,cAAe,kDAEjB1E,QAAS,CACP2E,OAAQ,oBACR7C,IAAK,oBACL8C,OAAQ,oBACRhE,OAAQ,0BAEV6B,MAAO,CACL5C,KAAM,OACNgF,SAAU,WACV/E,MAAO,QACP+C,QAAS,gBAGbiC,sBAAuB,CACrBtF,MAAO,CACLsC,IAAK,oBACLkB,KAAM,kBAERpD,KAAM,CACJmF,GAAI,KACJC,KAAM,OACNnF,KAAM,OACNoF,YAAa,kBACbC,SAAU,YACVC,YAAa,cACbC,OAAQ,MACRC,YAAa,iBACbC,eAAgB,6CAChBC,qBAAsB,kCACtBC,sBAAuB,iCACvBC,sBAAuB,mCACvBC,sBAAuB,sCACvBC,oBAAqB,kCAEvB3F,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,WACR2B,KAAM,cAERxG,SAAU,CACRyG,YAAa,wCACbC,WAAY,2CACZC,YAAa,0CAGpBC,SAAU,CACDnG,KAAM,uBACNoG,KAAM,uDACNC,QAAS,CACPzF,QAAS,SACTC,SAAU,YAGlByF,YAAa,CACXvG,KAAM,CACJC,KAAM,OACN6D,OAAQ,SACR0C,MAAO,MACPC,WAAY,kCACZC,YAAa,cACbC,OAAQ,UACRC,aAAc,yCACdC,SAAU,sBACVC,YAAa,oBAEfhH,QAAS,4BACTF,MAAO,CACLsC,IAAK,mBACLkB,KAAM,iBAERhD,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZ0C,QAAS,CACPnH,MAAO,UACPiD,MAAO,CACL5C,KAAM,OACN+G,MAAO,aACPP,WAAY,4BACZxD,QAAS,eAEXpB,kBAAmB,CACjBC,YAAa,UACbC,cAAe,mEAEjB3B,QAAS,CACP8B,IAAK,qBAGT+E,aAAc,CACZrH,MAAO,CACLsC,IAAK,oBACLkB,KAAM,kBAERpD,KAAM,CACJkH,SAAU,mBACVC,UAAW,+BACXlH,KAAM,OACNmH,OAAQ,wBACRlH,MAAO,QACPmH,UAAW,gBACXC,WAAY,QACZrC,SAAU,uBAEZ7E,QAAS,CACPmH,aAAc,6BACdpD,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVvE,QAAS,8BAEX0H,WAAY,CACV5H,MAAO,CACLsC,IAAK,iBACLkB,KAAM,eAERpD,KAAM,CACJC,KAAM,OACNwH,MAAO,MACPxD,gBAAiB,6BACjBC,kBAAmB,2BACnBN,kBAAmB,iCACnB8D,cAAe,8BACfnG,MAAO,QACPoG,WAAY,sBACZC,cAAe,oBAEjBxH,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZwD,UAAW,CACTjI,MAAO,CACLsC,IAAK,uBACLkB,KAAM,qBAERpD,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,QACV2H,QAAS,SACT7C,SAAU,uBAEV8C,UAAW,iCACXC,iBAAkB,aAClBC,kBAAmB,gBAErB7H,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVvE,QAAS,iCAEXoI,cAAe,CACbtI,MAAO,CACLsC,IAAK,mBACLkB,KAAM,sBAERpD,KAAM,CACJmI,KAAM,WACNC,QAAS,UACTC,OAAQ,sBACRC,OAAQ,iBAEVlI,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVvE,QAAS,kCAEXyI,SAAU,CACR3I,MAAO,CACLsC,IAAK,WACLkB,KAAM,cAERpD,KAAM,CACJC,KAAM,OACNwH,MAAO,OAETrH,QAAS,CACP+D,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEVvE,QAAS,0BAEX0I,KAAM,CACJC,gBAAiB,oDAEnBC,QAAS,CACPC,OAAQ,CACNC,uBAAwB,2CACxBC,cAAe,wBAGnBC,eAAgB,CACd1I,QAAS,CACP2I,UAAW,SAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACPrJ,OAAQ,CACN+B,QAAS,kDAEXuH,aAAc,CACZ5E,QAAS,eAEXlB,KAAM,CACJ+F,KAAM,CAAExJ,MAAO,WACfyJ,OAAQ,CAAEzJ,MAAO,cACjB0J,OAAQ,CAAE1J,MAAO,UAEnB0J,OAAQ,CACNL,YAAa,kCAEf7I,QAAS,CACPmJ,QAAS,UAGbC,oBAAqB,CACnB5J,MAAO,oBACP6J,WAAY,iCACZC,gBAAiB,uBACjBC,sBAAuB,qBACvBC,UAAW,6CACXxJ,QAAS,CACPyJ,GAAI,aACJxF,OAAQ,aAGZyF,YAAa,CACXC,cAAe,aACfC,eAAgB,YAChBC,eAAgB,aAChBC,iBACE,oEACF9J,QAAS,CACP+J,OAAQ,UACRd,OAAQ,YACRe,OAAQ,YAGZC,eAAgB,CACdzK,MAAO,eACP6J,WAAY,kCACZvH,IAAK,YACL9B,QAAS,CACPyJ,GAAI,SACJxF,OAAQ,aAGZiG,WAAY,CACVC,UAAW,CACT9I,UAAW,YACXf,YAAa,cACbwI,QAAS,eACTsB,cAAe,uBACfhG,SAAU,WACViG,OAAQ,kBACRC,KAAM,OACNC,eAAgB,sBAChBC,WAAY,gBACZnK,MAAO,cACPoK,SAAU,sBACVC,MAAO,QACPC,YAAa,MACbnK,UAAW,eACXD,UAAW,YACXqK,aAAc,eACdC,MAAO,eACPC,WAAY,aACZC,MAAO,oBACPpE,QAAS,UACTqE,iBAAkB,qBAEpBC,OAAQ,CACNC,YAAY,yBACZC,KAAM,CACJzD,QAAS,SACT0D,OAAQ,UAIdJ,iBAAkB,CAChBxL,MAAO,oBACPiD,MAAO,CACLsC,GAAI,KACJC,KAAM,OACNnF,KAAM,OACNoF,YAAa,kBACbC,SAAU,YACVvC,WAAY,2BACZE,QAAS,eAEX7C,QAAS,CACP8B,IAAK,qBAEPwC,kBAAmB,eACnB7C,kBAAmB,CACjBC,YAAa,UACbC,cACE,0HAGNoJ,MAAO,CACLvL,MAAO,oBACPiD,MAAO,CACL5C,KAAM,OACNuE,SAAU,WACVvB,QAAS,cAEXpD,OAAQ,CACN+B,QAAS,iCACT6C,WAAY,mDAEdrE,QAAS,CACP8B,IAAK,YACLuJ,UAAW,iBAEb5J,kBAAmB,CACjBC,YAAa,UACb6C,eAAgB,gBAChB5C,cAAe,6CACf8C,iBAAkB,oDAGtBkG,YAAa,CACXnL,MAAO,MACP8L,YAAa,CACXtE,OAAQ,YACRe,KAAM,WACN5G,MAAO,oBAEToK,aAAc,CACZvE,OAAQ,YACRe,KAAM,kBACNyD,MAAO,UACPrK,MAAO,qBAGXsK,cAAe,CACbC,UAAW,8BAEbtB,cAAe,CACb5K,MAAO,uBACP8E,kBAAmB,eACnBqH,aAAc,YACdlK,kBAAmB,CACjBC,YAAa,cACbC,cAAe,4DAEjB3B,QAAS,CACP8B,IAAK,YACL8J,OAAQ,iBACR3H,OAAQ,WACRjB,KAAM,UAERvD,OAAQ,CACNC,QAAS,iCACT8B,QAAS,gCAEXqK,OAAQ,CACNrM,MAAO,qBACPsM,UAAW,SACX3H,QAAS,WACTtD,KAAM,SACNoD,OAAQ,WACR8H,MAAO,kBACPjK,IAAK,YACLkB,KAAM,SACNgJ,MAAO,qBAETvJ,MAAO,CACLqJ,UAAW,SACX3H,QAAS,WACTtB,QAAS,cACToJ,UAAW,kBACXvJ,OAAQ,WAGZwJ,uBAAwB,CACtBC,MAAO,8BACPC,KAAM,CACJC,iBAAkB,gBAClBC,YAAa,OACbC,SAAU,iBACVC,eAAgB,YAChBC,KAAM,OACNC,KAAM,SAGVC,aAAc,CACZnN,MAAO,qBACPiD,MAAO,CACL5C,KAAM,OACNuE,SAAU,WACVvB,QAAS,eAEX7C,QAAS,CACP8B,IAAK,cAEP+J,OAAQ,CACNhM,KAAM,OACN+M,QAAS,UACT5I,OAAQ,SACRD,MAAO,YACPjC,IAAK,YACLkB,KAAM,SACNiB,OAAQ,YAEVxC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBlC,OAAQ,CACN+B,QAAS,yBAGbqL,iBAAkB,CAChBrN,MAAO,WACP8E,kBAAmB,WACnBtE,QAAS,CACP8B,IAAK,OACLgL,MAAO,SACPnI,OAAQ,YAEVkH,OAAQ,CACNhM,KAAM,OACNmH,OAAQ,YACRnC,SAAU,WACV/E,MAAO,SACPkE,OAAQ,SACRD,MAAO,YACPjC,IAAK,YACLkB,KAAM,SACNiB,OAAQ,YAEVxB,MAAO,CACL5C,KAAM,OACNmH,OAAQ,YACRnC,SAAU,WACV/E,MAAO,SACP+C,QAAS,eAEXpB,kBAAmB,CACjBC,YAAa,UACbC,cAAe,6CACf+C,cAAe,+CACfqI,aAAc,YAEhBtN,OAAQ,CACN+B,QAAS,yBAGbjB,UAAW,CACTf,MAAO,YACP8E,kBAAmB,WACnBtE,QAAS,CACP8B,IAAK,gBACL6K,aAAc,sBAEhBlK,MAAO,CACL5C,KAAM,OACNgF,SAAU,aACVmI,YAAa,oBACbtK,OAAQ,SACRuK,YAAa,cACbC,YAAa,eACbC,aAAc,oBACdtK,QAAS,eAEXgJ,OAAQ,CACNuB,IAAK,gBACLC,OAAQ,kBACRC,SAAU,4BACV1N,KAAM,CACJC,KAAM,OACN0N,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,SAAU,aACVC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,qBAAsB,kCACtBC,mBAAoB,0BACpBpJ,SAAU,aACVnC,OAAQ,SACRuK,YAAa,cACbE,aAAc,oBACdH,YAAa,mBACbkB,QAAS,gBACTC,SAAU,qBAEZnO,QAAS,CACP8B,IAAK,YACLkB,KAAM,YACNoL,MAAO,KACPnK,OAAQ,oBACRoK,QAAS,qBACTC,MAAO,SACP1C,OAAQ,mBAGZnK,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBlC,OAAQ,CACNC,QAAS,uCACTuE,OAAQ,qBACRoK,QAAS,sBACT7M,QAAS,yBAGb+M,cAAe,CACbC,OAAQ,QACRC,SAAU,UACVjP,MAAO,eACP8E,kBAAmB,WACnBtE,QAAS,CACP8B,IAAK,mBACL6K,aAAc,0BAEhBlK,MAAO,CACLiM,SAAU,aACVlP,MAAO,QACPmP,KAAM,QACN1C,UAAW,UACXvJ,OAAQ,SACRG,QAAS,eAEXgJ,OAAQ,CACN7I,KAAM,8BACNlB,IAAK,mBACLuL,OAAQ,qBACRC,SAAU,4BACV1N,KAAM,CACJ8O,SAAU,aACVlP,MAAO,QACPmP,KAAM,QACNC,UAAW,UACXlM,OAAQ,UAEV1C,QAAS,CACP8B,IAAK,YACLkB,KAAM,YACNoL,MAAO,KACPnK,OAAQ,WACRqK,MAAO,SACP1C,OAAQ,mBAGZnK,kBAAmB,CACjBC,YAAa,UACbC,cAAe,8CAEjBlC,OAAQ,CACNC,QAAS,uCACT8B,QAAS,yBAGbqN,gBAAiB,CACfrP,MAAO,oCAET6K,OAAQ,CACN7K,MAAO,kBACPiD,MAAO,CACXsC,GAAG,KACGlF,KAAM,OACNwH,MAAO,MACPkF,SAAU,6BACV1J,QAAS,cACT0E,WAAY,iCAEdvH,QAAS,CACP8B,IAAK,kBAEPL,kBAAmB,CACjBC,YAAa,UACbC,cACE,6KAGNmN,YAAa,CACXC,WAAY,SAEd1O,MAAO,CACLb,MAAO,cACPiD,MAAO,CACXsC,GAAI,KACElF,KAAM,OACNC,MAAO,QACP4H,QAAS,SACT7E,QAAS,eAEX7C,QAAS,CACP8B,IAAK,wBAEPrC,OAAQ,CACN+B,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,UACbC,cACE,0HAGN+I,MAAO,CACLlL,MAAO,oBAETgB,UAAW,CACThB,MAAO,eACPiC,kBAAmB,CACjBC,YAAa,yDACbC,cAAe,8CAEjBc,MAAO,CACLuF,QAAS,UACTD,KAAM,WACNE,OAAQ,sBACRC,OAAQ,gBACRxF,OAAQ,SACRG,QAAS,eAEX7C,QAAS,CACP8B,IAAK,oBAEPrC,OAAQ,CACN+B,QAAS,yCAGb8I,KAAM,CACJ9K,MAAO,OACPiC,kBAAmB,CACjBC,YAAa,iDACbC,cAAe,6CACrB8C,iBAAkB,gDAClBF,eAAgB,iBAEZ9B,MAAO,CACL5C,KAAM,OACNwH,MAAO,MACPyB,QAAS,mBACTjG,QAAS,eAEX7C,QAAS,CACP8B,IAAK,WACXuJ,UAAW,iBAEP5L,OAAQ,CACZ4E,WAAY,uCACN7C,QAAS,iCAGbiJ,SAAU,CACR/K,QAAS,0CACTF,MAAO,sBACPiL,SAAU,CACRuE,aAAc,CACZnP,KAAM,8BACNqG,QAAS,CACPzF,QAAS,UACTC,SAAU,iBAKlBuO,aAAc,CACZC,OAAQ,CACNC,WAAY,qBACZnP,QAAS,CACPoP,OAAQ,WACRC,QAAS,WACTrF,OAAQ,UACRD,OAAQ,aAIduF,cAAe,CACbC,gBAAiB,sBACjBC,kBACE,yDACFC,YAAa,WAEfC,cAAe,CACbR,OAAQ,mBACRlP,QAAS,CACPgD,KAAM,kBAER+D,UAAW,4BAEb4I,UAAW,CACTnQ,MAAO,CACLsC,IAAK,8BACLkB,KAAM,4BAERhD,QAAS,CACP+D,MAAO,SACPC,OAAQ,SACRC,OAAQ,WACR2L,YAAa,qBAEfhQ,KAAM,CACJC,KAAM,4BACNsE,QAAS,oBACTyL,YAAa,oBACb3I,UAAW,mCACXC,WAAY,wBAEdxH,QAAS,wCAEXmQ,kBAAmB,CACjBC,SAAU,cACVlP,OAAQ,UACRmP,SAAU,aACVC,oBAAqB,+BACrBC,kBAAmB,CACjBzQ,MAAO,+BACP0Q,SAAU,mBACVrH,YAAa,uDAEfpH,kBAAmB,CACjBjC,MAAO,mBACb2Q,UAAW,cACLhM,QACE,+EAEJnE,QAAS,CACPY,OAAQ,UACRqD,OAAQ,aAGZxC,kBAAmB,CACjBzB,QAAS,CACPoQ,QAAS,KACTnM,OAAQ,aAGZoM,mBAAoB,CAClBzP,OAAQ,UACR0P,MAAO,YACP7O,kBAAmB,CACjBjC,MAAO,mBACP2E,QAAS,+CAGboM,cAAe,CACbC,sBAAuB,+CACvBC,sBACE,8EACFC,yBACE,4FACFC,uBACE,+FACFC,yBAA0B,uDAC1BC,wBACE,4FACFC,wBACE,0DACFC,qBACE,6EACFC,oBAAqB,yDACrBC,sBAAuB,uDACvBC,oBAAqB,uCACrBC,2BACE,qEACFC,kBAAmB,6DACnBC,uBAAwB,8CACxBC,qBAAsB,qDACtBC,qBAAsB,yCACtBC,oBAAqB,4CACrBC,kBAAmB,4CACnBC,kBAAmB,0CACnBC,qBAAsB,4CACtBC,oBAAqB,8CACrBC,mBACE,uEACFC,+BACE,gDACFC,2BACE,qFEv8BTC,GAAI,CACH1S,aAAc,CACbC,OAAQ,CACPC,MAAO,UACPC,OAAQ,CACPC,QAAS,2CACTC,KAAM,iDAEPC,KAAM,CACLC,KAAM,OACNC,MAAO,QACPC,SAAU,YAEXC,QAAS,CACRC,OAAQ,WACRC,MAAO,qCAGTA,MAAO,CACNV,MAAO,QACPI,KAAM,CACLE,MAAO,QACPC,SAAU,YAEXC,QAAS,CACRC,OAAQ,QACRE,SAAU,qCAGZiB,KAAM,CACL3B,OAAQ,CACPC,QAAS,wBAGX2B,UAAW,CACVC,OAAQ,CACPC,OAAQ,CACP/B,MAAO,qBAIVc,YAAa,CACZd,MAAO,cACPC,OAAQ,CACP+B,QAAS,4CAEVC,kBAAmB,CAClBC,YAAa,SACbC,cAAe,uCACfC,gBAAiB,aACjBC,kBAAmB,oDAEpB7B,QAAS,CACR8B,IAAK,eACLC,WAAY,aACZC,SAAU,YACVC,OAAQ,UACRC,MAAO,cACPC,WAAY,eAEbC,SAAU,CACTC,aAAc,CACb7C,MAAO,mCACP8C,QACC,kGAEFL,OAAQ,CACPzC,MAAO,2BACP8C,QACC,wFAEFC,UAAW,CACV/C,MAAO,0BAERgD,QAAS,CACRhD,MAAO,2CACP8C,QACC,qIAGHG,MAAO,CACN5C,KAAM,OACN6C,OAAQ,SACRC,WAAY,cACZC,QAAS,UACTC,QAAS,UACTC,QAAS,YAGXC,cAAe,CACdvD,MAAO,CACNsC,IAAK,eACLkB,KAAM,iBAEPpD,KAAM,CACLC,KAAM,OACN+C,QAAS,WAEV5C,QAAS,CACR+D,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETvE,QAAS,gCAEVwE,OAAQ,CACPC,QAAS,oCAEVC,SAAU,CACT5E,MAAO,WACPC,OAAQ,CACP+B,QAAS,gCAEV8C,kBAAmB,aACnB7C,kBAAmB,CAClBC,YAAa,SACbqL,aAAc,kBACdpL,cACC,kFACD+C,cAAe,sDAEhB1E,QAAS,CACR2E,OAAQ,kBACR7C,IAAK,eAENW,MAAO,CACN5C,KAAM,OACNgF,SAAU,WACV/E,MAAO,QACP+C,QAAS,YAGXgE,aAAc,CACbrH,MAAO,CACNsC,IAAK,cACLkB,KAAM,gBAEPpD,KAAM,CACLkH,SAAU,kBACVC,UAAW,yBACXlH,KAAM,OACNmH,OAAQ,kBACRlH,MAAO,QACPmH,UAAW,aACXC,WAAY,SAEblH,QAAS,CACRmH,aAAc,kBACdpD,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETvE,QAAS,+BAEV0H,WAAY,CACX5H,MAAO,CACNsC,IAAK,YACLkB,KAAM,cAEPpD,KAAM,CACLC,KAAM,OACNwH,MAAO,QACPxD,gBAAiB,oBAElB7D,QAAS,CACR+D,MAAO,MACPC,OAAQ,OACRC,OAAQ,WAGVwD,UAAW,CACVjI,MAAO,CACNsC,IAAK,WACLkB,KAAM,aAEPpD,KAAM,CACLC,KAAM,OACNC,MAAO,QACPC,SAAU,WACV2H,QAAS,WAEV1H,QAAS,CACR+D,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAETvE,QAAS,4BAEV0I,KAAM,CACLC,gBAAiB,sCAElBK,eAAgB,CACf1I,QAAS,CACR2I,UAAW,QAGbC,mBAAoB,CACnBC,YAAa,UAEdC,QAAS,CACRrJ,OAAQ,CACP+B,QAAS,4CAEVuH,aAAc,CACb5E,QAAS,gBAEVlB,KAAM,CACL+F,KAAM,CAAExJ,MAAO,SACfyJ,OAAQ,CAAEzJ,MAAO,YACjB0J,OAAQ,CAAE1J,MAAO,WAElB0J,OAAQ,CACPL,YAAa,gCAEd7I,QAAS,CACRmJ,QAAS,QAGXC,oBAAqB,CACpB5J,MAAO,kBACP6J,WAAY,2BACZG,UAAW,+BACXxJ,QAAS,CACRyJ,GAAI,WACJxF,OAAQ,WAGVyF,YAAa,CACZC,cAAe,QACfC,eAAgB,aAChBC,eAAgB,gBAChBC,iBAAkB,oDAClB9J,QAAS,CACR+J,OAAQ,WAGVE,eAAgB,CACfzK,MAAO,gBACP6J,WAAY,+BACZvH,IAAK,MACL9B,QAAS,CACRyJ,GAAI,OACJxF,OAAQ,WAGViG,WAAY,CACXC,UAAW,CACV9I,UAAW,YACXf,YAAa,cACbwI,QAAS,UACT1E,SAAU,WACViG,OAAQ,SACRE,eAAgB,iBAChBlK,MAAO,QACPoK,SAAU,YAEXQ,OAAQ,CACPE,KAAM,CACLzD,QAAS,UACT0D,OAAQ,YAIXK,cAAe,CACdC,UAAW,qBAEZrB,OAAQ,CACP7K,MAAO,SACPiD,MAAO,CACN5C,KAAM,OACNwH,MAAO,QACPkF,SAAU,mBACV1J,QAAS,WAEV7C,QAAS,CACR8B,IAAK,aAENL,kBAAmB,CAClBC,YAAa,SACbC,cACC,wHAGHmN,YAAa,CACZC,WAAY,UAEb1O,MAAO,CACNb,MAAO,QACPiD,MAAO,CACN5C,KAAM,OACNC,MAAO,QACP4H,QAAS,UACT7E,QAAS,WAEV7C,QAAS,CACR8B,IAAK,YAENrC,OAAQ,CACP+B,QAAS,6BAEVC,kBAAmB,CAClBC,YAAa,SACbC,cACC,4EAGH8I,SAAU,CACT/K,QAAS,+BACTF,MAAO,WACPiL,SAAU,CACTuE,aAAc,CACbnP,KAAM,gBACNqG,QAAS,CACRzF,QAAS,UACTC,SAAU,eAKduO,aAAc,CACbC,OAAQ,CACPC,WAAY,eACZnP,QAAS,CACRoP,OAAQ,SACRC,QAAS,UACTrF,OAAQ,SACRD,OAAQ,YAIXuF,cAAe,CACdC,gBAAiB,iBACjBC,kBAAmB,kDACnBC,YAAa,QAEdC,cAAe,CACdR,OAAQ,kBACRlP,QAAS,CACRgD,KAAM,gBAEP+D,UAAW,qBAEZ8I,kBAAmB,CAClBjP,OAAQ,SACRmP,SAAU,WACVtO,kBAAmB,CAClBjC,MAAO,kBACP2Q,UAAW,gBACXhM,QAAS,0DAEVnE,QAAS,CACRY,OAAQ,SACRqD,OAAQ,WAGVxC,kBAAmB,CAClBzB,QAAS,CACRoQ,QAAS,KACTnM,OAAQ,WAGVoM,mBAAoB,CACnBzP,OAAQ,SACR0P,MAAO,QACP7O,kBAAmB,CAClBjC,MAAO,kBACP2E,QAAS,oCAGXoM,cAAe,CACdC,sBACC,yDACDC,sBACC,qDACDC,yBACC,oEACDC,uBACC,4DACDC,yBAA0B,uCAC1BC,wBACC,kEACDC,wBAAyB,0CACzBC,qBACC,0DACDC,oBAAqB,yCACrBC,sBACC,mDACDC,oBAAqB,iCACrBC,2BACC,+CACDC,kBAAmB,qDACnBC,uBAAwB,6CACxBC,qBAAsB,iCACtBC,qBAAsB,iCACtBC,oBAAqB,gCACrBC,kBAAmB,8BACnBC,kBAAmB,kCACnBC,qBAAsB,4CACtBC,oBAAqB,2CACrBC,mBACC,+DACDC,+BACC,kDACDC,2BACC,mECpZHE,GAAI,CACF3S,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,yDACTC,KAAM,2DAERC,KAAM,CACJC,KAAM,SACNC,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,cACRC,MAAO,oDAGXA,MAAO,CACLV,MAAO,oBACPI,KAAM,CACJE,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,oBACRE,SAAU,4CAGdC,MAAO,CACLR,KAAM,CACJC,KAAM,SACNQ,MAAO,WACPC,YAAa,aACbC,UAAW,cACXC,UAAW,iBACXC,QAAS,cACTC,SAAU,iBACVC,MAAO,WACPC,OAAQ,WACRC,KAAM,UACNC,IAAK,QACLC,GAAI,KACJC,MAAO,OAGXC,UAAW,CACTzB,MAAO,oBACPI,KAAM,CACJC,KAAM,uBACNqB,KAAM,OACNC,MAAO,QACPlB,OAAQ,YACRP,QAAS,qCAGb0B,KAAM,CACJ3B,OAAQ,CACNC,QAAS,oCAEXyB,MAAO,SAETE,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACN/B,MAAO,yBAIbc,YAAa,CACXd,MAAO,aACPC,OAAQ,CACN+B,QAAS,wDAEXC,kBAAmB,CACjBC,YAAa,WACbC,cAAe,4DACfC,gBAAiB,cACjBC,kBACE,kEAEJ7B,QAAS,CACP8B,IAAK,mBACLC,WAAY,cACZC,SAAU,oBACVC,OAAQ,eACRC,MAAO,qBACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZ7C,MAAO,yCACP8C,QACE,+HAEJL,OAAQ,CACNzC,MAAO,qCACP8C,QACE,0GAEJC,UAAW,CACT/C,MAAO,gCAETgD,QAAS,CACPhD,MAAO,iDACP8C,QACE,2KAGZG,MAAO,CACP5C,KAAM,SACN6C,OAAQ,SACRC,WAAY,6BACZC,QAAS,iBACTC,QAAS,WACTC,QAAS,aAEXC,cAAe,CACbvD,MAAO,CACLsC,IAAK,mBACLkB,KAAM,mBAERC,KAAM,CACJC,QAAS,UACT9D,SAAU,WACV+D,YAAa,eACbC,aAAc,gBACd5C,UAAW,yBAEbZ,KAAM,CACJC,KAAM,SACN+C,QAAS,iBACTS,YAAa,OACbC,cAAe,oCACfC,iBAAkB,yBAClBC,kBAAmB,iCACnBC,qBAAsB,sEACtBC,OAAQ,SACRC,cAAe,gDACfC,uBAAwB,oCACxBC,gBAAiB,oBACjBC,kBAAmB,2BACnBT,YAAa,QAEfrD,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVvE,QAAS,mCAEXwE,OAAQ,CACNC,QAAS,8CAEXC,SAAU,CACR5E,MAAO,YACPC,OAAQ,CACN+B,QAAS,mCACT6C,WAAY,gDAEdC,kBAAmB,YACnB7C,kBAAmB,CACjBC,YAAa,YACb6C,eAAgB,iBAChBC,YAAa,qBACb7C,cAAe,8FACf8C,iBAAkB,oGAClBC,cAAe,2DAEjB1E,QAAS,CACP2E,OAAQ,qBACR7C,IAAK,mBACL8C,OAAQ,qBACRhE,OAAQ,4BAEV6B,MAAO,CACL5C,KAAM,SACNgF,SAAU,WACV/E,MAAO,wBACP+C,QAAS,aAGbiC,sBAAuB,CACrBtF,MAAO,CACLsC,IAAK,mBACLkB,KAAM,mBAERpD,KAAM,CACJmF,GAAI,KACJC,KAAM,OACNnF,KAAM,SACNoF,YAAa,sBACbC,SAAU,WACVC,YAAa,cACbC,OAAQ,MACRC,YAAa,iBACbC,eAAgB,qDAChBC,qBAAsB,mCACtBC,sBAAuB,kCACvBC,sBAAuB,0CACvBC,sBAAuB,mCACvBC,oBAAqB,iCAEvB3F,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,WACR2B,KAAM,cAERxG,SAAU,CACRyG,YAAa,uCACbC,WAAY,wCACZC,YAAa,yCAGjBC,SAAU,CACRnG,KAAM,0BACNoG,KAAM,mEACNC,QAAS,CACPzF,QAAS,UACTC,SAAU,YAGdyF,YAAa,CACXvG,KAAM,CACJC,KAAM,SACN6D,OAAQ,SACR0C,MAAO,MACPC,WAAY,sCACZC,YAAa,cACbC,OAAQ,UACRC,aAAc,wCACdC,SAAU,yBACVC,YAAa,oBAEfhH,QAAS,gCACTF,MAAO,CACLsC,IAAK,iBACLkB,KAAM,iBAERhD,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,aAGZ0C,QAAS,CACPnH,MAAO,UACPiD,MAAO,CACL5C,KAAM,SACN+G,MAAO,cACPP,WAAY,6BACZxD,QAAS,YAEXpB,kBAAmB,CACjBC,YAAa,WACbC,cAAe,gEAEjB3B,QAAS,CACP8B,IAAK,mBAGT+E,aAAc,CACZrH,MAAO,CACLsC,IAAK,mBACLkB,KAAM,mBAERpD,KAAM,CACJkH,SAAU,qBACVC,UAAW,2BACXlH,KAAM,SACNmH,OAAQ,wBACRlH,MAAO,QACPmH,UAAW,mBACXC,WAAY,QACZrC,SAAU,wBAEZ7E,QAAS,CACPmH,aAAc,yBACdpD,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVvE,QAAS,mCAEX0H,WAAY,CACV5H,MAAO,CACLsC,IAAK,eACLkB,KAAM,eAERpD,KAAM,CACJC,KAAM,SACNwH,MAAO,QACPxD,gBAAiB,oBACjBC,kBAAmB,2BACnBN,kBAAmB,8BACnB8D,cAAe,2BACfnG,MAAO,QACPoG,WAAY,yBACZC,cAAe,kBAEjBxH,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,aAGZwD,UAAW,CACTjI,MAAO,CACLsC,IAAK,kBACLkB,KAAM,kBAERpD,KAAM,CACJC,KAAM,SACNC,MAAO,QACPC,SAAU,gBACV2H,QAAS,SACT7C,SAAU,6BAEV8C,UAAW,8BACXC,iBAAkB,aAClBC,kBAAmB,iBAErB7H,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVvE,QAAS,kCAEXoI,cAAe,CACbtI,MAAO,CACLsC,IAAK,qBACLkB,KAAM,uBAERpD,KAAM,CACJmI,KAAM,UACNC,QAAS,WACTC,OAAQ,wBACRC,OAAQ,qBAEVlI,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVvE,QAAS,uCAEXyI,SAAU,CACR3I,MAAO,CACLsC,IAAK,iBACLkB,KAAM,mBAERpD,KAAM,CACJC,KAAM,SACNwH,MAAO,SAETrH,QAAS,CACP+D,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEVvE,QAAS,mCAEX0I,KAAM,CACJC,gBAAiB,mDAEnBC,QAAS,CACPC,OAAQ,CACNC,uBAAwB,+CACxBC,cAAe,wBAGnBC,eAAgB,CACd1I,QAAS,CACP2I,UAAW,UAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACPrJ,OAAQ,CACN+B,QAAS,sDAEXuH,aAAc,CACZ5E,QAAS,cAEXlB,KAAM,CACJ+F,KAAM,CAAExJ,MAAO,YACfyJ,OAAQ,CAAEzJ,MAAO,aACjB0J,OAAQ,CAAE1J,MAAO,gBAEnB0J,OAAQ,CACNL,YAAa,iCAEf7I,QAAS,CACPmJ,QAAS,UAGbC,oBAAqB,CACjB5J,MAAO,oBACP6J,WAAY,+BACZC,gBAAiB,oBACjBC,sBAAuB,sBACvBC,UAAW,4CACXxJ,QAAS,CACPyJ,GAAI,aACJxF,OAAQ,aAGZyF,YAAa,CACXC,cAAe,YACfC,eAAgB,aAChBC,eAAgB,oBAChBC,iBACE,wEACF9J,QAAS,CACP+J,OAAQ,UACRd,OAAQ,YACRe,OAAQ,YAGZC,eAAgB,CACdzK,MAAO,eACP6J,WAAY,kCACZvH,IAAK,UACL9B,QAAS,CACPyJ,GAAI,UACJxF,OAAQ,aAGZiG,WAAY,CACVC,UAAW,CACT9I,UAAW,UACXf,YAAa,aACbwI,QAAS,UACTsB,cAAe,wBACfhG,SAAU,YACViG,OAAQ,kBACRC,KAAM,YACNC,eAAgB,oBAChBlK,MAAO,WACPoK,SAAU,kBACVC,MAAO,QACPC,YAAa,MACbnK,UAAW,gBACXD,UAAW,cACXqK,aAAc,WACdC,MAAO,eACPC,WAAY,aACZC,MAAO,oBACPpE,QAAS,UACTqE,iBAAkB,iBAEpBC,OAAQ,CACNC,YAAY,qBACZC,KAAM,CACJzD,QAAS,SACT0D,OAAQ,WAIdJ,iBAAkB,CAChBxL,MAAO,gBACPiD,MAAO,CACLsC,GAAI,KACJC,KAAM,OACNnF,KAAM,SACNoF,YAAa,sBACbC,SAAU,SACVvC,WAAY,6BACZE,QAAS,YAEX7C,QAAS,CACP8B,IAAK,oBAEPwC,kBAAmB,YACnB7C,kBAAmB,CACjBC,YAAa,WACbC,cACE,yHAGNoJ,MAAO,CACLvL,MAAO,oBACPiD,MAAO,CACL5C,KAAM,SACNuE,SAAU,YACVvB,QAAS,aAEXpD,OAAQ,CACN+B,QAAS,qCACT6C,WAAY,wDAEdrE,QAAS,CACP8B,IAAK,UACLuJ,UAAW,kBAEb5J,kBAAmB,CACjBC,YAAa,WACb6C,eAAgB,iBAChB5C,cAAe,yDACf8C,iBAAkB,iEAGtBkG,YAAa,CACXnL,MAAO,MACP8L,YAAa,CACXtE,OAAQ,YACRe,KAAM,UACN5G,MAAO,oBAEToK,aAAc,CACZvE,OAAQ,YACRe,KAAM,qBACNyD,MAAO,UACPrK,MAAO,qBAGXsK,cAAe,CACbC,UAAW,0BAEbtB,cAAe,CACb5K,MAAO,wBACP8E,kBAAmB,YACnBqH,aAAc,cACdlK,kBAAmB,CACjBC,YAAa,iBACbC,cAAe,8DAEjB3B,QAAS,CACP8B,IAAK,UACL8J,OAAQ,mBACR3H,OAAQ,WACRjB,KAAM,UAERvD,OAAQ,CACNC,QAAS,oCACT8B,QAAS,sCAEXqK,OAAQ,CACNrM,MAAO,oBACPsM,UAAW,QACX3H,QAAS,YACTtD,KAAM,UACNoD,OAAQ,WACR8H,MAAO,kBACPjK,IAAK,UACLkB,KAAM,SACNgJ,MAAO,kBAETvJ,MAAO,CACLqJ,UAAW,QACX3H,QAAS,UACTtB,QAAS,WACToJ,UAAW,qBACXvJ,OAAQ,WAGZwJ,uBAAwB,CACtBC,MAAO,wBACPC,KAAM,CACJC,iBAAkB,gBAClBC,YAAa,SACbC,SAAU,SACVC,eAAgB,YAChBC,KAAM,QACNC,KAAM,SAGVC,aAAc,CACZnN,MAAO,sBACPiD,MAAO,CACL5C,KAAM,SACNuE,SAAU,YACVvB,QAAS,YAEX7C,QAAS,CACP8B,IAAK,eAEP+J,OAAQ,CACNhM,KAAM,SACN+M,QAAS,UACT5I,OAAQ,SACRD,MAAO,UACPjC,IAAK,UACLkB,KAAM,SACNiB,OAAQ,YAEVxC,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBlC,OAAQ,CACN+B,QAAS,uBAGbqL,iBAAkB,CAChBrN,MAAO,YACP8E,kBAAmB,cACnBtE,QAAS,CACP8B,IAAK,QACLgL,MAAO,SACPnI,OAAQ,YAEVkH,OAAQ,CACNhM,KAAM,SACNmH,OAAQ,YACRnC,SAAU,WACV/E,MAAO,wBACPkE,OAAQ,SACRD,MAAO,UACPjC,IAAK,UACLkB,KAAM,SACNiB,OAAQ,YAEVxB,MAAO,CACL5C,KAAM,SACNmH,OAAQ,YACRnC,SAAU,WACV/E,MAAO,wBACP+C,QAAS,YAEXpB,kBAAmB,CACjBC,YAAa,WACbC,cAAe,uCACf+C,cAAe,+DACfqI,aAAc,YAEhBtN,OAAQ,CACN+B,QAAS,uBAGbjB,UAAW,CACTf,MAAO,cACP8E,kBAAmB,cACnBtE,QAAS,CACP8B,IAAK,mBACL6K,aAAc,uBAEhBlK,MAAO,CACL5C,KAAM,SACNgF,SAAU,cACVmI,YAAa,qBACbtK,OAAQ,SACRuK,YAAa,aACbC,YAAa,aACbC,aAAc,kBACdtK,QAAS,YAEXgJ,OAAQ,CACNuB,IAAK,mBACLC,OAAQ,oBACRC,SAAU,eACV1N,KAAM,CACJC,KAAM,SACN0N,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,SAAU,YACVC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,qBAAsB,+BACtBC,mBAAoB,wBACpBpJ,SAAU,cACVnC,OAAQ,SACRuK,YAAa,aACbE,aAAc,kBACdH,YAAa,oBACbkB,QAAS,qBACTC,SAAU,qBAEZnO,QAAS,CACP8B,IAAK,UACLkB,KAAM,aACNoL,MAAO,KACPnK,OAAQ,WACRoK,QAAS,wBACTC,MAAO,SACP1C,OAAQ,qBAGZnK,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBlC,OAAQ,CACNC,QAAS,uCACTuE,OAAQ,uBACRoK,QAAS,0BACT7M,QAAS,uBAGb+M,cAAe,CACbC,OAAQ,SACRC,SAAU,WACVjP,MAAO,eACP8E,kBAAmB,cACnBtE,QAAS,CACP8B,IAAK,oBACL6K,aAAc,0BAEhBlK,MAAO,CACLiM,SAAU,YACVlP,MAAO,YACPmP,KAAM,QACN1C,UAAW,UACXvJ,OAAQ,SACRG,QAAS,YAEXgJ,OAAQ,CACN7I,KAAM,qBACNlB,IAAK,oBACLuL,OAAQ,qBACRC,SAAU,eACV1N,KAAM,CACJ8O,SAAU,YACVlP,MAAO,YACPmP,KAAM,QACNC,UAAW,UACXlM,OAAQ,UAEV1C,QAAS,CACP8B,IAAK,UACLkB,KAAM,aACNoL,MAAO,KACPnK,OAAQ,WACRqK,MAAO,SACP1C,OAAQ,qBAGZnK,kBAAmB,CACjBC,YAAa,WACbC,cAAe,wCAEjBlC,OAAQ,CACNC,QAAS,uCACT8B,QAAS,uBAGbqN,gBAAiB,CACfrP,MAAO,kCAET6K,OAAQ,CACN7K,MAAO,kBACPiD,MAAO,CACLsC,GAAG,KACHlF,KAAM,SACNwH,MAAO,QACPkF,SAAU,wBACV1J,QAAS,WACT0E,WAAY,0BAEdvH,QAAS,CACP8B,IAAK,gBAEPL,kBAAmB,CACjBC,YAAa,WACbC,cACE,+JAGNmN,YAAa,CACXC,WAAY,SAEd1O,MAAO,CACLb,MAAO,WACPiD,MAAO,CACRsC,GAAI,KACDlF,KAAM,SACNC,MAAO,QACP4H,QAAS,SACT7E,QAAS,YAEX7C,QAAS,CACP8B,IAAK,mBAEPrC,OAAQ,CACN+B,QAAS,oCAEXC,kBAAmB,CACjBC,YAAa,WACbC,cACE,8GAGN+I,MAAO,CACLlL,MAAO,mBAETgB,UAAW,CACThB,MAAO,gBACPiC,kBAAmB,CACjBC,YAAa,8DACbC,cAAe,wCAEjBc,MAAO,CACLuF,QAAS,WACTD,KAAM,UACNE,OAAQ,wBACRC,OAAQ,oBACRxF,OAAQ,SACRG,QAAS,YAEX7C,QAAS,CACP8B,IAAK,sBAEPrC,OAAQ,CACN+B,QAAS,0CAGb8I,KAAM,CACJ9K,MAAO,YACPiC,kBAAmB,CACjBC,YAAa,0DACbC,cAAe,uCAClB8C,iBAAkB,gEAClBF,eAAgB,kBAEf9B,MAAO,CACL5C,KAAM,SACNwH,MAAO,QACPyB,QAAS,sBACTjG,QAAS,YAEX7C,QAAS,CACP8B,IAAK,iBACRuJ,UAAW,kBAEV5L,OAAQ,CACT4E,WAAY,0DACT7C,QAAS,sCAGbiJ,SAAU,CACR/K,QAAS,2CACTF,MAAO,kBACPiL,SAAU,CACRuE,aAAc,CACZnP,KAAM,yBACNqG,QAAS,CACPzF,QAAS,aACTC,SAAU,oBAKlBuO,aAAc,CACZC,OAAQ,CACNC,WAAY,cACZnP,QAAS,CACPoP,OAAQ,SACRC,QAAS,WACTrF,OAAQ,UACRD,OAAQ,aAIduF,cAAe,CACbC,gBAAiB,qBACjBC,kBACE,sDACFC,YAAa,UAEfC,cAAe,CACbR,OAAQ,qBACRlP,QAAS,CACPgD,KAAM,mBAER+D,UAAW,4BAEb4I,UAAW,CACTnQ,MAAO,CACLsC,IAAK,4BACLkB,KAAM,4BAERhD,QAAS,CACP+D,MAAO,UACPC,OAAQ,SACRC,OAAQ,WACR2L,YAAa,mBAEfhQ,KAAM,CACJC,KAAM,iCACNsE,QAAS,uBACTyL,YAAa,oBACb3I,UAAW,kCACXC,WAAY,yBAEdxH,QAAS,6CAEXmQ,kBAAmB,CACjBC,SAAU,kBACVlP,OAAQ,WACRmP,SAAU,aACVC,oBAAqB,6BACrBC,kBAAmB,CACjBzQ,MAAO,6BACP0Q,SAAU,iBACVrH,YAAa,0DAEfpH,kBAAmB,CACjBjC,MAAO,qBACV2Q,UAAW,gBACRhM,QACE,kFAEJnE,QAAS,CACPY,OAAQ,WACRqD,OAAQ,aAGZxC,kBAAmB,CACjBzB,QAAS,CACPoQ,QAAS,KACTnM,OAAQ,aAGZoM,mBAAoB,CAClBzP,OAAQ,WACR0P,MAAO,YACP7O,kBAAmB,CACjBjC,MAAO,wBACP2E,QAAS,yCAGboM,cAAe,CACbC,sBAAuB,kDACvBC,sBACE,6FACFC,yBACE,0FACFC,uBACE,qFACFC,yBAA0B,iDAC1BC,wBACE,iFACFC,wBACE,+DACFC,qBACE,6EACFC,oBAAqB,8CACrBC,sBAAuB,+CACvBC,oBAAqB,mDACrBC,2BACE,yEACFC,kBAAmB,iDACnBC,uBAAwB,4CACxBC,qBAAsB,0DACtBC,qBAAsB,oDACtBC,oBAAqB,kDACrBC,kBAAmB,mDACnBC,kBAAmB,oDACnBC,qBAAsB,8CACtBC,oBAAqB,6CACrBC,mBACE,mEACFC,+BACE,4CACFC,2BACE,+DC/7BNG,KAAKC,IAAIC,MAAkBC,KAAK,CAC/BC,OAAO,EACPC,UAAW,CAAC,gBACZC,YAAa,KACbC,GAAI,CAAC,gBACLC,UAAWtT,K,aC+BGuT,OArCIC,IAAQ,IAADC,EAAAC,EACzB,MAAMC,EAAuB,QAAfF,EAAGD,EAAII,gBAAQ,IAAAH,GAAM,QAANC,EAAZD,EAAcI,YAAI,IAAAH,OAAN,EAAZA,EAAoBI,MACrC,OAAIH,EACCb,KAAKiB,OAAO,iBAADC,OAAkBL,SAChCM,IAAMH,MAAMhB,KAAKoB,EAAE,iBAADF,OAAkBL,IAAa,CAChDQ,QAASR,EACTS,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,eAIRV,IAAMH,MAAMH,EAAU,CACrBQ,QAASR,EACTS,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,EACVC,MAAO,UAIJC,oBAASpB,QACdS,IAAMH,MAAMN,QAGZS,IAAMH,MAAM,uB,qBClCd,MAAMe,GAAMC,KAAMC,OAAO,CACxBC,QAASC,kCACTC,iBAAiB,IAGLC,GAAUL,KAAMC,OAAO,CACnCC,QAASC,oCAGKJ,U,qBCRR,SAASO,GAAiBC,GAC/B,IAAIC,EAAS,KAIb,OAHIC,aAAaC,QAAQ,YACvBF,EAASC,aAAaC,QAAQ,WAEzBC,KAAWR,kCAAmC,CACnDS,WAAY,CAAC,YAAa,UAAW,eACrCC,YAAa,KACbC,aAAc,KACdC,MAAOC,oBAAST,GAAU,IAAKA,GAAU,CAAEC,OAAQD,EAAOC,UCN9D,MAAMS,GAAUA,CAACC,EAAOC,KACtB,GAAoB,mBAAhBA,EAAOrQ,KAA2B,CAGpC,MAAO,IAFWqQ,EAAOC,SAK3B,GAAoB,qBAAhBD,EAAOrQ,KAA6B,CACtC,MAAMuQ,EAAWF,EAAOC,QAClBE,EAAgBJ,EAAMK,UAAWC,GAAMA,EAAE3Q,KAAOwQ,EAASxQ,IAE/D,OAAuB,IAAnByQ,GACFJ,EAAMI,GAAiBD,EAChB,IAAIH,IAEJ,CAACG,KAAaH,GAIzB,GAAoB,mBAAhBC,EAAOrQ,KAA2B,CACpC,MAAMuQ,EAAWF,EAAOC,QAClBE,EAAgBJ,EAAMK,UAAWC,GAAMA,EAAE3Q,KAAOwQ,EAASxQ,IAE/D,OAAuB,IAAnByQ,GACFJ,EAAMI,GAAe9S,OAAS6S,EAAS7S,OACvC0S,EAAMI,GAAeG,UAAYJ,EAASI,UAC1CP,EAAMI,GAAevT,OAASsT,EAAStT,OACvCmT,EAAMI,GAAeI,QAAUL,EAASK,QACjC,IAAIR,IAEJ,IAAIA,GAIf,GAAoB,qBAAhBC,EAAOrQ,KAA6B,CACtC,MAAM6Q,EAAaR,EAAOC,QAEpBE,EAAgBJ,EAAMK,UAAWC,GAAMA,EAAE3Q,KAAO8Q,GAItD,OAHuB,IAAnBL,GACFJ,EAAMU,OAAON,EAAe,GAEvB,IAAIJ,GAGb,GAAoB,UAAhBC,EAAOrQ,KACT,MAAO,IAqDI+Q,OAjDMA,KACnB,MAAOC,EAAWC,GAAYC,qBAAWf,GAAS,KAC3CgB,EAASC,GAAcC,oBAAS,GA4CvC,OA1CAC,oBAAU,KACRF,GAAW,GACUG,WACnB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,wBAC/BP,EAAS,CAAEjR,KAAM,iBAAkBsQ,QAASrC,IAC5CmD,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAGf6D,IACC,IAEHH,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAoBlC,OAlBAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,aAAczD,IACtB,WAAhBA,EAAKoC,QACPY,EAAS,CAAEjR,KAAM,mBAAoBsQ,QAASrC,EAAKpO,aAIvD8R,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,aAAczD,IACtB,WAAhBA,EAAKoC,QACPY,EAAS,CAAEjR,KAAM,mBAAoBsQ,QAASrC,EAAK4D,eAIvDF,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,oBAAqBzD,IAC7B,WAAhBA,EAAKoC,QACPY,EAAS,CAAEjR,KAAM,iBAAkBsQ,QAASrC,EAAKnQ,YAI9C,KACL6T,EAAO5U,eAER,IAEI,CAAEiU,YAAWG,YCjGtB,MAAMW,GAAmB5X,0BAEnB6X,GAAoBC,IAAmB,IAAlB,SAAEC,GAAUD,EACtC,MAAM,QAAEb,EAAO,UAAEH,GAAcD,KAE/B,OACC9W,IAAAiY,cAACJ,GAAiBK,SAAQ,CAACC,MAAO,CAAEpB,YAAWG,YAC7Cc,ICiLWI,OAjLCA,KACd,MAAMC,EAAUC,wBACTC,EAAQC,GAAapB,oBAAS,IAC9BF,EAASC,GAAcC,oBAAS,IAChClL,EAAMuM,GAAWrB,mBAAS,IAEjCpC,GAAI0D,aAAaC,QAAQzF,IACtB0F,IACC,MAAM1W,EAAQwT,aAAaC,QAAQ,SAKnC,OAJIzT,IACF0W,EAAOC,QAAuB,cAAC,UAAA1E,OAAa2E,KAAKC,MAAM7W,IACvDsW,GAAU,IAELI,GAER3E,IACC+E,QAAQC,OAAOhF,KAInBe,GAAI0D,aAAa3E,SAASb,IACvBa,GACQA,EAETuD,UAAkB,IAAD4B,EAAAC,EACf,MAAMC,EAAkBnF,EAAM2E,OAC9B,GAAgC,OAAvB,OAAL3E,QAAK,IAALA,GAAe,QAAViF,EAALjF,EAAOF,gBAAQ,IAAAmF,OAAV,EAALA,EAAiBzV,UAAmB2V,EAAgBC,OAAQ,CAC9DD,EAAgBC,QAAS,EAEzB,MAAM,KAAErF,SAAegB,GAAIsE,KAAK,uBAKhC,OAJItF,IACF0B,aAAa6D,QAAQ,QAAST,KAAKU,UAAUxF,EAAK9R,QAClD8S,GAAIyE,SAASZ,QAAQa,cAAa,UAAAvF,OAAaH,EAAK9R,QAE/C8S,GAAIoE,GAQb,OANgC,OAAvB,OAALnF,QAAK,IAALA,GAAe,QAAVkF,EAALlF,EAAOF,gBAAQ,IAAAoF,OAAV,EAALA,EAAiB1V,UACnBiS,aAAaiE,WAAW,SACxBjE,aAAaiE,WAAW,aACxB3E,GAAIyE,SAASZ,QAAQa,mBAAgB7E,EACrC2D,GAAU,IAELQ,QAAQC,OAAOhF,KAI1BoD,oBAAU,KACR,MAAMnV,EAAQwT,aAAaC,QAAQ,SACnC,WACE,GAAIzT,EACF,IACE,MAAM,KAAE8R,SAAegB,GAAIsE,KAAK,uBAChCtE,GAAIyE,SAASZ,QAAQa,cAAa,UAAAvF,OAAaH,EAAK9R,OACpDsW,GAAU,GACVC,EAAQzE,EAAK9H,MACb,MAAOyH,GACPD,GAAWC,GAGfwD,GAAW,IAXb,IAaC,IAEHE,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACvC,GAAI8B,EAAW,CAEf,MAAMC,EAASnC,GAAiB,CAAEkC,cASlC,OAPEC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IAClB,WAAhBA,EAAKoC,QAAuBpC,EAAK9H,KAAKpG,KAAOoG,EAAKpG,IACpD2S,EAAQzE,EAAK9H,QAKZ,KACLwL,EAAO5U,gBAIR,CAACoJ,IAsFJ,MAAO,CACLqM,SACArM,OACAgL,UACA0C,YAxFkBtC,UAClBH,GAAW,GAEX,IACE,MAAM,KAAEnD,SAAegB,GAAIsE,KAAK,cAAeO,IAE7C3N,MAAM,UAAEuL,EAAS,GAAE3R,EAAE,QAAE6H,IACrBqG,EAEJ,GAAI8F,eAAInM,EAAS,aAAeoM,mBAAQpM,EAAQnC,UAAW,CACzD,MAAMwO,EAAUrM,EAAQnC,SAASyO,KAC9BxD,GAAgB,qBAAVA,EAAEyD,KAEPF,GAA6B,SAAlBA,EAAQ7B,OACrBzC,aAAa6D,QAAQ,QAAS,MAIlCY,IAAOC,OAAO,SACd,MAAMC,EAAUrG,EAAK9H,KAAKyB,QAAQ0M,QAE5BC,GADOH,IAAOA,OAAUI,OAAO,cAClBJ,IAAOE,GAASE,OAAO,eAE1C,IAAIC,EAAOL,IAAOE,GAASG,KAAKL,IAAOA,OAAUI,UAE7CE,EAASN,IAAOA,MAASI,UAAUG,SAASL,GAC5CM,EAAOR,IAAOS,SAASJ,GAAMK,UAElB,IAAXJ,GACF/E,aAAa6D,QAAQ,QAAST,KAAKU,UAAUxF,EAAK9R,QAClDwT,aAAa6D,QAAQ,YAAa9B,GAClC/B,aAAa6D,QAAQ,SAAUzT,GAC/B4P,aAAa6D,QAAQ,iBAAkBe,GACvCtF,GAAIyE,SAASZ,QAAQa,cAAa,UAAAvF,OAAaH,EAAK9R,OACpDuW,EAAQzE,EAAK9H,MACbsM,GAAU,GACVpE,IAAM3T,QAAQwS,KAAKoB,EAAE,wBACjByG,KAAKC,MAAMJ,GAAQ,GACrBvG,IAAM4G,KAAK,2BAAD7G,OAA4B2G,KAAKC,MAAMJ,GAAK,KAAAxG,OAAyB,IAArB2G,KAAKC,MAAMJ,GAAc,MAAQ,OAAM,MAEnGtC,EAAQ4C,KAAK,YACb9D,GAAW,KAEXzD,GAAW,+BAADS,OAAgCmG,EAAU,oEAEpDnD,GAAW,IAIb,MAAOxD,GACPD,GAAWC,GACXwD,GAAW,KAsCb+D,aAlCmB5D,UACnBH,GAAW,GAEX,UACQnC,GAAIrT,OAAO,gBACjB6W,GAAU,GACVC,EAAQ,IACR/C,aAAaiE,WAAW,SACxBjE,aAAaiE,WAAW,aACxBjE,aAAaiE,WAAW,UACxBjE,aAAaiE,WAAW,SACxB3E,GAAIyE,SAASZ,QAAQa,mBAAgB7E,EACrCsC,GAAW,GACXkB,EAAQ4C,KAAK,UACb,MAAOtH,GACPD,GAAWC,GACXwD,GAAW,KAmBbgE,mBAfyB7D,UACzB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,YAC/B,OAAOvD,EACP,MAAOL,GACPD,GAAWC,OC1KjB,MAAMyH,GAAcnb,0BAEdob,GAAetD,IAAmB,IAAlB,SAAEC,GAAUD,EACjC,MAAM,QAAEb,EAAO,KAAEhL,EAAI,OAAEqM,EAAM,YAAEqB,EAAW,aAAEsB,GAAiB9C,KAE7D,OACCpY,IAAAiY,cAACmD,GAAYlD,SAAQ,CACpBC,MAAO,CAAEjB,UAAShL,OAAMqM,SAAQqB,cAAasB,iBAE5ClD,ICQWsD,OArBD,CACbpP,KAAM,CACLqP,OAAQ,IAGTC,MAAO,CACND,OAAQ,CACP,iBACA,0BACA,0BACA,yBACA,wBACA,8BACA,8BACA,iCACA,iCACA,6CCdH,MA4BME,GAAM1D,IAAA,IAAC,KAAE2D,EAAI,QAAEC,EAAO,KAAE3H,EAAI,IAAEnS,EAAG,GAAEC,GAAIiW,EAAA,MA5B/B6D,EAACF,EAAMtF,EAAQpC,KAC5B,MAAM6H,EAAcP,GAAMI,GAC1B,IAAKG,EAEJ,OAAO,EAGR,MAAMC,EAAoBD,EAAYN,OAEtC,GAAIO,GAAqBA,EAAkBC,SAAS3F,GAEnD,OAAO,EAGR,MAAM4F,EAAqBH,EAAYI,QAEvC,GAAID,EAAoB,CACvB,MAAME,EAAsBF,EAAmB5F,GAC/C,QAAK8F,GAKEA,EAAoBlI,GAE5B,OAAO,GAIP4H,CAAMF,EAAMC,EAAS3H,GAAQnS,IAAQC,KAEtC2Z,GAAIU,aAAe,CAClBta,IAAKA,IAAM,KACXC,GAAIA,IAAM,M,uHCvBX,MAAMsa,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,OAAQ,QAEVC,eAAgB,CACdJ,QAAS,OACTK,MAAO,OACPC,aAAc,QAEhBC,MAAO,CACLC,SAAU,EACVC,YAAa,QAEfC,cAAe,CACbL,MAAO,OACPM,OAAQ,OACRC,UAAW,OACXC,gBAAiB,UACjBC,aAAc,OAEhBC,KAAM,CACJT,aAAc,SA8FHU,OA1FEA,KACf,MAAMC,EAAUpB,MAETqB,EAAMC,GAAWtG,mBAAS,KAC1BuG,EAAOC,GAAYxG,mBAAS,KAC5ByG,EAAWC,GAAgB1G,oBAAU,GAE5CC,oBAAU,KACR,MAAM0G,EAAarI,aAAaC,QAAQ,SACpCoI,GACFH,EAAS9E,KAAKC,MAAMgF,KAErB,IAEH1G,oBAAU,KACR3B,aAAa6D,QAAQ,QAAST,KAAKU,UAAUmE,KAC5C,CAACA,IAsCJ,OACE3d,IAAAiY,cAAA,OAAK+F,UAAWR,EAAQlB,MACtBtc,IAAAiY,cAAA,OAAK+F,UAAWR,EAAQb,gBACtB3c,IAAAiY,cAACgG,KAAS,CACRD,UAAWR,EAAQV,MACnB5P,MAAM,cACNiL,MAAOsF,EACPS,SA3CkBC,IACxBT,EAAQS,EAAMC,OAAOjG,QA2CfkG,QAAQ,aAEVre,IAAAiY,cAACqG,KAAM,CAACD,QAAQ,YAAYjW,MAAM,UAAUmW,QA1C5BC,KACpB,IAAKf,EAAKgB,OAER,OAGF,MAAMC,EAAM,IAAIC,KAChB,GAAId,GAAa,EAAG,CAElB,MAAMe,EAAW,IAAIjB,GACrBiB,EAASf,GAAa,CAACnO,KAAM+N,EAAM/G,UAAWgI,EAAKG,UAAWD,EAASf,GAAWgB,WAClFjB,EAASgB,GACTlB,EAAQ,IACRI,GAAc,QAGdF,EAAS,IAAID,EAAO,CAACjO,KAAM+N,EAAMoB,UAAWH,EAAKhI,UAAWgI,KAC5DhB,EAAQ,MA0BHG,GAAa,EAAI,SAAW,cAGjC7d,IAAAiY,cAAA,OAAK+F,UAAWR,EAAQP,eACtBjd,IAAAiY,cAAC6G,IAAI,KACFnB,EAAMoB,IAAI,CAACtB,EAAMuB,IAChBhf,IAAAiY,cAACgH,IAAQ,CAAC/E,IAAK8E,EAAOhB,UAAWR,EAAQF,MACvCtd,IAAAiY,cAACiH,IAAY,CAACC,QAAS1B,EAAK/N,KAAM0P,UAAW3B,EAAK/G,UAAU2I,mBAC5Drf,IAAAiY,cAACqH,KAAuB,KACtBtf,IAAAiY,cAACsH,IAAU,CAAChB,QAASA,IA/BXS,KACtBtB,EAAQC,EAAMqB,GAAOtP,MACrBoO,EAAakB,IA6B0BQ,CAAeR,IACxChf,IAAAiY,cAACwH,KAAQ,OAEXzf,IAAAiY,cAACsH,IAAU,CAAChB,QAASA,IA7BTS,KACxB,MAAMJ,EAAW,IAAIjB,GACrBiB,EAAS/H,OAAOmI,EAAO,GACvBpB,EAASgB,IA0B8Bc,CAAiBV,IAC1Chf,IAAAiY,cAAC0H,KAAU,c,+DC1CdC,OA1EEA,KA+DN,CACHC,YA9DgBvI,UAChB,MAAM,KAAEtD,SAAesB,GAAQqD,QAAQ,CACnCmH,IAAK,cACLC,OAAQ,MACRvK,WAEJ,OAAOxB,GAyDPsJ,KAtDShG,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAK,aACLC,OAAQ,MACRvK,WAEJ,OAAOxB,GAiDPpS,KAtCS0V,UACT,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAK,SACLC,OAAQ,OACR/L,SAEJ,OAAOgM,GAiCP5R,OA9BWkJ,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,UAAD3L,OAAYH,EAAKlO,IACpBia,OAAQ,MACR/L,SAEJ,OAAOgM,GAyBPC,OAhDW3I,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,UAAD3L,OAAYrO,GACfia,OAAQ,QAEZ,OAAO/L,GA4CPkM,OAvBW5I,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,UAAD3L,OAAYrO,GACfia,OAAQ,WAEZ,OAAO/L,GAmBPmM,eAhBmB7I,MAAO9B,EAAQ1P,KAClC,MAAM,KAAEkO,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,uBAAD3L,OAAyBrO,GAC5Bia,OAAQ,MACRvK,WAEJ,OAAOxB,KCIf,MAAMoI,GAAYC,YAAYvH,IAAK,CACjCsL,cAAe,CACblD,OAAQ,GACRC,UAAW,QACXN,aAAc,YAKlB,SAASwD,GAAaC,GACpB,MAAM,KAAEC,EAAI,QAAEpB,EAAO,GAAEqB,EAAE,UAAExC,GAAcsC,EAEnCG,EAAazgB,IAAM0gB,QACvB,IACE1gB,IAAM2gB,WAAW,CAACC,EAAWC,IAC3B7gB,IAAAiY,cAAC6I,IAAUC,OAAAC,OAAA,CAACR,GAAIA,EAAIK,IAAKA,GAASD,KAEtC,CAACJ,IAGH,OACExgB,IAAAiY,cAAA,UACEjY,IAAAiY,cAACgH,IAAQ,CAACgC,QAAM,EAACC,OAAK,EAACC,UAAWV,EAAYzC,UAAWA,EAAWoD,MAAO,CAAEhZ,MAAO,UACjFmY,EAAOvgB,IAAAiY,cAACoJ,IAAY,CAACD,MAAO,CAAEhZ,MAAO,UAAYmY,GAAuB,KACzEvgB,IAAAiY,cAACiH,IAAY,CAACC,QAASA,EAASiC,MAAO,CAAEhZ,MAAO,aAMxD,MAAM8N,GAAUA,CAACC,EAAOC,KACtB,GAAoB,eAAhBA,EAAOrQ,KAAuB,CAChC,MAAM6F,EAAQwK,EAAOC,QACfiL,EAAW,GAajB,OAXIvH,mBAAQnO,IACVA,EAAM2V,QAASpY,IACb,MAAMqY,EAAYrL,EAAMK,UAAWiL,GAAMA,EAAE3b,KAAOqD,EAAKrD,KACpC,IAAf0b,EACFrL,EAAMqL,GAAarY,EAEnBmY,EAASrG,KAAK9R,KAKb,IAAIgN,KAAUmL,GAGvB,GAAoB,iBAAhBlL,EAAOrQ,KAAyB,CAClC,MAAMoD,EAAOiN,EAAOC,QACdmL,EAAYrL,EAAMK,UAAWiL,GAAMA,EAAE3b,KAAOqD,EAAKrD,IAEvD,OAAmB,IAAf0b,GACFrL,EAAMqL,GAAarY,EACZ,IAAIgN,IAEJ,CAAChN,KAASgN,GAIrB,GAAoB,gBAAhBC,EAAOrQ,KAAwB,CACjC,MAAM2b,EAAStL,EAAOC,QAEhBmL,EAAYrL,EAAMK,UAAWiL,GAAMA,EAAE3b,KAAO4b,GAIlD,OAHmB,IAAfF,GACFrL,EAAMU,OAAO2K,EAAW,GAEnB,IAAIrL,GAGb,GAAoB,UAAhBC,EAAOrQ,KACT,MAAO,GAGT,GAAoB,gBAAhBqQ,EAAOrQ,KAAwB,CAOjC,OANqBoQ,EAAM4I,IAAK5V,GAC1BA,EAAKrD,KAAOsQ,EAAOC,QAAQlN,KAAKrD,GAC3BsQ,EAAOC,QAAQlN,KAEjBA,KA2ZEwY,OArZQrB,IACLlE,KAAhB,MACM,YAAEwF,EAAW,UAAEC,GAAcvB,GAC7B,UAAEvJ,GAAc+K,qBAAWjK,KAC3B,KAAE3L,EAAI,aAAEgP,GAAiB4G,qBAAW1G,KACnC2G,EAAmBC,GAAwB5K,oBAAS,IACpD6K,EAAqBC,GAA0B9K,oBAAS,IACxD+K,EAAeC,GAAoBhL,oBAAS,IAC5CiL,EAAYC,GAAiBlL,oBAAS,IACtCmL,EAAYC,GAAiBpL,oBAAS,IACtCqL,EAAkBC,GAAuBtL,oBAAS,GAAciB,EAAUC,wBAC1EqK,EAAeC,GAAoBxL,oBAAS,IAC5CyL,EAAkBC,GAAuB1L,oBAAS,IAClD2L,EAAiBC,GAAsB5L,oBAAS,IAEhD6L,EAAWC,GAAgB9L,oBAAS,IACpC+L,EAAYC,GAAiBhM,mBAAS,IACtCiM,GAAejM,mBAAS,KACxBxL,EAAOoL,GAAYC,qBAAWf,GAAS,KACxC,eAAEiK,GAAmBP,KAE3BvI,oBAAU,KACRL,EAAS,CAAEjR,KAAM,UACjBqd,EAAc,IACb,CAACC,IAEJhM,oBAAU,MACRC,iBACE,MAAMG,EAAYvL,EAAKuL,UACjB6L,QAAoBnD,OAAetL,EAAW4C,GAEpD2K,EAAiBkB,EAAYrhB,KAAKshB,cAClCjB,EAAcgB,EAAYrhB,KAAKuhB,WAC/BhB,EAAcc,EAAYrhB,KAAKwhB,WAC/Bf,EAAoBY,EAAYrhB,KAAKyhB,iBACrCd,EAAiBU,EAAYrhB,KAAK0hB,cAClCb,EAAoBQ,EAAYrhB,KAAK2hB,iBACrCZ,EAAmBM,EAAYrhB,KAAK4hB,gBAEtCC,IAEC,IAEHzM,oBAAU,KACR,MAAM0M,EAAkBC,WAAW,KACjCC,KACC,KACH,MAAO,IAAMC,aAAaH,IAEzB,CAACV,EAAaF,IAEjB9L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAUlC,OARAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IAClB,gBAAhBA,EAAKoC,QACPY,EAAS,CAAEjR,KAAM,cAAesQ,QAASrC,IAEvB,WAAhBA,EAAKoC,QACPY,EAAS,CAAEjR,KAAM,cAAesQ,QAASrC,MAGtC,KACL0D,EAAO5U,eAER,IAEHuU,oBAAU,KACR,IAAI8M,EAAe,EACnB,GAAIvY,EAAMwY,OAAS,EACjB,IAAK,IAAIjb,KAAQyC,EACf,IAAK,IAAIyY,KAAYlb,EAAK/H,MACpBijB,EAAS5O,SAAWvJ,EAAKpG,KAC3Bqe,GAAgBE,EAASC,SAM/BpB,IADEiB,EAAe,KAKlB,CAACvY,EAAOM,EAAKpG,KAEhBuR,oBAAU,KACJ3B,aAAaC,QAAQ,UACvByM,GAAiB,IAElB,IAEH/K,oBAAU,KACR,MAAM0M,EAAkBC,WAAW,KACjC,GAAIjN,EAAUqN,OAAS,EAAG,CACHrN,EAAUwN,OAAQC,GAElB,WAAjBA,EAAM/gB,QACW,YAAjB+gB,EAAM/gB,QACW,iBAAjB+gB,EAAM/gB,QACW,YAAjB+gB,EAAM/gB,QACW,YAAjB+gB,EAAM/gB,QAGO2gB,OAAS,EACxBpC,GAAqB,GAErBA,GAAqB,KAGxB,KACH,MAAO,IAAMkC,aAAaH,IACzB,CAAChN,IAEJ,MAAMkN,EAAa3M,UACjB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAAW,CACxC/B,OAAQ,CAAE6N,cAAaF,gBAEzBnM,EAAS,CAAEjR,KAAM,aAAcsQ,QAASrC,EAAKyQ,UAC7C,MAAO9Q,GACPD,GAAWC,KASf,OACE3T,IAAAiY,cAAA,OAAKsG,QAASqD,GACZ5hB,IAAAiY,cAACwD,GAAG,CACFC,KAAMxP,EAAKzD,QACXkT,QAAS,4BACTyF,MAAO,CACLsD,UAAW,UAEb5iB,GAAIA,IACF9B,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAACmI,IAAa,CACZwE,OAAQ/C,EACRT,MAAO,CACLyD,SAAU,WACVC,SAAU,OACVC,UAAW,OACXC,YAAa,IAEfC,OAAK,EACL7c,MAAM,WACL6K,KAAKoB,EAAE,gBAEVrU,IAAAiY,cAAAjY,IAAA2kB,SAAA,KAEE3kB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,WACHrB,QAASlM,KAAKoB,EAAE,gCAChBkM,KAAMvgB,IAAAiY,cAACiN,IAAY,CAAC9D,MAAO,CAAEhZ,MAAO,aAEtCpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,kBACHrB,QAASlM,KAAKoB,EAAE,sCAChBkM,KAAMvgB,IAAAiY,cAACkN,KAAe,CAAC/D,MAAO,CAAEhZ,MAAO,aAExCia,GACCriB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,UACHrB,QAAQ,SACRoB,KAAMvgB,IAAAiY,cAACmN,KAAkB,CAAChE,MAAO,CAAEhZ,MAAO,aAG9CpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,YACHrB,QAASlM,KAAKoB,EAAE,WAChBkM,KAAMvgB,IAAAiY,cAACoN,KAA0B,CAACjE,MAAO,CAAEhZ,MAAO,aAEnDua,GACC3iB,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,aACHrB,QAASlM,KAAKoB,EAAE,kCAChBkM,KAAMvgB,IAAAiY,cAACqN,KAAyB,CAAClE,MAAO,CAAEhZ,MAAO,cAIvDpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,QACHrB,QAASlM,KAAKoB,EAAE,6BAChBkM,KAAMvgB,IAAAiY,cAACsN,KAAoB,CAACnE,MAAO,CAAEhZ,MAAO,aAE7Cya,GACC7iB,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,SACHrB,QAASlM,KAAKoB,EAAE,8BAChBkM,KACEvgB,IAAAiY,cAACuN,IAAK,CAACpd,MAAM,YAAYiW,QAAQ,MAAM4E,UAAWA,GAChDjjB,IAAAiY,cAACwN,KAAiB,CAACrE,MAAO,CAAEhZ,MAAO,eAM7CpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,SACHrB,QAASlM,KAAKoB,EAAE,8BAChBkM,KAAMvgB,IAAAiY,cAACyN,KAAe,CAACtE,MAAO,CAAEhZ,MAAO,iBAOjDpI,IAAAiY,cAACwD,GAAG,CACFC,KAAMxP,EAAKzD,QACXkT,QAAS,0BACT9Z,IAAKA,IACH7B,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAAC0N,IAAO,MACR3lB,IAAAiY,cAACmI,IAAa,CACZwE,OAAQ/C,EACRT,MAAO,CACLyD,SAAU,WACVC,SAAU,OACVC,UAAW,OACXC,YAAa,IAEfC,OAAK,EACL7c,MAAM,WACL6K,KAAKoB,EAAE,qBAEVrU,IAAAiY,cAACoI,GAAY,CACXuF,OAAK,EACLpF,GAAG,IACHrB,QAAQ,YACRoB,KAAMvgB,IAAAiY,cAAC4N,IAAqB,CAACzE,MAAO,CAAEhZ,MAAO,gBAKrDpI,IAAAiY,cAACwD,GAAG,CACFC,KAAMxP,EAAKzD,QACXkT,QAAQ,0BACR9Z,IAAKA,IACH7B,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAAC0N,IAAO,MACR3lB,IAAAiY,cAACmI,IAAa,CACZwE,OAAQ/C,EACRT,MAAO,CACLyD,SAAU,WACVC,SAAU,OACVC,UAAW,OACXC,YAAa,IAEfC,OAAK,EACL7c,MAAM,WACL6K,KAAKoB,EAAE,oCAGT8N,GACCniB,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAACgH,IAAQ,CACPgC,QAAM,EACN1C,QAASA,IAAM2D,EAAwB4D,IAAUA,IAEjD9lB,IAAAiY,cAACoJ,IAAY,KACXrhB,IAAAiY,cAAC8N,KAAmB,CAAC3E,MAAO,CAAEhZ,MAAO,YAEvCpI,IAAAiY,cAACiH,IAAY,CACXC,QAASlM,KAAKoB,EAAE,oCAEjB4N,EACCjiB,IAAAiY,cAAC+N,KAAc,CAAC5E,MAAO,CAAEhZ,MAAO,WAEhCpI,IAAAiY,cAACgO,KAAc,CAAC7E,MAAO,CAAEhZ,MAAO,YAGpCpI,IAAAiY,cAACiO,IAAQ,CACP9E,MAAO,CAAE4D,YAAa,IACtBmB,GAAIlE,EACJ1e,QAAQ,OACR6iB,eAAa,GAEbpmB,IAAAiY,cAAC6G,IAAI,CAACqC,UAAU,MAAMkF,gBAAc,GAClCrmB,IAAAiY,cAACgH,IAAQ,CAACV,QAASA,IAAMlG,EAAQ4C,KAAK,cAAegG,QAAM,GACzDjhB,IAAAiY,cAACoJ,IAAY,KACXrhB,IAAAiY,cAACqO,KAAsB,CAAClF,MAAO,CAAEhZ,MAAO,YAE1CpI,IAAAiY,cAACiH,IAAY,CAACC,QAAQ,cAExBnf,IAAAiY,cAACgH,IAAQ,CACPV,QAASA,IAAMlG,EAAQ4C,KAAK,kBAC5BgG,QAAM,GAENjhB,IAAAiY,cAACoJ,IAAY,KACXrhB,IAAAiY,cAACsO,KAAwB,CAACnF,MAAO,CAAEhZ,MAAO,YAE5CpI,IAAAiY,cAACiH,IAAY,CAACC,QAAQ,wBAExBnf,IAAAiY,cAACgH,IAAQ,CACPV,QAASA,IAAMlG,EAAQ4C,KAAK,qBAC5BgG,QAAM,GAENjhB,IAAAiY,cAACoJ,IAAY,KACXrhB,IAAAiY,cAACuO,IAAuB,CAACpF,MAAO,CAAEhZ,MAAO,YAE3CpI,IAAAiY,cAACiH,IAAY,CAACC,QAAQ,4BAM/BjT,EAAKua,OACJzmB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,iBACHrB,QAASlM,KAAKoB,EAAE,qCAChBkM,KAAMvgB,IAAAiY,cAACyO,KAA+B,CAACtF,MAAO,CAAEhZ,MAAO,aAG1Dma,GACCviB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,WACHrB,QAASlM,KAAKoB,EAAE,gCAChBkM,KAAMvgB,IAAAiY,cAAC0O,KAAmB,CAACvF,MAAO,CAAEhZ,MAAO,aAI9Cqa,GACCziB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,qBACHrB,QAASlM,KAAKoB,EAAE,yCAChBkM,KAAMvgB,IAAAiY,cAAC2O,KAAoB,CAACxF,MAAO,CAAEhZ,MAAO,aAGhDpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,eACHrB,QAASlM,KAAKoB,EAAE,oCAChBkM,KACEvgB,IAAAiY,cAACuN,IAAK,CAACqB,aAAc9E,EAAoB,IAAM,EAAG3Z,MAAM,SACtDpI,IAAAiY,cAAC6O,IAAqB,CAAC1F,MAAO,CAAEhZ,MAAO,cAI7CpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,SACHrB,QAASlM,KAAKoB,EAAE,8BAChBkM,KAAMvgB,IAAAiY,cAAC8O,KAAiB,CAAC3F,MAAO,CAAEhZ,MAAO,aAE3CpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,UACHrB,QAASlM,KAAKoB,EAAE,+BAChBkM,KAAMvgB,IAAAiY,cAAC+O,KAAsB,CAAC5F,MAAO,CAAEhZ,MAAO,aAEhDpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,SACHrB,QAASlM,KAAKoB,EAAE,8BAChBkM,KAAMvgB,IAAAiY,cAACgP,KAAkB,CAAC7F,MAAO,CAAEhZ,MAAO,aAE3C2a,GACC/iB,IAAAiY,cAAAjY,IAAA2kB,SAAA,KACE3kB,IAAAiY,cAACoI,GAAY,CACXG,GAAG,gBACHrB,QAASlM,KAAKoB,EAAE,oCAChBkM,KAAMvgB,IAAAiY,cAACiP,KAAe,CAAC9F,MAAO,CAAEhZ,MAAO,cAI7CpI,IAAAiY,cAACoI,GAAY,CACTG,GAAG,YACHrB,QAASlM,KAAKoB,EAAE,iCAChBkM,KAAMvgB,IAAAiY,cAACkP,KAAqB,CAAC/F,MAAO,CAAEhZ,MAAO,aAEjDpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,cACHrB,QAASlM,KAAKoB,EAAE,mCAChBkM,KAAMvgB,IAAAiY,cAACmP,KAAuB,CAAChG,MAAO,CAAEhZ,MAAO,aAGjDpI,IAAAiY,cAACoI,GAAY,CACXG,GAAG,YACHrB,QAASlM,KAAKoB,EAAE,iCAChBkM,KAAMvgB,IAAAiY,cAACuO,IAAuB,CAACpF,MAAO,CAAEhZ,MAAO,cAG/CyZ,GAAa7hB,IAAAiY,cAACjY,IAAM2kB,SAAQ,KAC5B3kB,IAAAiY,cAAC0N,IAAO,MAOR3lB,IAAAiY,cAACoP,IAAU,CAACjG,MAAO,CAAE0D,SAAU,OAAQwC,QAAS,OAAQvC,UAAW,QAASwC,WAAY,OAAQnf,MAAO,UAAW,0B,iJC1hBhI,MAAMgU,GAAYC,YAAWvH,IAAK,CACjCmM,OAAQ,CACP4D,SAAU,YAGX2C,eAAgB,CACfpf,MAAOqf,KAAM,KACb5C,SAAU,WACV6C,IAAK,MACLC,KAAM,MACNxK,WAAY,GACZyK,YAAa,OAiBAC,OAbW9P,IAAqC,IAApC,QAAEb,EAAO,SAAEc,KAAa8P,GAAM/P,EACxD,MAAMyF,EAAUpB,KAEhB,OACCpc,IAAAiY,cAACqG,KAAMyC,OAAAC,OAAA,CAAChD,UAAWR,EAAQyD,OAAQxf,SAAUyV,GAAa4Q,GACxD9P,EACAd,GACAlX,IAAAiY,cAAC8P,KAAgB,CAACC,KAAM,GAAIhK,UAAWR,EAAQgK,mB,UCzBnD,MAAMS,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAapQ,IAAA,IAAC,SAAEC,KAAasI,GAAOvI,EAAA,OACzC/X,IAAAiY,cAAA,IAAA8I,OAAAC,OAAA,GAAOV,EAAK,CAAElC,OAAO,SAASgK,IAAI,wBAChCpQ,IAsCYqQ,OAlCSC,IAAmB,IAAlB,SAAEtQ,GAAUsQ,EACpC,MAAMC,EAAY,aACZC,EAAa,WAEfxQ,GAAYuQ,EAAU5hB,KAAKqR,KAC9BA,EAAWA,EAASyQ,QAAQF,EAAW,WAEpCvQ,GAAYwQ,EAAW7hB,KAAKqR,KAC/BA,EAAWA,EAASyQ,QAAQD,EAAY,WAGzC,MAAMvhB,EAAUjH,IAAM0gB,QAAQ,KAC7B,MAAMgI,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAE3H,UAAWgH,MAUlB,OANAF,GAAS1G,QAAQwH,IACXb,GAAgBn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","file":"static/js/main.e62a3ad5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/backgroundStep.bc111df2.png\";","import React from \"react\";\r\n\r\nconst ColorModeContext = React.createContext({ toggleColorMode: () => {} });\r\n\r\nexport default ColorModeContext;","const messages = {\r\n  pt: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Cadastre-se\",\r\n        toasts: {\r\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\r\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n        },\r\n        buttons: {\r\n          submit: \"Cadastrar\",\r\n          login: \"Já tem uma conta? Entre!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Login\",\r\n        form: {\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n        },\r\n        buttons: {\r\n          submit: \"Entrar\",\r\n          register: \"Registre-se, agora mesmo!\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nome\",\r\n          users: \"Usuários\",\r\n          connections: \"Conexões\",\r\n          campaigns: \"Campanhas\",\r\n          schedules: \"Agendamentos\",\r\n          enabled: \"Habilitadas\",\r\n          disabled: \"Desabilitadas\",\r\n          clear: \"Cancelar\",\r\n          delete: \"Excluir\",\r\n          save: \"Salvar\",\r\n          yes: \"Sim\",\r\n          no: \"Não\",\r\n          money: \"R$\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Cadastrar Empresa\",\r\n        form: {\r\n          name: \"Nome da Empresa\",\r\n          plan: \"Plano\",\r\n          token: \"Token\",\r\n          submit: \"Cadastrar\",\r\n          success: \"Empresa criada com sucesso!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"Login efetuado com sucesso!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        charts: {\r\n          perDay: {\r\n            title: \"Atendimentos hoje: \",\r\n          },\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexões\",\r\n        toasts: {\r\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage:\r\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar WhatsApp\",\r\n          disconnect: \"desconectar\",\r\n          tryAgain: \"Tentar novamente\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"Novo QR CODE\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"Falha ao iniciar sessão do WhatsApp\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando leitura do QR Code\",\r\n            content:\r\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\r\n          },\r\n          connected: {\r\n            title: \"Conexão estabelecida!\",\r\n          },\r\n          timeout: {\r\n            title: \"A conexão com o celular foi perdida\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          status: \"Status\",\r\n          lastUpdate: \"Última atualização\",\r\n          default: \"Padrão\",\r\n          actions: \"Ações\",\r\n          session: \"Sessão\",\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Adicionar WhatsApp\",\r\n          edit: \"Editar WhatsApp\",\r\n        },\t\t\r\n\t\t tabs: {\r\n          general: \"Geral\",\r\n          messages: \"Mensagens\",\r\n          assessments: \"Avaliações\",\r\n          integrations: \"Integrações\",\r\n          schedules: \"Horário de expediente\",\r\n\t\t },\r\n        form: {\r\n          name: \"Nome\",\r\n          default: \"Padrão\",\r\n          sendIdQueue: \"Fila\",\r\n          timeSendQueue: \"Redirecionar para fila em X minutos\",\r\n          queueRedirection: \"Redirecionamento de Fila\",\r\n\t\t  outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          queueRedirectionDesc: \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\r\n          prompt: \"Prompt\",\r\n          //maxUseBotQueues: \"Enviar bot x vezes\",\r\n          //timeUseBotQueues: \"Intervalo em minutos entre envio de bot\",\r\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\r\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\r\n\t\t  greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n\t\t  sendIdQueue: \"Fila\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"WhatsApp salvo com sucesso.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Leia o QrCode para iniciar a sessão\",\r\n      },\r\n      contacts: {\r\n        title: \"Contatos\",\r\n        toasts: {\r\n          deleted: \"Contato excluído com sucesso!\",\r\n\t\t  deletedAll: \"Todos contatos excluídos com sucesso!\",\r\n        },\r\n\t\t  searchPlaceholder: \"Pesquisar...\",\r\n          confirmationModal: {\r\n          deleteTitle: \"Deletar \",\r\n          deleteAllTitle: \"Deletar Todos\",\r\n          importTitle: \"Importar contatos\",\r\n          deleteMessage: \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\r\n          deleteAllMessage: \"Tem certeza que deseja deletar todos os contatos? Todos os tickets relacionados serão perdidos.\",\r\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\r\n        },\r\n        buttons: {\r\n          import: \"Importar Contatos\",\r\n          add: \"Adicionar Contato\",\r\n          export: \"Exportar Contatos\",\r\n          delete: \"Excluir Todos Contatos\"\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"WhatsApp\",\r\n          email: \"Email\",\r\n          actions: \"Ações\",\r\n        },\r\n      },\r\n      queueIntegrationModal: {\r\n        title: {\r\n          add: \"Adicionar projeto\",\r\n          edit: \"Editar projeto\",\r\n        },\r\n        form: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          jsonContent: \"JsonContent\",\r\n          urlN8N: \"URL\",\r\n          typebotSlug: \"Typebot - Slug\",\r\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\r\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\r\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\r\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\r\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\r\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",   \r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          test: \"Testar Bot\",\r\n        },\r\n        messages: {\r\n          testSuccess: \"Integração testada com sucesso!\",\r\n          addSuccess: \"Integração adicionada com sucesso.\",\r\n          editSuccess: \"Integração editada com sucesso.\",\r\n        },\r\n      },\r\n\t  sideMenu: {\r\n            name: \"Menu Lateral Inicial\",\r\n            note: \"Se habilitado, o menu lateral irá iniciar fechado\",\r\n            options: {\r\n              enabled: \"Aberto\",\r\n              disabled: \"Fechado\",\r\n            },\r\n          },\r\n      promptModal: {\r\n        form: {\r\n          name: \"Nome\",\r\n          prompt: \"Prompt\",\r\n          voice: \"Voz\",\r\n          max_tokens: \"Máximo de Tokens na resposta\",\r\n          temperature: \"Temperatura\",\r\n          apikey: \"API Key\",\r\n          max_messages: \"Máximo de mensagens no Histórico\",\r\n          voiceKey: \"Chave da API de Voz\",\r\n          voiceRegion: \"Região de Voz\",\r\n        },\r\n        success: \"Prompt salvo com sucesso!\",\r\n        title: {\r\n          add: \"Adicionar Prompt\",\r\n          edit: \"Editar Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      prompts: {\r\n        title: \"Prompts\",\r\n        table: {\r\n          name: \"Nome\",\r\n          queue: \"Setor/Fila\",\r\n          max_tokens: \"Máximo Tokens Resposta\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Prompt\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Adicionar contato\",\r\n          edit: \"Editar contato\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Dados do contato\",\r\n          extraInfo: \"Informações adicionais\",\r\n          name: \"Nome\",\r\n          number: \"Número do Whatsapp\",\r\n          email: \"Email\",\r\n          extraName: \"Nome do campo\",\r\n          extraValue: \"Valor\",\r\n          whatsapp: \"Conexão Origem: \"\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Adicionar informação\",\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Contato salvo com sucesso.\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          add: \"Adicionar fila\",\r\n          edit: \"Editar fila\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          ratingMessage: \"Mensagem de avaliação\",\r\n          token: \"Token\",\r\n          orderQueue: \"Ordem da fila (Bot)\",\r\n          integrationId: \"Integração\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      userModal: {\r\n        title: {\r\n          add: \"Adicionar usuário\",\r\n          edit: \"Editar usuário\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          profile: \"Perfil\",\r\n          whatsapp: \"Conexão Padrão\",\r\n\r\n          allTicket: \"Ticket Sem Fila [Invisível]\",\r\n          allTicketEnabled: \"Habilitado\",\r\n          allTicketDesabled: \"Desabilitado\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Usuário salvo com sucesso.\",\r\n      },\r\n      scheduleModal: {\r\n        title: {\r\n          add: \"Novo Agendamento\",\r\n          edit: \"Editar Agendamento\",\r\n        },\r\n        form: {\r\n          body: \"Mensagem\",\r\n          contact: \"Contato\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Agendamento salvo com sucesso.\",\r\n      },\r\n      tagModal: {\r\n        title: {\r\n          add: \"Nova Tag\",\r\n          edit: \"Editar Tag\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Tag salvo com sucesso.\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\r\n      },\r\n      uploads: {\r\n        titles: {\r\n          titleUploadMsgDragDrop: \"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",\r\n          titleFileList: \"Lista de arquivo(s)\"\r\n        },\r\n      },\r\n      ticketsManager: {\r\n        buttons: {\r\n          newTicket: \"Novo\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Filas\",\r\n      },\r\n      tickets: {\r\n        toasts: {\r\n          deleted: \"O atendimento que você estava foi deletado.\",\r\n        },\r\n        notification: {\r\n          message: \"Mensagem de\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Abertas\" },\r\n          closed: { title: \"Resolvidos\" },\r\n          search: { title: \"Busca\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Buscar atendimento e mensagens\",\r\n        },\r\n        buttons: {\r\n          showAll: \"Todos\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transferir Ticket\",\r\n        fieldLabel: \"Digite para buscar usuários\",\r\n        fieldQueueLabel: \"Transferir para fila\",\r\n        fieldQueuePlaceholder: \"Selecione uma fila\",\r\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\r\n        buttons: {\r\n          ok: \"Transferir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        pendingHeader: \"Aguardando\",\r\n        assignedHeader: \"Atendendo\",\r\n        noTicketsTitle: \"Nada aqui!\",\r\n        noTicketsMessage:\r\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\r\n        buttons: {\r\n          accept: \"Aceitar\",\r\n          closed: \"Finalizar\",\r\n          reopen: \"Reabrir\"\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Criar Ticket\",\r\n        fieldLabel: \"Digite para pesquisar o contato\",\r\n        add: \"Adicionar\",\r\n        buttons: {\r\n          ok: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Conexões\",\r\n          tickets: \"Atendimentos\",\r\n          quickMessages: \"Respostas Rápidas\",\r\n          contacts: \"Contatos\",\r\n          queues: \"Filas & Chatbot\",\r\n          tags: \"Tags\",\r\n          administration: \"Administração\",\r\n          management: \"Gerenciamento\",\r\n          users: \"Usuários\",\r\n          settings: \"Configurações\",\r\n          helps: \"Ajuda\",\r\n          messagesAPI: \"API\",\r\n          schedules: \"Agendamentos\",\r\n          campaigns: \"Campanhas\",\r\n          annoucements: \"Informativos\",\r\n          chats: \"Chat Interno\",\r\n          financeiro: \"Financeiro\",\r\n          files: \"Lista de arquivos\",\r\n          prompts: \"Open.Ai\",\r\n          queueIntegration: \"Integrações\",\r\n        },\r\n        appBar: {\r\n          notRegister:\"Sem notificações\",\r\n          user: {\r\n            profile: \"Perfil\",\r\n            logout: \"Sair\",\r\n          },\r\n        },\r\n      },\r\n      queueIntegration: {\r\n        title: \"Integrações\",\r\n        table: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          lastUpdate: \"Ultima atualização\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Projeto\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\r\n        },\r\n      },\r\n      files: {\r\n        title: \"Lista de arquivos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ação\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lista excluída com sucesso!\",\r\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          deleteAll: \"Deletar Todos\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar\",\r\n          deleteAllTitle: \"Deletar Todos\",\r\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\r\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\r\n        },\r\n      },\r\n      messagesAPI: {\r\n        title: \"API\",\r\n        textMessage: {\r\n          number: \"Número\",\r\n          body: \"Mensagem\",\r\n          token: \"Token cadastrado\",\r\n        },\r\n        mediaMessage: {\r\n          number: \"Número\",\r\n          body: \"Nome do arquivo\",\r\n          media: \"Arquivo\",\r\n          token: \"Token cadastrado\",\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"Nenhuma notificação.\",\r\n      },\r\n      quickMessages: {\r\n        title: \"Respostas Rápidas\",\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        noAttachment: \"Sem anexo\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Exclusão\",\r\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          attach: \"Anexar Arquivo\",\r\n          cancel: \"Cancelar\",\r\n          edit: \"Editar\",\r\n        },\r\n        toasts: {\r\n          success: \"Atalho adicionado com sucesso!\",\r\n          deleted: \"Atalho removido com sucesso!\",\r\n        },\r\n        dialog: {\r\n          title: \"Mensagem Rápida\",\r\n          shortcode: \"Atalho\",\r\n          message: \"Resposta\",\r\n          save: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          geral: \"Permitir editar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          visao: \"Permitir visão\",\r\n        },\r\n        table: {\r\n          shortcode: \"Atalho\",\r\n          message: \"Mensagem\",\r\n          actions: \"Ações\",\r\n          mediaName: \"Nome do Arquivo\",\r\n          status: \"Status\",\r\n        },\r\n      },\r\n      messageVariablesPicker: {\r\n        label: \"Variavéis disponíveis\",\r\n        vars: {\r\n          contactFirstName: \"Primeiro Nome\",\r\n          contactName: \"Nome\",\r\n          greeting: \"Saudação\",\r\n          protocolNumber: \"Protocolo\",\r\n          date: \"Data\",\r\n          hour: \"Hora\",\r\n        },\r\n      },\r\n      contactLists: {\r\n        title: \"Listas de Contatos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Lista\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          company: \"Empresa\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      contactListItems: {\r\n        title: \"Contatos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        buttons: {\r\n          add: \"Novo\",\r\n          lists: \"Listas\",\r\n          import: \"Importar\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n          importMessage: \"Deseja importar os contatos desta planilha? \",\r\n          importTitlte: \"Importar\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaigns: {\r\n        title: \"Campanhas\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        buttons: {\r\n          add: \"Nova Campanha\",\r\n          contactLists: \"Listas de Contatos\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"Conexão\",\r\n          contactList: \"Lista de Contatos\",\r\n          status: \"Status\",\r\n          scheduledAt: \"Agendamento\",\r\n          completedAt: \"Concluída\",\r\n          confirmation: \"Confirmação\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          new: \"Nova Campanha\",\r\n          update: \"Editar Campanha\",\r\n          readonly: \"Apenas Visualização\",\r\n          form: {\r\n            name: \"Nome\",\r\n            message1: \"Mensagem 1\",\r\n            message2: \"Mensagem 2\",\r\n            message3: \"Mensagem 3\",\r\n            message4: \"Mensagem 4\",\r\n            message5: \"Mensagem 5\",\r\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\r\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\r\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\r\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\r\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\r\n            messagePlaceholder: \"Conteúdo da mensagem\",\r\n            whatsapp: \"Conexão\",\r\n            status: \"Status\",\r\n            scheduledAt: \"Agendamento\",\r\n            confirmation: \"Confirmação\",\r\n            contactList: \"Lista de Contato\",\r\n            tagList: \"Lista de Tags\",\r\n            fileList: \"Lista de Arquivos\"\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar Disparos\",\r\n            restart: \"Reiniciar Disparos\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          cancel: \"Campanha cancelada\",\r\n          restart: \"Campanha reiniciada\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      announcements: {\r\n        active: 'Ativo',\r\n        inactive: 'Inativo',\r\n        title: \"Informativos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        buttons: {\r\n          add: \"Novo Informativo\",\r\n          contactLists: \"Listas de Informativos\",\r\n        },\r\n        table: {\r\n          priority: \"Prioridade\",\r\n          title: \"Title\",\r\n          text: \"Texto\",\r\n          mediaName: \"Arquivo\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          edit: \"Edição de Informativo\",\r\n          add: \"Novo Informativo\",\r\n          update: \"Editar Informativo\",\r\n          readonly: \"Apenas Visualização\",\r\n          form: {\r\n            priority: \"Prioridade\",\r\n            title: \"Title\",\r\n            text: \"Texto\",\r\n            mediaPath: \"Arquivo\",\r\n            status: \"Status\",\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaignsConfig: {\r\n        title: \"Configurações de Campanhas\",\r\n      },\r\n      queues: {\r\n        title: \"Filas & Chatbot\",\r\n        table: {\r\n\t\t  id:\"ID\",\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          greeting: \"Mensagem de saudação\",\r\n          actions: \"Ações\",\r\n          orderQueue: \"Ordenação da fila (bot)\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar fila\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\r\n        },\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Filas\",\r\n      },\r\n      users: {\r\n        title: \"Usuários\",\r\n        table: {\r\n\t\t  id: \"ID\",\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          profile: \"Perfil\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar usuário\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Usuário excluído com sucesso.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\r\n        },\r\n      },\r\n      helps: {\r\n        title: \"Central de Ajuda\",\r\n      },\r\n      schedules: {\r\n        title: \"Agendamentos\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          contact: \"Contato\",\r\n          body: \"Mensagem\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Novo Agendamento\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Agendamento excluído com sucesso.\",\r\n        },\r\n      },\r\n      tags: {\r\n        title: \"Tags\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n\t\t  deleteAllMessage: \"Tem certeza que deseja deletar todas as Tags?\",\r\n\t\t  deleteAllTitle: \"Deletar Todos\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          tickets: \"Registros Tagdos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Tag\",\r\n\t\t  deleteAll: \"Deletar Todas\",\r\n        },\r\n        toasts: {\r\n\t\t  deletedAll: \"Todas Tags excluídas com sucesso!\",\r\n          deleted: \"Tag excluído com sucesso.\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Configurações salvas com sucesso.\",\r\n        title: \"Configurações\",\r\n        settings: {\r\n          userCreation: {\r\n            name: \"Criação de usuário\",\r\n            options: {\r\n              enabled: \"Ativado\",\r\n              disabled: \"Desativado\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Atribuído à:\",\r\n          buttons: {\r\n            return: \"Retornar\",\r\n            resolve: \"Resolver\",\r\n            reopen: \"Reabrir\",\r\n            accept: \"Aceitar\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderOpen: \"Digite uma mensagem\",\r\n        placeholderClosed:\r\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\r\n        signMessage: \"Assinar\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Dados do contato\",\r\n        buttons: {\r\n          edit: \"Editar contato\",\r\n        },\r\n        extraInfo: \"Outras informações\",\r\n      },\r\n      fileModal: {\r\n        title: {\r\n          add: \"Adicionar lista de arquivos\",\r\n          edit: \"Editar lista de arquivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Salvar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n          fileOptions: \"Adicionar arquivo\",\r\n        },\r\n        form: {\r\n          name: \"Nome da lista de arquivos\",\r\n          message: \"Detalhes da lista\",\r\n          fileOptions: \"Lista de arquivos\",\r\n          extraName: \"Mensagem para enviar com arquivo\",\r\n          extraValue: \"Valor da opção\",\r\n        },\r\n        success: \"Lista de arquivos salva com sucesso!\",\r\n      },\r\n      ticketOptionsMenu: {\r\n        schedule: \"Agendamento\",\r\n        delete: \"Deletar\",\r\n        transfer: \"Transferir\",\r\n        registerAppointment: \"Observações do Contato\",\r\n        appointmentsModal: {\r\n          title: \"Observações do Contato\",\r\n          textarea: \"Observação\",\r\n          placeholder: \"Insira aqui a informação que deseja registrar\",\r\n        },\r\n        confirmationModal: {\r\n          title: \"Deletar o ticket\",\r\n\t\t  titleFrom: \"do contato \",\r\n          message:\r\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Excluir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Deletar\",\r\n        reply: \"Responder\",\r\n        confirmationModal: {\r\n          title: \"Apagar mensagem?\",\r\n          message: \"Esta ação não pode ser revertida.\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\r\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_INVALID_CREDENTIALS:\r\n          \"Erro de autenticação. Por favor, tente novamente.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\r\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"A criação do usuário foi desabilitada pelo administrador.\",\r\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\r\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\r\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\r\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\r\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\r\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\r\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\r\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"Esta cor já está em uso, escolha outra.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","import { messages as portugueseMessages } from \"./pt\";\r\nimport { messages as englishMessages } from \"./en\";\r\nimport { messages as spanishMessages } from \"./es\";\r\n\r\nconst messages = {\r\n\t...portugueseMessages,\r\n\t...englishMessages,\r\n\t...spanishMessages,\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n\ten: {\r\n\t\ttranslations: {\r\n\t\t\tsignup: {\r\n\t\t\t\ttitle: \"Sign up\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\r\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tsubmit: \"Register\",\r\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tlogin: {\r\n\t\t\t\ttitle: \"Login\",\r\n\t\t\t\tform: {\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tsubmit: \"Enter\",\r\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tauth: {\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tsuccess: \"Login successfully!\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tdashboard: {\r\n\t\t\t\tcharts: {\r\n\t\t\t\t\tperDay: {\r\n\t\t\t\t\t\ttitle: \"Tickets today: \",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconnections: {\r\n\t\t\t\ttitle: \"Connections\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\r\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\r\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add WhatsApp\",\r\n\t\t\t\t\tdisconnect: \"Disconnect\",\r\n\t\t\t\t\ttryAgain: \"Try Again\",\r\n\t\t\t\t\tqrcode: \"QR CODE\",\r\n\t\t\t\t\tnewQr: \"New QR CODE\",\r\n\t\t\t\t\tconnecting: \"Connectiing\",\r\n\t\t\t\t},\r\n\t\t\t\ttoolTips: {\r\n\t\t\t\t\tdisconnected: {\r\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tqrcode: {\r\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\tconnected: {\r\n\t\t\t\t\t\ttitle: \"Connection established\",\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttimeout: {\r\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\r\n\t\t\t\t\t\tcontent:\r\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tstatus: \"Status\",\r\n\t\t\t\t\tlastUpdate: \"Last Update\",\r\n\t\t\t\t\tdefault: \"Default\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t\tsession: \"Session\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\twhatsappModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add WhatsApp\",\r\n\t\t\t\t\tedit: \"Edit WhatsApp\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tdefault: \"Default\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\r\n\t\t\t},\r\n\t\t\tqrCode: {\r\n\t\t\t\tmessage: \"Read QrCode to start the session\",\r\n\t\t\t},\r\n\t\t\tcontacts: {\r\n\t\t\t\ttitle: \"Contacts\",\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\r\n\t\t\t\t},\r\n\t\t\t\tsearchPlaceholder: \"Search ...\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\timportTitlte: \"Import contacts\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\r\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\timport: \"Import Contacts\",\r\n\t\t\t\t\tadd: \"Add Contact\",\r\n\t\t\t\t},\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\twhatsapp: \"WhatsApp\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tcontactModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add contact\",\r\n\t\t\t\t\tedit: \"Edit contact\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tmainInfo: \"Contact details\",\r\n\t\t\t\t\textraInfo: \"Additional information\",\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tnumber: \"Whatsapp number\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\textraName: \"Field name\",\r\n\t\t\t\t\textraValue: \"Value\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\taddExtraInfo: \"Add information\",\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"Contact saved successfully.\",\r\n\t\t\t},\r\n\t\t\tqueueModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add queue\",\r\n\t\t\t\t\tedit: \"Edit queue\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tcolor: \"Color\",\r\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tuserModal: {\r\n\t\t\t\ttitle: {\r\n\t\t\t\t\tadd: \"Add user\",\r\n\t\t\t\t\tedit: \"Edit user\",\r\n\t\t\t\t},\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tpassword: \"Password\",\r\n\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tokAdd: \"Add\",\r\n\t\t\t\t\tokEdit: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: \"User saved successfully.\",\r\n\t\t\t},\r\n\t\t\tchat: {\r\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\r\n\t\t\t},\r\n\t\t\tticketsManager: {\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tnewTicket: \"New\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tticketsQueueSelect: {\r\n\t\t\t\tplaceholder: \"Queues\",\r\n\t\t\t},\r\n\t\t\ttickets: {\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\r\n\t\t\t\t},\r\n\t\t\t\tnotification: {\r\n\t\t\t\t\tmessage: \"Message from\",\r\n\t\t\t\t},\r\n\t\t\t\ttabs: {\r\n\t\t\t\t\topen: { title: \"Inbox\" },\r\n\t\t\t\t\tclosed: { title: \"Resolved\" },\r\n\t\t\t\t\tsearch: { title: \"Search\" },\r\n\t\t\t\t},\r\n\t\t\t\tsearch: {\r\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tshowAll: \"All\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\ttransferTicketModal: {\r\n\t\t\t\ttitle: \"Transfer Ticket\",\r\n\t\t\t\tfieldLabel: \"Type to search for users\",\r\n\t\t\t\tnoOptions: \"No user found with this name\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tok: \"Transfer\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tticketsList: {\r\n\t\t\t\tpendingHeader: \"Queue\",\r\n\t\t\t\tassignedHeader: \"Working on\",\r\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\r\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\taccept: \"Accept\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnewTicketModal: {\r\n\t\t\t\ttitle: \"Create Ticket\",\r\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\r\n\t\t\t\tadd: \"Add\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tok: \"Save\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmainDrawer: {\r\n\t\t\t\tlistItems: {\r\n\t\t\t\t\tdashboard: \"Dashboard\",\r\n\t\t\t\t\tconnections: \"Connections\",\r\n\t\t\t\t\ttickets: \"Tickets\",\r\n\t\t\t\t\tcontacts: \"Contacts\",\r\n\t\t\t\t\tqueues: \"Queues\",\r\n\t\t\t\t\tadministration: \"Administration\",\r\n\t\t\t\t\tusers: \"Users\",\r\n\t\t\t\t\tsettings: \"Settings\",\r\n\t\t\t\t},\r\n\t\t\t\tappBar: {\r\n\t\t\t\t\tuser: {\r\n\t\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t\t\tlogout: \"Logout\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tnotifications: {\r\n\t\t\t\tnoTickets: \"No notifications.\",\r\n\t\t\t},\r\n\t\t\tqueues: {\r\n\t\t\t\ttitle: \"Queues\",\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\tcolor: \"Color\",\r\n\t\t\t\t\tgreeting: \"Greeting message\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add queue\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tqueueSelect: {\r\n\t\t\t\tinputLabel: \"Queues\",\r\n\t\t\t},\r\n\t\t\tusers: {\r\n\t\t\t\ttitle: \"Users\",\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tname: \"Name\",\r\n\t\t\t\t\temail: \"Email\",\r\n\t\t\t\t\tprofile: \"Profile\",\r\n\t\t\t\t\tactions: \"Actions\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tadd: \"Add user\",\r\n\t\t\t\t},\r\n\t\t\t\ttoasts: {\r\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\r\n\t\t\t\t},\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\tdeleteTitle: \"Delete\",\r\n\t\t\t\t\tdeleteMessage:\r\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tsettings: {\r\n\t\t\t\tsuccess: \"Settings saved successfully.\",\r\n\t\t\t\ttitle: \"Settings\",\r\n\t\t\t\tsettings: {\r\n\t\t\t\t\tuserCreation: {\r\n\t\t\t\t\t\tname: \"User creation\",\r\n\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\tenabled: \"Enabled\",\r\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessagesList: {\r\n\t\t\t\theader: {\r\n\t\t\t\t\tassignedTo: \"Assigned to:\",\r\n\t\t\t\t\tbuttons: {\r\n\t\t\t\t\t\treturn: \"Return\",\r\n\t\t\t\t\t\tresolve: \"Resolve\",\r\n\t\t\t\t\t\treopen: \"Reopen\",\r\n\t\t\t\t\t\taccept: \"Accept\",\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessagesInput: {\r\n\t\t\t\tplaceholderOpen: \"Type a message\",\r\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\r\n\t\t\t\tsignMessage: \"Sign\",\r\n\t\t\t},\r\n\t\t\tcontactDrawer: {\r\n\t\t\t\theader: \"Contact details\",\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tedit: \"Edit contact\",\r\n\t\t\t\t},\r\n\t\t\t\textraInfo: \"Other information\",\r\n\t\t\t},\r\n\t\t\tticketOptionsMenu: {\r\n\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\ttransfer: \"Transfer\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\ttitle: \"Delete ticket #\",\r\n\t\t\t\t\ttitleFrom: \"from contact \",\r\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\r\n\t\t\t\t},\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tconfirmationModal: {\r\n\t\t\t\tbuttons: {\r\n\t\t\t\t\tconfirm: \"Ok\",\r\n\t\t\t\t\tcancel: \"Cancel\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tmessageOptionsMenu: {\r\n\t\t\t\tdelete: \"Delete\",\r\n\t\t\t\treply: \"Reply\",\r\n\t\t\t\tconfirmationModal: {\r\n\t\t\t\t\ttitle: \"Delete message?\",\r\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tbackendErrors: {\r\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\r\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\r\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\r\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\r\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\r\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\r\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\r\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\r\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\r\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\r\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\r\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\r\n\t\t\t\tERR_SENDING_WAPP_MSG:\r\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\r\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\r\n\t\t\t\tERR_OTHER_OPEN_TICKET:\r\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\r\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\r\n\t\t\t\tERR_USER_CREATION_DISABLED:\r\n\t\t\t\t\t\"User creation was disabled by administrator.\",\r\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\r\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\r\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\r\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\r\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\r\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\r\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\r\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\r\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\r\n\t\t\t\tERR_FETCH_WAPP_MSG:\r\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\r\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n\t\t\t\t\t\"This color is already in use, pick another one.\",\r\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\r\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n  es: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Registrarse\",\r\n        toasts: {\r\n          success: \"¡Usuario creado exitosamente! ¡Inicie sesión!\",\r\n          fail: \"Error al crear usuario. Verifique los datos ingresados.\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo electrónico\",\r\n          password: \"Contraseña\",\r\n        },\r\n        buttons: {\r\n          submit: \"Registrarse\",\r\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Iniciar sesión\",\r\n        form: {\r\n          email: \"Correo electrónico\",\r\n          password: \"Contraseña\",\r\n        },\r\n        buttons: {\r\n          submit: \"Iniciar sesión\",\r\n          register: \" ¡Crea tu cuenta en solo unos clics!\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nombre\",\r\n          users: \"Usuarios\",\r\n          connections: \"Conexiones\",\r\n          campaigns: \"Campañas\",\r\n          schedules: \"Programaciones\",\r\n          enabled: \"Habilitadas\",\r\n          disabled: \"Deshabilitadas\",\r\n          clear: \"Cancelar\",\r\n          delete: \"Eliminar\",\r\n          save: \"Guardar\",\r\n          yes: \"Sí\",\r\n          no: \"No\",\r\n          money: \"R$\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Registrar Empresa\",\r\n        form: {\r\n          name: \"Nombre de la Empresa\",\r\n          plan: \"Plan\",\r\n          token: \"Token\",\r\n          submit: \"Registrar\",\r\n          success: \"¡Empresa creada exitosamente!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"¡Inicio de sesión exitoso!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        charts: {\r\n          perDay: {\r\n            title: \"Atenciones de hoy: \",\r\n          },\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexiones\",\r\n        toasts: {\r\n          deleted: \"¡Conexión con WhatsApp eliminada exitosamente!\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Eliminar\",\r\n          deleteMessage: \"¿Estás seguro? Esta acción no se puede deshacer.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage:\r\n            \"¿Estás seguro? Deberás volver a leer el código QR.\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar WhatsApp\",\r\n          disconnect: \"desconectar\",\r\n          tryAgain: \"Intentar de nuevo\",\r\n          qrcode: \"CÓDIGO QR\",\r\n          newQr: \"Nuevo CÓDIGO QR\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"Error al iniciar sesión en WhatsApp\",\r\n            content:\r\n              \"Asegúrate de que tu teléfono esté conectado a internet e inténtalo nuevamente, o solicita un nuevo código QR\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando lectura del código QR\",\r\n            content:\r\n              \"Haz clic en el botón 'CÓDIGO QR' y lee el código QR con tu teléfono para iniciar sesión\",\r\n          },\r\n          connected: {\r\n            title: \"¡Conexión establecida!\",\r\n          },\r\n          timeout: {\r\n            title: \"Se perdió la conexión con el teléfono\",\r\n            content:\r\n              \"Asegúrate de que tu teléfono esté conectado a internet y WhatsApp esté abierto, o haz clic en el botón 'Desconectar' para obtener un nuevo código QR\",\r\n          },\r\n        },\r\n\t\ttable: {\r\n  name: \"Nombre\",\r\n  status: \"Estado\",\r\n  lastUpdate: \"Última actualización\",\r\n  default: \"Predeterminado\",\r\n  actions: \"Acciones\",\r\n  session: \"Sesión\",\r\n},\r\nwhatsappModal: {\r\n  title: {\r\n    add: \"Agregar WhatsApp\",\r\n    edit: \"Editar WhatsApp\",\r\n  },\r\n  tabs: {\r\n    general: \"General\",\r\n    messages: \"Mensajes\",\r\n    assessments: \"Evaluaciones\",\r\n    integrations: \"Integraciones\",\r\n    schedules: \"Horario de expediente\",\r\n  },\r\n  form: {\r\n    name: \"Nombre\",\r\n    default: \"Predeterminado\",\r\n    sendIdQueue: \"Fila\",\r\n    timeSendQueue: \"Redireccionar a cola en X minutos\",\r\n    queueRedirection: \"Redirección de cola\",\r\n    outOfHoursMessage: \"Mensaje de fuera de expediente\",\r\n    queueRedirectionDesc: \"Seleccione una fila para redirigir los contactos que no tienen cola\",\r\n    prompt: \"Prompt\",\r\n    expiresTicket: \"Cerrar chats abiertos después de X minutos\",\r\n    expiresInactiveMessage: \"Mensaje de cierre por inactividad\",\r\n    greetingMessage: \"Mensaje de saludo\",\r\n    complationMessage: \"Mensaje de conclusión\",\r\n    sendIdQueue: \"Fila\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n  success: \"WhatsApp guardado con éxito.\",\r\n},\r\nqrCode: {\r\n  message: \"Lea el código QR para iniciar sesión\",\r\n},\r\ncontacts: {\r\n  title: \"Contactos\",\r\n  toasts: {\r\n    deleted: \"Contacto eliminado con éxito!\",\r\n    deletedAll: \"Todos los contactos eliminados con éxito!\",\r\n  },\r\n  searchPlaceholder: \"Buscar...\",\r\n  confirmationModal: {\r\n    deleteTitle: \"Eliminar \",\r\n    deleteAllTitle: \"Eliminar Todos\",\r\n    importTitle: \"Importar contactos\",\r\n    deleteMessage: \"¿Seguro que desea eliminar este contacto? Se perderán todos los tickets relacionados.\",\r\n    deleteAllMessage: \"¿Seguro que desea eliminar todos los contactos? Se perderán todos los tickets relacionados.\",\r\n    importMessage: \"¿Desea importar todos los contactos del teléfono?\",\r\n  },\r\n  buttons: {\r\n    import: \"Importar Contactos\",\r\n    add: \"Agregar Contacto\",\r\n    export: \"Exportar Contactos\",\r\n    delete: \"Eliminar Todos Contactos\",\r\n  },\r\n  table: {\r\n    name: \"Nombre\",\r\n    whatsapp: \"WhatsApp\",\r\n    email: \"Correo electrónico\",\r\n    actions: \"Acciones\",\r\n  },\r\n},\r\nqueueIntegrationModal: {\r\n  title: {\r\n    add: \"Agregar proyecto\",\r\n    edit: \"Editar proyecto\",\r\n  },\r\n  form: {\r\n    id: \"ID\",\r\n    type: \"Tipo\",\r\n    name: \"Nombre\",\r\n    projectName: \"Nombre del Proyecto\",\r\n    language: \"Lenguaje\",\r\n    jsonContent: \"JsonContent\",\r\n    urlN8N: \"URL\",\r\n    typebotSlug: \"Typebot - Slug\",\r\n    typebotExpires: \"Tiempo en minutos para expirar una conversación\",\r\n    typebotKeywordFinish: \"Palabra para finalizar el ticket\",\r\n    typebotKeywordRestart: \"Palabra para reiniciar el flujo\",\r\n    typebotRestartMessage: \"Mensaje al reiniciar la conversación\",\r\n    typebotUnknownMessage: \"Mensaje de opción inválida\",\r\n    typebotDelayMessage: \"Intervalo (ms) entre mensajes\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n    test: \"Probar Bot\",\r\n  },\r\n  messages: {\r\n    testSuccess: \"Integración probada con éxito!\",\r\n    addSuccess: \"Integración agregada con éxito.\",\r\n    editSuccess: \"Integración editada con éxito.\",\r\n  },\r\n},\r\nsideMenu: {\r\n  name: \"Menú Lateral Inicial\",\r\n  note: \"Si está habilitado, el menú lateral se iniciará cerrado\",\r\n  options: {\r\n    enabled: \"Abierto\",\r\n    disabled: \"Cerrado\",\r\n  },\r\n},\r\npromptModal: {\r\n  form: {\r\n    name: \"Nombre\",\r\n    prompt: \"Prompt\",\r\n    voice: \"Voz\",\r\n    max_tokens: \"Máximo de Tokens en la respuesta\",\r\n    temperature: \"Temperatura\",\r\n    apikey: \"API Key\",\r\n    max_messages: \"Máximo de mensajes en el Historial\",\r\n    voiceKey: \"Clave de la API de Voz\",\r\n    voiceRegion: \"Región de Voz\",\r\n  },\r\n  success: \"Prompt guardado con éxito!\",\r\n  title: {\r\n    add: \"Agregar Prompt\",\r\n    edit: \"Editar Prompt\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n},\r\nprompts: {\r\n  title: \"Prompts\",\r\n  table: {\r\n    name: \"Nombre\",\r\n    queue: \"Sector/Cola\",\r\n    max_tokens: \"Máximo Tokens Respuesta\",\r\n    actions: \"Acciones\",\r\n  },\r\n  confirmationModal: {\r\n    deleteTitle: \"Eliminar\",\r\n    deleteMessage: \"¿Está seguro? ¡Esta acción no se puede deshacer!\",\r\n  },\r\n  buttons: {\r\n    add: \"Agregar Prompt\",\r\n  },\r\n},\r\ncontactModal: {\r\n  title: {\r\n    add: \"Agregar contacto\",\r\n    edit: \"Editar contacto\",\r\n  },\r\n  form: {\r\n    mainInfo: \"Datos del contacto\",\r\n    extraInfo: \"Información adicional\",\r\n    name: \"Nombre\",\r\n    number: \"Número de Whatsapp\",\r\n    email: \"Email\",\r\n    extraName: \"Nombre del campo\",\r\n    extraValue: \"Valor\",\r\n    whatsapp: \"Conexión Origen: \"\r\n  },\r\n  buttons: {\r\n    addExtraInfo: \"Agregar información\",\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n  success: \"Contacto guardado con éxito.\",\r\n},\r\nqueueModal: {\r\n  title: {\r\n    add: \"Agregar cola\",\r\n    edit: \"Editar cola\",\r\n  },\r\n  form: {\r\n    name: \"Nombre\",\r\n    color: \"Color\",\r\n    greetingMessage: \"Mensaje de saludo\",\r\n    complationMessage: \"Mensaje de conclusión\",\r\n    outOfHoursMessage: \"Mensaje de fuera de horario\",\r\n    ratingMessage: \"Mensaje de evaluación\",\r\n    token: \"Token\",\r\n    orderQueue: \"Orden de la cola (Bot)\",\r\n    integrationId: \"Integración\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n},\r\nuserModal: {\r\n  title: {\r\n    add: \"Agregar usuario\",\r\n    edit: \"Editar usuario\",\r\n  },\r\n  form: {\r\n    name: \"Nombre\",\r\n    email: \"Email\",\r\n    password: \"Contraseña\",\r\n    profile: \"Perfil\",\r\n    whatsapp: \"Conexión Predeterminada\",\r\n\r\n    allTicket: \"Ticket Sin Cola [Invisible]\",\r\n    allTicketEnabled: \"Habilitado\",\r\n    allTicketDesabled: \"Deshabilitado\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n  success: \"Usuario guardado con éxito.\",\r\n},\r\nscheduleModal: {\r\n  title: {\r\n    add: \"Nuevo Agendamiento\",\r\n    edit: \"Editar Agendamiento\",\r\n  },\r\n  form: {\r\n    body: \"Mensaje\",\r\n    contact: \"Contacto\",\r\n    sendAt: \"Fecha de Agendamiento\",\r\n    sentAt: \"Fecha de Envío\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n  success: \"Agendamiento guardado con éxito.\",\r\n},\r\ntagModal: {\r\n  title: {\r\n    add: \"Nueva Etiqueta\",\r\n    edit: \"Editar Etiqueta\",\r\n  },\r\n  form: {\r\n    name: \"Nombre\",\r\n    color: \"Color\",\r\n  },\r\n  buttons: {\r\n    okAdd: \"Agregar\",\r\n    okEdit: \"Guardar\",\r\n    cancel: \"Cancelar\",\r\n  },\r\n  success: \"Etiqueta guardada con éxito.\",\r\n},\r\nchat: {\r\n  noTicketMessage: \"Seleccione un ticket para comenzar a conversar.\",\r\n},\r\nuploads: {\r\n  titles: {\r\n    titleUploadMsgDragDrop: \"ARRASTRE Y SUELTE ARCHIVOS EN EL CAMPO ABAJO\",\r\n    titleFileList: \"Lista de archivo(s)\"\r\n  },\r\n},\r\nticketsManager: {\r\n  buttons: {\r\n    newTicket: \"Nuevo\",\r\n  },\r\n},\r\nticketsQueueSelect: {\r\n  placeholder: \"Colas\",\r\n},\r\ntickets: {\r\n  toasts: {\r\n    deleted: \"La atención en la que estaba ha sido eliminada.\",\r\n  },\r\n  notification: {\r\n    message: \"Mensaje de\",\r\n  },\r\n  tabs: {\r\n    open: { title: \"Abiertas\" },\r\n    closed: { title: \"Resueltos\" },\r\n    search: { title: \"Búsqueda\" },\r\n  },\r\n  search: {\r\n    placeholder: \"Buscar atención y mensajes\",\r\n  },\r\n  buttons: {\r\n    showAll: \"Todos\",\r\n  },\r\n},\r\ntransferTicketModal: {\r\n    title: \"Transferir Ticket\",\r\n    fieldLabel: \"Escribe para buscar usuarios\",\r\n    fieldQueueLabel: \"Transferir a cola\",\r\n    fieldQueuePlaceholder: \"Seleccione una cola\",\r\n    noOptions: \"No se encontraron usuarios con ese nombre\",\r\n    buttons: {\r\n      ok: \"Transferir\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n  },\r\n  ticketsList: {\r\n    pendingHeader: \"Pendiente\",\r\n    assignedHeader: \"Atendiendo\",\r\n    noTicketsTitle: \"¡Nada aquí!\",\r\n    noTicketsMessage:\r\n      \"No se encontraron tickets con este estado o término de búsqueda\",\r\n    buttons: {\r\n      accept: \"Aceptar\",\r\n      closed: \"Finalizar\",\r\n      reopen: \"Reabrir\"\r\n    },\r\n  },\r\n  newTicketModal: {\r\n    title: \"Crear Ticket\",\r\n    fieldLabel: \"Escribe para buscar el contacto\",\r\n    add: \"Agregar\",\r\n    buttons: {\r\n      ok: \"Guardar\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n  },\r\n  mainDrawer: {\r\n    listItems: {\r\n      dashboard: \"Tablero\",\r\n      connections: \"Conexiones\",\r\n      tickets: \"Tickets\",\r\n      quickMessages: \"Respuestas Rápidas\",\r\n      contacts: \"Contactos\",\r\n      queues: \"Colas y Chatbot\",\r\n      tags: \"Etiquetas\",\r\n      administration: \"Administración\",\r\n      users: \"Usuarios\",\r\n      settings: \"Configuraciones\",\r\n      helps: \"Ayuda\",\r\n      messagesAPI: \"API\",\r\n      schedules: \"Agendamientos\",\r\n      campaigns: \"Campañas\",\r\n      annoucements: \"Anuncios\",\r\n      chats: \"Chat Interno\",\r\n      financeiro: \"Financiero\",\r\n      files: \"Lista de archivos\",\r\n      prompts: \"Open.Ai\",\r\n      queueIntegration: \"Integraciones\",\r\n    },\r\n    appBar: {\r\n      notRegister:\"Sin notificaciones\",\r\n      user: {\r\n        profile: \"Perfil\",\r\n        logout: \"Salir\",\r\n      },\r\n    },\r\n  },\r\n  queueIntegration: {\r\n    title: \"Integraciones\",\r\n    table: {\r\n      id: \"ID\",\r\n      type: \"Tipo\",\r\n      name: \"Nombre\",\r\n      projectName: \"Nombre del Proyecto\",\r\n      language: \"Idioma\",\r\n      lastUpdate: \"Última actualización\",\r\n      actions: \"Acciones\",\r\n    },\r\n    buttons: {\r\n      add: \"Agregar Proyecto\",\r\n    },\r\n    searchPlaceholder: \"Buscar...\",\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage:\r\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! y se eliminará de las colas y conexiones vinculadas\",\r\n    },\r\n  },\r\n  files: {\r\n    title: \"Lista de archivos\",\r\n    table: {\r\n      name: \"Nombre\",\r\n      contacts: \"Contactos\",\r\n      actions: \"Acción\",\r\n    },\r\n    toasts: {\r\n      deleted: \"¡Lista eliminada correctamente!\",\r\n      deletedAll: \"¡Todas las listas se han eliminado correctamente!\",\r\n    },\r\n    buttons: {\r\n      add: \"Agregar\",\r\n      deleteAll: \"Eliminar Todos\",\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteAllTitle: \"Eliminar Todos\",\r\n      deleteMessage: \"¿Estás seguro de que deseas eliminar esta lista?\",\r\n      deleteAllMessage: \"¿Estás seguro de que deseas eliminar todas las listas?\",\r\n    },\r\n  },\r\n  messagesAPI: {\r\n    title: \"API\",\r\n    textMessage: {\r\n      number: \"Número\",\r\n      body: \"Mensaje\",\r\n      token: \"Token registrado\",\r\n    },\r\n    mediaMessage: {\r\n      number: \"Número\",\r\n      body: \"Nombre del archivo\",\r\n      media: \"Archivo\",\r\n      token: \"Token registrado\",\r\n    },\r\n  },\r\n  notifications: {\r\n    noTickets: \"No hay notificaciones.\",\r\n  },\r\n  quickMessages: {\r\n    title: \"Respuestas Rápidas\",\r\n    searchPlaceholder: \"Buscar...\",\r\n    noAttachment: \"Sin adjunto\",\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminación\",\r\n      deleteMessage: \"¡Esta acción es irreversible! ¿Quieres continuar?\",\r\n    },\r\n    buttons: {\r\n      add: \"Agregar\",\r\n      attach: \"Adjuntar Archivo\",\r\n      cancel: \"Cancelar\",\r\n      edit: \"Editar\",\r\n    },\r\n    toasts: {\r\n      success: \"¡Atajo agregado correctamente!\",\r\n      deleted: \"¡Atajo eliminado correctamente!\",\r\n    },\r\n    dialog: {\r\n      title: \"Mensaje Rápido\",\r\n      shortcode: \"Atajo\",\r\n      message: \"Respuesta\",\r\n      save: \"Guardar\",\r\n      cancel: \"Cancelar\",\r\n      geral: \"Permitir editar\",\r\n      add: \"Agregar\",\r\n      edit: \"Editar\",\r\n      visao: \"Permitir vista\",\r\n    },\r\n    table: {\r\n      shortcode: \"Atajo\",\r\n      message: \"Mensaje\",\r\n      actions: \"Acciones\",\r\n      mediaName: \"Nombre del Archivo\",\r\n      status: \"Estado\",\r\n    },\r\n  },\r\n  messageVariablesPicker: {\r\n    label: \"Variables disponibles\",\r\n    vars: {\r\n      contactFirstName: \"Primer Nombre\",\r\n      contactName: \"Nombre\",\r\n      greeting: \"Saludo\",\r\n      protocolNumber: \"Protocolo\",\r\n      date: \"Fecha\",\r\n      hour: \"Hora\",\r\n    },\r\n  },\r\n  contactLists: {\r\n    title: \"Listas de Contactos\",\r\n    table: {\r\n      name: \"Nombre\",\r\n      contacts: \"Contactos\",\r\n      actions: \"Acciones\",\r\n    },\r\n    buttons: {\r\n      add: \"Nueva Lista\",\r\n    },\r\n    dialog: {\r\n      name: \"Nombre\",\r\n      company: \"Empresa\",\r\n      okEdit: \"Editar\",\r\n      okAdd: \"Agregar\",\r\n      add: \"Agregar\",\r\n      edit: \"Editar\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n    },\r\n    toasts: {\r\n      deleted: \"Registro eliminado\",\r\n    },\r\n  },\r\n  contactListItems: {\r\n    title: \"Contactos\",\r\n    searchPlaceholder: \"Búsqueda\",\r\n    buttons: {\r\n      add: \"Nuevo\",\r\n      lists: \"Listas\",\r\n      import: \"Importar\",\r\n    },\r\n    dialog: {\r\n      name: \"Nombre\",\r\n      number: \"Número\",\r\n      whatsapp: \"Whatsapp\",\r\n      email: \"Correo electrónico\",\r\n      okEdit: \"Editar\",\r\n      okAdd: \"Agregar\",\r\n      add: \"Agregar\",\r\n      edit: \"Editar\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n    table: {\r\n      name: \"Nombre\",\r\n      number: \"Número\",\r\n      whatsapp: \"Whatsapp\",\r\n      email: \"Correo electrónico\",\r\n      actions: \"Acciones\",\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n      importMessage: \"¿Desea importar los contactos de esta hoja de cálculo?\",\r\n      importTitlte: \"Importar\",\r\n    },\r\n    toasts: {\r\n      deleted: \"Registro eliminado\",\r\n    },\r\n  },\r\n  campaigns: {\r\n    title: \"Campañas\",\r\n    searchPlaceholder: \"Búsqueda\",\r\n    buttons: {\r\n      add: \"Nueva Campaña\",\r\n      contactLists: \"Listas de Contactos\",\r\n    },\r\n    table: {\r\n      name: \"Nombre\",\r\n      whatsapp: \"Conexión\",\r\n      contactList: \"Lista de Contactos\",\r\n      status: \"Estado\",\r\n      scheduledAt: \"Programada\",\r\n      completedAt: \"Completada\",\r\n      confirmation: \"Confirmación\",\r\n      actions: \"Acciones\",\r\n    },\r\n    dialog: {\r\n      new: \"Nueva Campaña\",\r\n      update: \"Editar Campaña\",\r\n      readonly: \"Solo Lectura\",\r\n      form: {\r\n        name: \"Nombre\",\r\n        message1: \"Mensaje 1\",\r\n        message2: \"Mensaje 2\",\r\n        message3: \"Mensaje 3\",\r\n        message4: \"Mensaje 4\",\r\n        message5: \"Mensaje 5\",\r\n        confirmationMessage1: \"Mensaje de Confirmación 1\",\r\n        confirmationMessage2: \"Mensaje de Confirmación 2\",\r\n        confirmationMessage3: \"Mensaje de Confirmación 3\",\r\n        confirmationMessage4: \"Mensaje de Confirmación 4\",\r\n        confirmationMessage5: \"Mensaje de Confirmación 5\",\r\n        messagePlaceholder: \"Contenido del mensaje\",\r\n        whatsapp: \"Conexión\",\r\n        status: \"Estado\",\r\n        scheduledAt: \"Programada\",\r\n        confirmation: \"Confirmación\",\r\n        contactList: \"Lista de Contacto\",\r\n        tagList: \"Lista de Etiquetas\",\r\n        fileList: \"Lista de Archivos\"\r\n      },\r\n      buttons: {\r\n        add: \"Agregar\",\r\n        edit: \"Actualizar\",\r\n        okadd: \"Ok\",\r\n        cancel: \"Cancelar\",\r\n        restart: \"Reiniciar Campañas\",\r\n        close: \"Cerrar\",\r\n        attach: \"Adjuntar Archivo\",\r\n      },\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n    },\r\n    toasts: {\r\n      success: \"Operación realizada correctamente\",\r\n      cancel: \"Campaña cancelada\",\r\n      restart: \"Campañas reiniciadas\",\r\n      deleted: \"Registro eliminado\",\r\n    },\r\n  },\r\n  announcements: {\r\n    active: 'Activo',\r\n    inactive: 'Inactivo',\r\n    title: \"Informativos\",\r\n    searchPlaceholder: \"Búsqueda\",\r\n    buttons: {\r\n      add: \"Nuevo Informativo\",\r\n      contactLists: \"Listas de Informativos\",\r\n    },\r\n    table: {\r\n      priority: \"Prioridad\",\r\n      title: \"Título\",\r\n      text: \"Texto\",\r\n      mediaName: \"Archivo\",\r\n      status: \"Estado\",\r\n      actions: \"Acciones\",\r\n    },\r\n    dialog: {\r\n      edit: \"Editar Informativo\",\r\n      add: \"Nuevo Informativo\",\r\n      update: \"Editar Informativo\",\r\n      readonly: \"Solo Lectura\",\r\n      form: {\r\n        priority: \"Prioridad\",\r\n        title: \"Título\",\r\n        text: \"Texto\",\r\n        mediaPath: \"Archivo\",\r\n        status: \"Estado\",\r\n      },\r\n      buttons: {\r\n        add: \"Agregar\",\r\n        edit: \"Actualizar\",\r\n        okadd: \"Ok\",\r\n        cancel: \"Cancelar\",\r\n        close: \"Cerrar\",\r\n        attach: \"Adjuntar Archivo\",\r\n      },\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n    },\r\n    toasts: {\r\n      success: \"Operación realizada correctamente\",\r\n      deleted: \"Registro eliminado\",\r\n    },\r\n  },\r\n  campaignsConfig: {\r\n    title: \"Configuraciones de Campañas\",\r\n  },\r\n  queues: {\r\n    title: \"Colas y Chatbot\",\r\n    table: {\r\n      id:\"ID\",\r\n      name: \"Nombre\",\r\n      color: \"Color\",\r\n      greeting: \"Mensaje de bienvenida\",\r\n      actions: \"Acciones\",\r\n      orderQueue: \"Orden de la cola (bot)\",\r\n    },\r\n    buttons: {\r\n      add: \"Agregar cola\",\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage:\r\n        \"¿Estás seguro? ¡Esta acción no se puede deshacer! Los tickets de esta cola seguirán existiendo pero ya no tendrán ninguna cola asignada.\",\r\n    },\r\n  },\r\n  queueSelect: {\r\n    inputLabel: \"Colas\",\r\n  },\r\n  users: {\r\n    title: \"Usuarios\",\r\n    table: {\r\n\t  id: \"ID\",\r\n      name: \"Nombre\",\r\n      email: \"Email\",\r\n      profile: \"Perfil\",\r\n      actions: \"Acciones\",\r\n    },\r\n    buttons: {\r\n      add: \"Agregar usuario\",\r\n    },\r\n    toasts: {\r\n      deleted: \"Usuario eliminado correctamente.\",\r\n    },\r\n    confirmationModal: {\r\n      deleteTitle: \"Eliminar\",\r\n      deleteMessage:\r\n        \"Todos los datos del usuario se perderán. Los tickets abiertos de este usuario se moverán a la cola.\",\r\n    },\r\n  },\r\n  helps: {\r\n    title: \"Centro de Ayuda\",\r\n  },\r\n  schedules: {\r\n    title: \"Agendamientos\",\r\n    confirmationModal: {\r\n      deleteTitle: \"¿Estás seguro que quieres eliminar este Agendamiento?\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n    },\r\n    table: {\r\n      contact: \"Contacto\",\r\n      body: \"Mensaje\",\r\n      sendAt: \"Fecha de Agendamiento\",\r\n      sentAt: \"Fecha de Envío\",\r\n      status: \"Estado\",\r\n      actions: \"Acciones\",\r\n    },\r\n    buttons: {\r\n      add: \"Nuevo Agendamiento\",\r\n    },\r\n    toasts: {\r\n      deleted: \"Agendamiento eliminado correctamente.\",\r\n    },\r\n  },\r\n  tags: {\r\n    title: \"Etiquetas\",\r\n    confirmationModal: {\r\n      deleteTitle: \"¿Estás seguro que quieres eliminar esta Etiqueta?\",\r\n      deleteMessage: \"Esta acción no se puede deshacer.\",\r\n\t  deleteAllMessage: \"¿Estás seguro que quieres eliminar todas las Etiquetas?\",\r\n\t  deleteAllTitle: \"Eliminar Todas\",\r\n    },\r\n    table: {\r\n      name: \"Nombre\",\r\n      color: \"Color\",\r\n      tickets: \"Tickets Etiquetados\",\r\n      actions: \"Acciones\",\r\n    },\r\n    buttons: {\r\n      add: \"Nueva Etiqueta\",\r\n\t  deleteAll: \"Eliminar Todas\",\r\n    },\r\n    toasts: {\r\n\t  deletedAll: \"¡Todas las Etiquetas se han eliminado correctamente!\",\r\n      deleted: \"Etiqueta eliminada correctamente.\",\r\n    },\r\n  },\r\n  settings: {\r\n    success: \"Configuraciones guardadas correctamente.\",\r\n    title: \"Configuraciones\",\r\n    settings: {\r\n      userCreation: {\r\n        name: \"Creación de usuario\",\r\n        options: {\r\n          enabled: \"Habilitado\",\r\n          disabled: \"Deshabilitado\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n  messagesList: {\r\n    header: {\r\n      assignedTo: \"Asignado a:\",\r\n      buttons: {\r\n        return: \"Volver\",\r\n        resolve: \"Resolver\",\r\n        reopen: \"Reabrir\",\r\n        accept: \"Aceptar\",\r\n      },\r\n    },\r\n  },\r\n  messagesInput: {\r\n    placeholderOpen: \"Escribe un mensaje\",\r\n    placeholderClosed:\r\n      \"Reabra o acepte este ticket para enviar un mensaje.\",\r\n    signMessage: \"Firmar\",\r\n  },\r\n  contactDrawer: {\r\n    header: \"Datos del contacto\",\r\n    buttons: {\r\n      edit: \"Editar contacto\",\r\n    },\r\n    extraInfo: \"Información adicional\",\r\n  },\r\n  fileModal: {\r\n    title: {\r\n      add: \"Agregar lista de archivos\",\r\n      edit: \"Editar lista de archivos\",\r\n    },\r\n    buttons: {\r\n      okAdd: \"Guardar\",\r\n      okEdit: \"Editar\",\r\n      cancel: \"Cancelar\",\r\n      fileOptions: \"Agregar archivo\",\r\n    },\r\n    form: {\r\n      name: \"Nombre de la lista de archivos\",\r\n      message: \"Detalles de la lista\",\r\n      fileOptions: \"Lista de archivos\",\r\n      extraName: \"Mensaje para enviar con archivo\",\r\n      extraValue: \"Valor de la opción\",\r\n    },\r\n    success: \"Lista de archivos guardada correctamente!\",\r\n  },\r\n  ticketOptionsMenu: {\r\n    schedule: \"Programación\",\r\n    delete: \"Eliminar\",\r\n    transfer: \"Transferir\",\r\n    registerAppointment: \"Observaciones del Contacto\",\r\n    appointmentsModal: {\r\n      title: \"Observaciones del Contacto\",\r\n      textarea: \"Observación\",\r\n      placeholder: \"Inserta aquí la información que deseas registrar\",\r\n    },\r\n    confirmationModal: {\r\n      title: \"Eliminar el ticket\",\r\n\t  titleFrom: \"del contacto \",\r\n      message:\r\n        \"¡Atención! Todos los mensajes relacionados con el ticket se perderán.\",\r\n    },\r\n    buttons: {\r\n      delete: \"Eliminar\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n  },\r\n  confirmationModal: {\r\n    buttons: {\r\n      confirm: \"Ok\",\r\n      cancel: \"Cancelar\",\r\n    },\r\n  },\r\n  messageOptionsMenu: {\r\n    delete: \"Eliminar\",\r\n    reply: \"Responder\",\r\n    confirmationModal: {\r\n      title: \"¿Eliminar mensaje?\",\r\n      message: \"Esta acción no se puede deshacer.\",\r\n    },\r\n  },\r\n  backendErrors: {\r\n    ERR_NO_OTHER_WHATSAPP: \"Debe haber al menos un WhatsApp predeterminado.\",\r\n    ERR_NO_DEF_WAPP_FOUND:\r\n      \"No se encontró ningún WhatsApp predeterminado. Comprueba la página de conexiones.\",\r\n    ERR_WAPP_NOT_INITIALIZED:\r\n      \"Esta sesión de WhatsApp no se ha inicializado. Comprueba la página de conexiones.\",\r\n    ERR_WAPP_CHECK_CONTACT:\r\n      \"No se pudo verificar el contacto de WhatsApp. Comprueba la página de conexiones\",\r\n    ERR_WAPP_INVALID_CONTACT: \"Este no es un número de WhatsApp válido.\",\r\n    ERR_WAPP_DOWNLOAD_MEDIA:\r\n      \"No se pudo descargar medios de WhatsApp. Comprueba la página de conexiones.\",\r\n    ERR_INVALID_CREDENTIALS:\r\n      \"Error de autenticación. Por favor, inténtalo de nuevo.\",\r\n    ERR_SENDING_WAPP_MSG:\r\n      \"Error al enviar mensaje de WhatsApp. Comprueba la página de conexiones.\",\r\n    ERR_DELETE_WAPP_MSG: \"No se pudo eliminar el mensaje de WhatsApp.\",\r\n    ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\r\n    ERR_SESSION_EXPIRED: \"Sesión expirada. Por favor, inicia sesión.\",\r\n    ERR_USER_CREATION_DISABLED:\r\n      \"La creación de usuarios ha sido deshabilitada por el administrador.\",\r\n    ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\r\n    ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\r\n    ERR_NO_SETTING_FOUND: \"No se encontró ninguna configuración con esta ID.\",\r\n    ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con esta ID.\",\r\n    ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con esta ID.\",\r\n    ERR_NO_USER_FOUND: \"No se encontró ningún usuario con esta ID.\",\r\n    ERR_NO_WAPP_FOUND: \"No se encontró ningún WhatsApp con esta ID.\",\r\n    ERR_CREATING_MESSAGE: \"Error al crear mensaje en la base de datos.\",\r\n    ERR_CREATING_TICKET: \"Error al crear ticket en la base de datos.\",\r\n    ERR_FETCH_WAPP_MSG:\r\n      \"Error al obtener mensaje de WhatsApp, puede que sea muy antiguo.\",\r\n    ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n      \"Este color ya está en uso, elige otro.\",\r\n    ERR_WAPP_GREETING_REQUIRED:\r\n      \"El saludo es obligatorio cuando hay más de una cola.\",\r\n      },\r\n    },\r\n  },\r\n },\r\n};\r\n\r\nexport { messages };\r\n","import i18n from \"i18next\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\n\r\nimport { messages } from \"./languages\";\r\n\r\ni18n.use(LanguageDetector).init({\r\n\tdebug: false,\r\n\tdefaultNS: [\"translations\"],\r\n\tfallbackLng: \"pt\",\r\n\tns: [\"translations\"],\r\n\tresources: messages,\r\n});\r\n\r\nexport { i18n };\r\n","import { toast } from \"react-toastify\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { isString } from 'lodash';\r\n\r\nconst toastError = err => {\r\n\tconst errorMsg = err.response?.data?.error;\r\n\tif (errorMsg) {\r\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\r\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t} else {\r\n\t\t\ttoast.error(errorMsg, {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t} if (isString(err)) {\r\n\t\ttoast.error(err);\r\n\t\treturn\r\n\t} else {\r\n\t\ttoast.error(\"An error occurred!\");\r\n\t\treturn\r\n\t}\r\n};\r\n\r\nexport default toastError;\r\n","import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true,\r\n});\r\n\r\nexport const openApi = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\r\n});\r\n\r\nexport default api;\r\n","import openSocket from \"socket.io-client\";\r\nimport { isObject } from \"lodash\";\r\n\r\nexport function socketConnection(params) {\r\n  let userId = null;\r\n  if (localStorage.getItem(\"userId\")) {\r\n    userId = localStorage.getItem(\"userId\");\r\n  }\r\n  return openSocket(process.env.REACT_APP_BACKEND_URL, {\r\n    transports: [\"websocket\", \"polling\", \"flashsocket\"],\r\n    pingTimeout: 18000,\r\n    pingInterval: 18000,\r\n    query: isObject(params) ? { ...params} : { userId: params.userId },\r\n  });\r\n}\r\n","import { useState, useEffect, useReducer } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_WHATSAPPS\") {\r\n    const whatsApps = action.payload;\r\n\r\n    return [...whatsApps];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_WHATSAPPS\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex] = whatsApp;\r\n      return [...state];\r\n    } else {\r\n      return [whatsApp, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SESSION\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex].status = whatsApp.status;\r\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\r\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\r\n      state[whatsAppIndex].retries = whatsApp.retries;\r\n      return [...state];\r\n    } else {\r\n      return [...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_WHATSAPPS\") {\r\n    const whatsAppId = action.payload;\r\n\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\r\n    if (whatsAppIndex !== -1) {\r\n      state.splice(whatsAppIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useWhatsApps = () => {\r\n  const [whatsApps, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchSession = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/whatsapp/?session=0\");\r\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setLoading(false);\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return { whatsApps, loading };\r\n};\r\n\r\nexport default useWhatsApps;\r\n","import React, { createContext } from \"react\";\r\n\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\n\r\nconst WhatsAppsContext = createContext();\r\n\r\nconst WhatsAppsProvider = ({ children }) => {\r\n\tconst { loading, whatsApps } = useWhatsApps();\r\n\r\n\treturn (\r\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\r\n\t\t\t{children}\r\n\t\t</WhatsAppsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { WhatsAppsContext, WhatsAppsProvider };\r\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { has, isArray } from \"lodash\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport moment from \"moment\";\r\nconst useAuth = () => {\r\n  const history = useHistory();\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState({});\r\n\r\n  api.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\r\n        setIsAuth(true);\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  api.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    async (error) => {\r\n      const originalRequest = error.config;\r\n      if (error?.response?.status === 403 && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n\r\n        const { data } = await api.post(\"/auth/refresh_token\");\r\n        if (data) {\r\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        }\r\n        return api(originalRequest);\r\n      }\r\n      if (error?.response?.status === 401) {\r\n        localStorage.removeItem(\"token\");\r\n        localStorage.removeItem(\"companyId\");\r\n        api.defaults.headers.Authorization = undefined;\r\n        setIsAuth(false);\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    (async () => {\r\n      if (token) {\r\n        try {\r\n          const { data } = await api.post(\"/auth/refresh_token\");\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n          setIsAuth(true);\r\n          setUser(data.user);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    if (companyId) {\r\n   \r\n    const socket = socketConnection({ companyId });\r\n\r\n      socket.on(`company-${companyId}-user`, (data) => {\r\n        if (data.action === \"update\" && data.user.id === user.id) {\r\n          setUser(data.user);\r\n        }\r\n      });\r\n    \r\n    \r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  const handleLogin = async (userData) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { data } = await api.post(\"/auth/login\", userData);\r\n      const {\r\n        user: { companyId, id, company },\r\n      } = data;\r\n\r\n      if (has(company, \"settings\") && isArray(company.settings)) {\r\n        const setting = company.settings.find(\r\n          (s) => s.key === \"campaignsEnabled\"\r\n        );\r\n        if (setting && setting.value === \"true\") {\r\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\r\n        }\r\n      }\r\n\r\n      moment.locale('pt-br');\r\n      const dueDate = data.user.company.dueDate;\r\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\r\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\r\n\r\n      var diff = moment(dueDate).diff(moment(moment()).format());\r\n\r\n      var before = moment(moment().format()).isBefore(dueDate);\r\n      var dias = moment.duration(diff).asDays();\r\n\r\n      if (before === true) {\r\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n        localStorage.setItem(\"companyId\", companyId);\r\n        localStorage.setItem(\"userId\", id);\r\n        localStorage.setItem(\"companyDueDate\", vencimento);\r\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        setUser(data.user);\r\n        setIsAuth(true);\r\n        toast.success(i18n.t(\"auth.toasts.success\"));\r\n        if (Math.round(dias) < 5) {\r\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\r\n        }\r\n        history.push(\"/tickets\");\r\n        setLoading(false);\r\n      } else {\r\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\r\nEntre em contato com o Suporte para mais informações! `);\r\n        setLoading(false);\r\n      }\r\n\r\n      //quebra linha \r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      await api.delete(\"/auth/logout\");\r\n      setIsAuth(false);\r\n      setUser({});\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"companyId\");\r\n      localStorage.removeItem(\"userId\");\r\n      localStorage.removeItem(\"cshow\");\r\n      api.defaults.headers.Authorization = undefined;\r\n      setLoading(false);\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCurrentUserInfo = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/auth/me\");\r\n      return data;\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isAuth,\r\n    user,\r\n    loading,\r\n    handleLogin,\r\n    handleLogout,\r\n    getCurrentUserInfo,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { createContext } from \"react\";\r\n\r\nimport useAuth from \"../../hooks/useAuth.js\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","const rules = {\r\n\tuser: {\r\n\t\tstatic: [],\r\n\t},\r\n\r\n\tadmin: {\r\n\t\tstatic: [\r\n\t\t\t\"dashboard:view\",\r\n\t\t\t\"drawer-admin-items:view\",\r\n\t\t\t\"tickets-manager:showall\",\r\n\t\t\t\"user-modal:editProfile\",\r\n\t\t\t\"user-modal:editQueues\",\r\n\t\t\t\"ticket-options:deleteTicket\",\r\n\t\t\t\"contacts-page:deleteContact\",\r\n\t\t\t\"connections-page:actionButtons\",\r\n\t\t\t\"connections-page:addConnection\",\r\n\t\t\t\"connections-page:editOrDeleteConnection\"\r\n\t\t],\r\n\t},\r\n};\r\n\r\nexport default rules;\r\n","import rules from \"../../rules\";\r\n\r\nconst check = (role, action, data) => {\r\n\tconst permissions = rules[role];\r\n\tif (!permissions) {\r\n\t\t// role is not present in the rules\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst staticPermissions = permissions.static;\r\n\r\n\tif (staticPermissions && staticPermissions.includes(action)) {\r\n\t\t// static rule not provided for action\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst dynamicPermissions = permissions.dynamic;\r\n\r\n\tif (dynamicPermissions) {\r\n\t\tconst permissionCondition = dynamicPermissions[action];\r\n\t\tif (!permissionCondition) {\r\n\t\t\t// dynamic rule not provided for action\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn permissionCondition(data);\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nconst Can = ({ role, perform, data, yes, no }) =>\r\n\tcheck(role, perform, data) ? yes() : no();\r\n\r\nCan.defaultProps = {\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport { Can };\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    margin: '2rem'\r\n  },\r\n  inputContainer: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    marginBottom: '1rem'\r\n  },\r\n  input: {\r\n    flexGrow: 1,\r\n    marginRight: '1rem'\r\n  },\r\n  listContainer: {\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: '1rem',\r\n    backgroundColor: '#f5f5f5',\r\n    borderRadius: '5px',\r\n  },\r\n  list: {\r\n    marginBottom: '5px'\r\n  }\r\n});\r\n\r\nconst ToDoList = () => {\r\n  const classes = useStyles();\r\n\r\n  const [task, setTask] = useState('');\r\n  const [tasks, setTasks] = useState([]);\r\n  const [editIndex, setEditIndex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    const savedTasks = localStorage.getItem('tasks');\r\n    if (savedTasks) {\r\n      setTasks(JSON.parse(savedTasks));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('tasks', JSON.stringify(tasks));\r\n  }, [tasks]);\r\n\r\n  const handleTaskChange = (event) => {\r\n    setTask(event.target.value);\r\n  };\r\n\r\n  const handleAddTask = () => {\r\n    if (!task.trim()) {\r\n      // Impede que o usuário crie uma tarefa sem texto\r\n      return;\r\n    }\r\n\r\n    const now = new Date();\r\n    if (editIndex >= 0) {\r\n      // Editar tarefa existente\r\n      const newTasks = [...tasks];\r\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\r\n      setTasks(newTasks);\r\n      setTask('');\r\n      setEditIndex(-1);\r\n    } else {\r\n      // Adicionar nova tarefa\r\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\r\n      setTask('');\r\n    }\r\n  };\r\n\r\n  const handleEditTask = (index) => {\r\n    setTask(tasks[index].text);\r\n    setEditIndex(index);\r\n  };\r\n\r\n  const handleDeleteTask = (index) => {\r\n    const newTasks = [...tasks];\r\n    newTasks.splice(index, 1);\r\n    setTasks(newTasks);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.inputContainer}>\r\n        <TextField\r\n          className={classes.input}\r\n          label=\"Nova tarefa\"\r\n          value={task}\r\n          onChange={handleTaskChange}\r\n          variant=\"outlined\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\r\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\r\n        </Button>\r\n      </div>\r\n      <div className={classes.listContainer}>\r\n        <List>\r\n          {tasks.map((task, index) => (\r\n            <ListItem key={index} className={classes.list}>\r\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton onClick={() => handleEditTask(index)}>\r\n                  <EditIcon />\r\n                </IconButton>\r\n                <IconButton onClick={() => handleDeleteTask(index)}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ToDoList;\r\n","import api, { openApi } from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const getPlanList = async (params) => {\r\n        const { data } = await openApi.request({\r\n            url: '/plans/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/plans/all',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const finder = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/plans/${id}`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/plans',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/plans/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/plans/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const getPlanCompany = async (params, id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/listPlan/${id}`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        getPlanList,\r\n        list,\r\n        save,\r\n        update,\r\n        finder,\r\n        remove,\r\n        getPlanCompany\r\n    }\r\n}\r\n\r\nexport default usePlans;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { Badge, Collapse, List } from \"@material-ui/core\";\r\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\n//import SyncAltIcon from \"@material-ui/icons/SyncAlt\";\r\nimport SwapHorizOutlinedIcon from '@mui/icons-material/SwapHorizOutlined';\r\n//import SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport FingerprintOutlinedIcon from '@mui/icons-material/FingerprintOutlined';\r\n//import PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\r\nimport GroupsOutlinedIcon from '@mui/icons-material/GroupsOutlined';\r\n//import ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\r\nimport PeopleAltOutlinedIcon from '@mui/icons-material/PeopleAltOutlined';\r\n//import AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\r\nimport ViewAgendaOutlinedIcon from '@mui/icons-material/ViewAgendaOutlined';\r\n//import FlashOnIcon from \"@material-ui/icons/FlashOn\";\r\nimport DynamicFormIcon from '@mui/icons-material/DynamicForm';\r\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\r\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\r\n//import EventIcon from \"@material-ui/icons/Event\";\r\nimport CalendarMonthOutlinedIcon from '@mui/icons-material/CalendarMonthOutlined';\r\n//import LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\r\nimport DiscountOutlinedIcon from '@mui/icons-material/DiscountOutlined';\r\n//import EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport WysiwygOutlinedIcon from '@mui/icons-material/WysiwygOutlined';\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n//import PeopleIcon from \"@material-ui/icons/People\";\r\nimport PermIdentityOutlinedIcon from '@mui/icons-material/PermIdentityOutlined';\r\n//import ListIcon from \"@material-ui/icons/ListAlt\";\r\nimport AssignmentOutlinedIcon from '@mui/icons-material/AssignmentOutlined';\r\n//import AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport ReportGmailerrorredOutlinedIcon from '@mui/icons-material/ReportGmailerrorredOutlined';\r\n//import ForumIcon from \"@material-ui/icons/Forum\";\r\nimport ForumOutlinedIcon from '@mui/icons-material/ForumOutlined';\r\n//import LocalAtmIcon from '@material-ui/icons/LocalAtm';\r\nimport RequestPageOutlinedIcon from '@mui/icons-material/RequestPageOutlined';\r\nimport RotateRight from \"@material-ui/icons/RotateRight\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\r\nimport { Can } from \"../components/Can\";\r\nimport { socketConnection } from \"../services/socket\";\r\nimport { isArray } from \"lodash\";\r\n//import TableChartIcon from '@material-ui/icons/TableChart';\r\nimport SpaceDashboardIcon from '@mui/icons-material/SpaceDashboard';\r\nimport api from \"../services/api\";\r\n//import BorderColorIcon from '@material-ui/icons/BorderColor';\r\nimport PendingActionsOutlinedIcon from '@mui/icons-material/PendingActionsOutlined';\r\nimport ToDoList from \"../pages/ToDoList/\";\r\nimport toastError from \"../errors/toastError\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n//import { AllInclusive, AttachFile, DeviceHubOutlined, Schedule } from '@material-ui/icons';\r\nimport CloudOutlinedIcon from '@mui/icons-material/CloudOutlined';\r\nimport WebhookOutlinedIcon from '@mui/icons-material/WebhookOutlined';\r\nimport PolylineOutlinedIcon from '@mui/icons-material/PolylineOutlined';\r\nimport usePlans from \"../hooks/usePlans\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ListSubheader: {\r\n    height: 26,\r\n    marginTop: \"-15px\",\r\n    marginBottom: \"-10px\",\r\n  },\r\n}));\r\n\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to, className } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef((itemProps, ref) => (\r\n        <RouterLink to={to} ref={ref} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button dense component={renderLink} className={className} style={{ color: 'black' }}>\r\n        {icon ? <ListItemIcon style={{ color: 'black' }}>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} style={{ color: 'black' }} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nconst MainListItems = (props) => {\r\n  const classes = useStyles();\r\n  const { drawerClose, collapsed } = props;\r\n  const { whatsApps } = useContext(WhatsAppsContext);\r\n  const { user, handleLogout } = useContext(AuthContext);\r\n  const [connectionWarning, setConnectionWarning] = useState(false);\r\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [showKanban, setShowKanban] = useState(false);\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false); const history = useHistory();\r\n  const [showSchedules, setShowSchedules] = useState(false);\r\n  const [showInternalChat, setShowInternalChat] = useState(false);\r\n  const [showExternalApi, setShowExternalApi] = useState(false);\r\n\r\n  const [invisible, setInvisible] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowCampaigns(planConfigs.plan.useCampaigns);\r\n      setShowKanban(planConfigs.plan.useKanban);\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n      setShowSchedules(planConfigs.plan.useSchedules);\r\n      setShowInternalChat(planConfigs.plan.useInternalChat);\r\n      setShowExternalApi(planConfigs.plan.useExternalApi);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-chat`, (data) => {\r\n      if (data.action === \"new-message\") {\r\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n      }\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"cshow\")) {\r\n      setShowCampaigns(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      if (whatsApps.length > 0) {\r\n        const offlineWhats = whatsApps.filter((whats) => {\r\n          return (\r\n            whats.status === \"qrcode\" ||\r\n            whats.status === \"PAIRING\" ||\r\n            whats.status === \"DISCONNECTED\" ||\r\n            whats.status === \"TIMEOUT\" ||\r\n            whats.status === \"OPENING\"\r\n          );\r\n        });\r\n        if (offlineWhats.length > 0) {\r\n          setConnectionWarning(true);\r\n        } else {\r\n          setConnectionWarning(false);\r\n        }\r\n      }\r\n    }, 2000);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [whatsApps]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    //handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  return (\r\n    <div onClick={drawerClose}>\r\n      <Can\r\n        role={user.profile}\r\n        perform={\"drawer-service-items:view\"}\r\n        style={{\r\n          overflowY: \"scroll\",\r\n        }}\r\n        no={() => (\r\n          <>\r\n            <ListSubheader\r\n              hidden={collapsed}\r\n              style={{\r\n                position: \"relative\",\r\n                fontSize: \"17px\",\r\n                textAlign: \"left\",\r\n                paddingLeft: 20\r\n              }}\r\n              inset\r\n              color=\"inherit\">\r\n              {i18n.t(\"Atendimento\")}\r\n            </ListSubheader>\r\n            <>\r\n\r\n              <ListItemLink\r\n                to=\"/tickets\"\r\n                primary={i18n.t(\"mainDrawer.listItems.tickets\")}\r\n                icon={<WhatsAppIcon style={{ color: 'black' }} />}\r\n              />\r\n              <ListItemLink\r\n                to=\"/quick-messages\"\r\n                primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\r\n                icon={<DynamicFormIcon style={{ color: 'black' }} />}\r\n              />\r\n              {showKanban && (\r\n                <ListItemLink\r\n                  to=\"/kanban\"\r\n                  primary=\"Kanban\"\r\n                  icon={<SpaceDashboardIcon style={{ color: 'black' }} />}\r\n                />\r\n              )}\r\n              <ListItemLink\r\n                to=\"/todolist\"\r\n                primary={i18n.t(\"Tarefas\")}\r\n                icon={<PendingActionsOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n              {showSchedules && (\r\n                <>\r\n                  <ListItemLink\r\n                    to=\"/schedules\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.schedules\")}\r\n                    icon={<CalendarMonthOutlinedIcon style={{ color: 'black' }} />}\r\n                  />\r\n                </>\r\n              )}\r\n              <ListItemLink\r\n                to=\"/tags\"\r\n                primary={i18n.t(\"mainDrawer.listItems.tags\")}\r\n                icon={<DiscountOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n              {showInternalChat && (\r\n                <>\r\n                  <ListItemLink\r\n                    to=\"/chats\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.chats\")}\r\n                    icon={\r\n                      <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n                        <ForumOutlinedIcon style={{ color: 'black' }} />\r\n                      </Badge>\r\n                    }\r\n                  />\r\n                </>\r\n              )}\r\n              <ListItemLink\r\n                to=\"/helps\"\r\n                primary={i18n.t(\"mainDrawer.listItems.helps\")}\r\n                icon={<HelpOutlineIcon style={{ color: 'black' }} />}\r\n              />\r\n            </>\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <Can\r\n        role={user.profile}\r\n        perform={\"drawer-admin-items:view\"}\r\n        yes={() => (\r\n          <>\r\n            <Divider />\r\n            <ListSubheader\r\n              hidden={collapsed}\r\n              style={{\r\n                position: \"relative\",\r\n                fontSize: \"17px\",\r\n                textAlign: \"left\",\r\n                paddingLeft: 20\r\n              }}\r\n              inset\r\n              color=\"inherit\">\r\n              {i18n.t(\"Painel Principal\")}\r\n            </ListSubheader>\r\n            <ListItemLink\r\n              small\r\n              to=\"/\"\r\n              primary=\"Dashboard\"\r\n              icon={<DashboardOutlinedIcon style={{ color: 'black' }} />}\r\n            />\r\n          </>\r\n        )}\r\n      />\r\n      <Can\r\n        role={user.profile}\r\n        perform=\"drawer-admin-items:view\"\r\n        yes={() => (\r\n          <>\r\n            <Divider />\r\n            <ListSubheader\r\n              hidden={collapsed}\r\n              style={{\r\n                position: \"relative\",\r\n                fontSize: \"17px\",\r\n                textAlign: \"left\",\r\n                paddingLeft: 20\r\n              }}\r\n              inset\r\n              color=\"inherit\">\r\n              {i18n.t(\"mainDrawer.listItems.management\")}\r\n            </ListSubheader>\r\n\r\n            {showCampaigns && (\r\n              <>\r\n                <ListItem\r\n                  button\r\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\r\n                >\r\n                  <ListItemIcon>\r\n                    <WysiwygOutlinedIcon style={{ color: 'black' }} />\r\n                  </ListItemIcon>\r\n                  <ListItemText\r\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\r\n                  />\r\n                  {openCampaignSubmenu ? (\r\n                    <ExpandLessIcon style={{ color: 'black' }} />\r\n                  ) : (\r\n                    <ExpandMoreIcon style={{ color: 'black' }} />\r\n                  )}\r\n                </ListItem>\r\n                <Collapse\r\n                  style={{ paddingLeft: 15 }}\r\n                  in={openCampaignSubmenu}\r\n                  timeout=\"auto\"\r\n                  unmountOnExit\r\n                >\r\n                  <List component=\"div\" disablePadding>\r\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\r\n                      <ListItemIcon>\r\n                        <AssignmentOutlinedIcon style={{ color: 'black' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Listagem\" />\r\n                    </ListItem>\r\n                    <ListItem\r\n                      onClick={() => history.push(\"/contact-lists\")}\r\n                      button\r\n                    >\r\n                      <ListItemIcon>\r\n                        <PermIdentityOutlinedIcon style={{ color: 'black' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Listas de Contatos\" />\r\n                    </ListItem>\r\n                    <ListItem\r\n                      onClick={() => history.push(\"/campaigns-config\")}\r\n                      button\r\n                    >\r\n                      <ListItemIcon>\r\n                        <FingerprintOutlinedIcon style={{ color: 'black' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"Configurações\" />\r\n                    </ListItem>\r\n                  </List>\r\n                </Collapse>\r\n              </>\r\n            )}\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/announcements\"\r\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\r\n                icon={<ReportGmailerrorredOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n            )}\r\n            {showOpenAi && (\r\n              <ListItemLink\r\n                to=\"/prompts\"\r\n                primary={i18n.t(\"mainDrawer.listItems.prompts\")}\r\n                icon={<WebhookOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n            )}\r\n\r\n            {showIntegrations && (\r\n              <ListItemLink\r\n                to=\"/queue-integration\"\r\n                primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\r\n                icon={<PolylineOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n            )}\r\n            <ListItemLink\r\n              to=\"/connections\"\r\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\r\n              icon={\r\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\r\n                  <SwapHorizOutlinedIcon style={{ color: 'black' }} />\r\n                </Badge>\r\n              }\r\n            />\r\n            <ListItemLink\r\n              to=\"/files\"\r\n              primary={i18n.t(\"mainDrawer.listItems.files\")}\r\n              icon={<CloudOutlinedIcon style={{ color: 'black' }} />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/queues\"\r\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\r\n              icon={<ViewAgendaOutlinedIcon style={{ color: 'black' }} />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/users\"\r\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n              icon={<GroupsOutlinedIcon style={{ color: 'black' }} />}\r\n            />\r\n            {showExternalApi && (\r\n              <>\r\n                <ListItemLink\r\n                  to=\"/messages-api\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\r\n                  icon={<CodeRoundedIcon style={{ color: 'black' }} />}\r\n                />\r\n              </>\r\n            )}\r\n            <ListItemLink\r\n                to=\"/contacts\"\r\n                primary={i18n.t(\"mainDrawer.listItems.contacts\")}\r\n                icon={<PeopleAltOutlinedIcon style={{ color: 'black' }} />}\r\n              />\r\n            <ListItemLink\r\n              to=\"/financeiro\"\r\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\r\n              icon={<RequestPageOutlinedIcon style={{ color: 'black' }} />}\r\n            />\r\n\r\n            <ListItemLink\r\n              to=\"/settings\"\r\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\r\n              icon={<FingerprintOutlinedIcon style={{ color: 'black' }} />}\r\n            />\t\t\t\r\n\t\t\t\r\n            {!collapsed && <React.Fragment>\r\n              <Divider />\r\n              {/* \r\n              // IMAGEM NO MENU\r\n              <Hidden only={['sm', 'xs']}>\r\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \r\n              </Hidden> \r\n              */}\r\n              <Typography style={{ fontSize: \"12px\", padding: \"10px\", textAlign: \"right\", fontWeight: \"bold\", color: 'black' }}>\r\n                Versão: 0.3.0\r\n              </Typography>\r\n            </React.Fragment>\r\n            }\r\n\t\t\t\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainListItems;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { CircularProgress, Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\r\n\t\t\t{children}\r\n\t\t\t{loading && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default ButtonWithSpinner;\r\n","import React from \"react\";\r\nimport Markdown from \"markdown-to-jsx\";\r\n\r\nconst elements = [\r\n\t\"a\",\r\n\t\"abbr\",\r\n\t\"address\",\r\n\t\"area\",\r\n\t\"article\",\r\n\t\"aside\",\r\n\t\"audio\",\r\n\t\"b\",\r\n\t\"base\",\r\n\t\"bdi\",\r\n\t\"bdo\",\r\n\t\"big\",\r\n\t\"blockquote\",\r\n\t\"body\",\r\n\t\"br\",\r\n\t\"button\",\r\n\t\"canvas\",\r\n\t\"caption\",\r\n\t\"cite\",\r\n\t\"code\",\r\n\t\"col\",\r\n\t\"colgroup\",\r\n\t\"data\",\r\n\t\"datalist\",\r\n\t\"dd\",\r\n\t\"del\",\r\n\t\"details\",\r\n\t\"dfn\",\r\n\t\"dialog\",\r\n\t\"div\",\r\n\t\"dl\",\r\n\t\"dt\",\r\n\t\"em\",\r\n\t\"embed\",\r\n\t\"fieldset\",\r\n\t\"figcaption\",\r\n\t\"figure\",\r\n\t\"footer\",\r\n\t\"form\",\r\n\t\"h1\",\r\n\t\"h2\",\r\n\t\"h3\",\r\n\t\"h4\",\r\n\t\"h5\",\r\n\t\"h6\",\r\n\t\"head\",\r\n\t\"header\",\r\n\t\"hgroup\",\r\n\t\"hr\",\r\n\t\"html\",\r\n\t\"i\",\r\n\t\"iframe\",\r\n\t\"img\",\r\n\t\"input\",\r\n\t\"ins\",\r\n\t\"kbd\",\r\n\t\"keygen\",\r\n\t\"label\",\r\n\t\"legend\",\r\n\t\"li\",\r\n\t\"link\",\r\n\t\"main\",\r\n\t\"map\",\r\n\t\"mark\",\r\n\t\"marquee\",\r\n\t\"menu\",\r\n\t\"menuitem\",\r\n\t\"meta\",\r\n\t\"meter\",\r\n\t\"nav\",\r\n\t\"noscript\",\r\n\t\"object\",\r\n\t\"ol\",\r\n\t\"optgroup\",\r\n\t\"option\",\r\n\t\"output\",\r\n\t\"p\",\r\n\t\"param\",\r\n\t\"picture\",\r\n\t\"pre\",\r\n\t\"progress\",\r\n\t\"q\",\r\n\t\"rp\",\r\n\t\"rt\",\r\n\t\"ruby\",\r\n\t\"s\",\r\n\t\"samp\",\r\n\t\"script\",\r\n\t\"section\",\r\n\t\"select\",\r\n\t\"small\",\r\n\t\"source\",\r\n\t\"span\",\r\n\t\"strong\",\r\n\t\"style\",\r\n\t\"sub\",\r\n\t\"summary\",\r\n\t\"sup\",\r\n\t\"table\",\r\n\t\"tbody\",\r\n\t\"td\",\r\n\t\"textarea\",\r\n\t\"tfoot\",\r\n\t\"th\",\r\n\t\"thead\",\r\n\t\"time\",\r\n\t\"title\",\r\n\t\"tr\",\r\n\t\"track\",\r\n\t\"u\",\r\n\t\"ul\",\r\n\t\"var\",\r\n\t\"video\",\r\n\t\"wbr\",\r\n\r\n\t// SVG\r\n\t\"circle\",\r\n\t\"clipPath\",\r\n\t\"defs\",\r\n\t\"ellipse\",\r\n\t\"foreignObject\",\r\n\t\"g\",\r\n\t\"image\",\r\n\t\"line\",\r\n\t\"linearGradient\",\r\n\t\"marker\",\r\n\t\"mask\",\r\n\t\"path\",\r\n\t\"pattern\",\r\n\t\"polygon\",\r\n\t\"polyline\",\r\n\t\"radialGradient\",\r\n\t\"rect\",\r\n\t\"stop\",\r\n\t\"svg\",\r\n\t\"text\",\r\n\t\"tspan\",\r\n];\r\n\r\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\r\n\r\nconst CustomLink = ({ children, ...props }) => (\r\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t{children}\r\n\t</a>\r\n);\r\n\r\nconst MarkdownWrapper = ({ children }) => {\r\n\tconst boldRegex = /\\*(.*?)\\*/g;\r\n\tconst tildaRegex = /~(.*?)~/g;\r\n\r\n\tif (children && boldRegex.test(children)) {\r\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\r\n\t}\r\n\tif (children && tildaRegex.test(children)) {\r\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\r\n\t}\r\n\r\n\tconst options = React.useMemo(() => {\r\n\t\tconst markdownOptions = {\r\n\t\t\tdisableParsingRawHTML: true,\r\n\t\t\tforceInline: true,\r\n\t\t\toverrides: {\r\n\t\t\t\ta: { component: CustomLink },\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telements.forEach(element => {\r\n\t\t\tif (!allowedElements.includes(element)) {\r\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn markdownOptions;\r\n\t}, []);\r\n\r\n\tif (!children) return null;\r\n\r\n\treturn <Markdown options={options}>{children}</Markdown>;\r\n};\r\n\r\nexport default MarkdownWrapper;\r\n","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TicketsContext = createContext();\r\n\r\nconst TicketsContextProvider = ({ children }) => {\r\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            history.push(`/tickets/${currentTicket.uuid}`);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [currentTicket])\r\n\r\n\treturn (\r\n\t\t<TicketsContext.Provider\r\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TicketsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { TicketsContext, TicketsContextProvider };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport ModalImage from \"react-modal-image\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessageMedia: {\r\n\t\tobjectFit: \"cover\",\r\n\t\twidth: 250,\r\n\t\theight: 200,\r\n\t\tborderTopLeftRadius: 8,\r\n\t\tborderTopRightRadius: 8,\r\n\t\tborderBottomLeftRadius: 8,\r\n\t\tborderBottomRightRadius: 8,\r\n\t},\r\n}));\r\n\r\nconst ModalImageCors = ({ imageUrl }) => {\r\n\tconst classes = useStyles();\r\n\tconst [fetching, setFetching] = useState(true);\r\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!imageUrl) return;\r\n\t\tconst fetchImage = async () => {\r\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\r\n\t\t\t\tresponseType: \"blob\",\r\n\t\t\t});\r\n\t\t\tconst url = window.URL.createObjectURL(\r\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\r\n\t\t\t);\r\n\t\t\tsetBlobUrl(url);\r\n\t\t\tsetFetching(false);\r\n\t\t};\r\n\t\tfetchImage();\r\n\t}, [imageUrl]);\r\n\r\n\treturn (\r\n\t\t<ModalImage\r\n\t\t\tclassName={classes.messageMedia}\r\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\r\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\r\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\r\n\t\t\talt=\"image\"\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ModalImageCors;\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\topen={open}\r\n\t\t\tonClose={() => onClose(false)}\r\n\t\t\taria-labelledby=\"confirm-dialog\"\r\n\t\t>\r\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t<Typography>{children}</Typography>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tonClick={() => onClose(false)}\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tonClose(false);\r\n\t\t\t\t\t\tonConfirm();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst ReplyMessageContext = createContext();\r\n\r\nconst ReplyMessageProvider = ({ children }) => {\r\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\r\n\r\n\treturn (\r\n\t\t<ReplyMessageContext.Provider\r\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</ReplyMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ReplyMessageContext, ReplyMessageProvider };\r\n","import React, { useState, useContext } from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { Menu } from \"@material-ui/core\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\r\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\r\n\tconst handleDeleteMessage = async () => {\r\n\t\ttry {\r\n\t\t\tawait api.delete(`/messages/${message.id}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst hanldeReplyMessage = () => {\r\n\t\tsetReplyingMessage(message);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tconst handleOpenConfirmationModal = e => {\r\n\t\tsetConfirmationOpen(true);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={setConfirmationOpen}\r\n\t\t\t\tonConfirm={handleDeleteMessage}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<Menu\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\topen={menuOpen}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t{message.fromMe && (\r\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\r\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t)}\r\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\r\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t</Menu>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MessageOptionsMenu;\r\n","import React, { useEffect } from 'react';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { Button, Divider, Typography} from \"@material-ui/core\";\r\n\r\nconst LocationPreview = ({ image, link, description }) => {\r\n    useEffect(() => {}, [image, link, description]);\r\n\r\n    const handleLocation = async() => {\r\n        try {\r\n            window.open(link);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    return (\r\n\t\t<>\r\n\t\t\t<div style={{\r\n\t\t\t\tminWidth: \"250px\",\r\n\t\t\t}}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ float: \"left\" }}>\r\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{ description && (\r\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleLocation}\r\n\t\t\t\t\t\t\tdisabled={!link}\r\n\t\t\t\t\t\t>Visualizar</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n};\r\n\r\nexport default LocationPreview;","import React, { useState, useEffect, useReducer, useRef } from \"react\";\r\n\r\nimport { isSameDay, parseISO, format } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  AccessTime,\r\n  Block,\r\n  Done,\r\n  DoneAll,\r\n  ExpandMore,\r\n  GetApp,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport ModalImageCors from \"../ModalImageCors\";\r\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\r\nimport whatsBackground from \"../../assets/wa-background.png\";\r\nimport LocationPreview from \"../LocationPreview\";\r\n\r\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"; //DARK MODE PLW DESIGN//\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  messagesListWrapper: {\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    minWidth: 300,\r\n    minHeight: 200,\r\n  },\r\n\r\n  messagesList: {\r\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    padding: \"20px 20px 20px 20px\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n\r\n  circleLoading: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    opacity: \"70%\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    marginTop: 12,\r\n  },\r\n\r\n  messageLeft: {\r\n    marginRight: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-start\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerLeft: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: \"#f0f0f0\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsg: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  quotedSideColorLeft: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n\r\n  messageRight: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#dcf8c6\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  quotedContainerRight: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflowY: \"hidden\",\r\n    backgroundColor: \"#cfe9ba\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsgRight: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n\r\n  quotedSideColorRight: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  messageActionsButton: {\r\n    display: \"none\",\r\n    position: \"relative\",\r\n    color: \"#999\",\r\n    zIndex: 1,\r\n    backgroundColor: \"inherit\",\r\n    opacity: \"90%\",\r\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n\r\n  textContentItem: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n  \r\n  textContentItemEdited: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 120px 6px 6px\",\r\n  },\r\n\r\n  textContentItemDeleted: {\r\n    fontStyle: \"italic\",\r\n    color: \"rgba(0, 0, 0, 0.36)\",\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  messageMedia: {\r\n    objectFit: \"cover\",\r\n    width: 250,\r\n    height: 200,\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n  },\r\n\r\n  timestamp: {\r\n    fontSize: 11,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 5,\r\n    color: \"#999\",\r\n  },\r\n\r\n  dailyTimestamp: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"110px\",\r\n    backgroundColor: \"#e1f3fb\",\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  dailyTimestampText: {\r\n    color: \"#808888\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  ackIcons: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  deletedIcon: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginRight: 4,\r\n  },\r\n\r\n  ackDoneAllIcon: {\r\n    color: green[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  downloadMedia: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"inherit\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_MESSAGES\") {\r\n    const messages = action.payload;\r\n    const newMessages = [];\r\n\r\n    messages.forEach((message) => {\r\n      const messageIndex = state.findIndex((m) => m.id === message.id);\r\n      if (messageIndex !== -1) {\r\n        state[messageIndex] = message;\r\n      } else {\r\n        newMessages.push(message);\r\n      }\r\n    });\r\n\r\n    return [...newMessages, ...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_MESSAGE\") {\r\n    const newMessage = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = newMessage;\r\n    } else {\r\n      state.push(newMessage);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_MESSAGE\") {\r\n    const messageToUpdate = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = messageToUpdate;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\r\n  const classes = useStyles();\r\n\r\n  const [messagesList, dispatch] = useReducer(reducer, []);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const lastMessageRef = useRef();\r\n\r\n  const [selectedMessage, setSelectedMessage] = useState({});\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const messageOptionsMenuOpen = Boolean(anchorEl);\r\n  const currentTicketId = useRef(ticketId);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n\r\n    currentTicketId.current = ticketId;\r\n  }, [ticketId]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchMessages = async () => {\r\n        if (ticketId === undefined) return;\r\n        try {\r\n          const { data } = await api.get(\"/messages/\" + ticketId, {\r\n            params: { pageNumber },\r\n          });\r\n\r\n          if (currentTicketId.current === ticketId) {\r\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n          }\r\n\r\n          if (pageNumber === 1 && data.messages.length > 1) {\r\n            scrollToBottom();\r\n          }\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchMessages();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(delayDebounceFn);\r\n    };\r\n  }, [pageNumber, ticketId]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\r\n\r\n    socket.on(`company-${companyId}-appMessage`, (data) => {\r\n      if (data.action === \"create\") {\r\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\r\n        scrollToBottom();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [ticketId, ticket]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    if (lastMessageRef.current) {\r\n      lastMessageRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore) return;\r\n    const { scrollTop } = e.currentTarget;\r\n\r\n    if (scrollTop === 0) {\r\n      document.getElementById(\"messagesList\").scrollTop = 1;\r\n    }\r\n\r\n    if (loading) {\r\n      return;\r\n    }\r\n\r\n    if (scrollTop < 50) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleOpenMessageOptionsMenu = (e, message) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedMessage(message);\r\n  };\r\n\r\n  const handleCloseMessageOptionsMenu = (e) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const checkMessageMedia = (message) => {\r\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\r\n      let locationParts = message.body.split('|')\r\n      let imageLocation = locationParts[0]\r\n      let linkLocation = locationParts[1]\r\n\r\n      let descriptionLocation = null\r\n\r\n      if (locationParts.length > 2)\r\n        descriptionLocation = message.body.split('|')[2]\r\n\r\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\r\n    }\r\n    /* else if (message.mediaType === \"vcard\") {\r\n      let array = message.body.split(\"\\n\");\r\n      let obj = [];\r\n      let contact = \"\";\r\n      for (let index = 0; index < array.length; index++) {\r\n        const v = array[index];\r\n        let values = v.split(\":\");\r\n        for (let ind = 0; ind < values.length; ind++) {\r\n          if (values[ind].indexOf(\"+\") !== -1) {\r\n            obj.push({ number: values[ind] });\r\n          }\r\n          if (values[ind].indexOf(\"FN\") !== -1) {\r\n            contact = values[ind + 1];\r\n          }\r\n        }\r\n      }\r\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\r\n    } */\r\n    /*else if (message.mediaType === \"multi_vcard\") {\r\n      console.log(\"multi_vcard\")\r\n      console.log(message)\r\n    \t\r\n      if(message.body !== null && message.body !== \"\") {\r\n        let newBody = JSON.parse(message.body)\r\n        return (\r\n          <>\r\n            {\r\n            newBody.map(v => (\r\n              <VcardPreview contact={v.name} numbers={v.number} />\r\n            ))\r\n            }\r\n          </>\r\n        )\r\n      } else return (<></>)\r\n    }*/\r\n    else if (message.mediaType === \"image\") {\r\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\r\n    } else if (message.mediaType === \"audio\") {\r\n      return (\r\n        <audio controls>\r\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\r\n        </audio>\r\n      );\r\n    } else if (message.mediaType === \"video\") {\r\n      return (\r\n        <video\r\n          className={classes.messageMedia}\r\n          src={message.mediaUrl}\r\n          controls\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className={classes.downloadMedia}>\r\n            <Button\r\n              startIcon={<GetApp />}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              target=\"_blank\"\r\n              href={message.mediaUrl}\r\n            >\r\n              Download\r\n            </Button>\r\n          </div>\r\n          <Divider />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessageAck = (message) => {\r\n    if (message.ack === 1) {\r\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 2) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 3) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\r\n    }\r\n    if (message.ack === 4 || message.ack === 5) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\r\n    }\r\n  };\r\n\r\n  const renderDailyTimestamps = (message, index) => {\r\n    if (index === 0) {\r\n      return (\r\n        <span\r\n          className={classes.dailyTimestamp}\r\n          key={`timestamp-${message.id}`}\r\n        >\r\n          <div className={classes.dailyTimestampText}>\r\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n          </div>\r\n        </span>\r\n      );\r\n    }\r\n    if (index < messagesList.length - 1) {\r\n      let messageDay = parseISO(messagesList[index].createdAt);\r\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\r\n\r\n      if (!isSameDay(messageDay, previousMessageDay)) {\r\n        return (\r\n          <span\r\n            className={classes.dailyTimestamp}\r\n            key={`timestamp-${message.id}`}\r\n          >\r\n            <div className={classes.dailyTimestampText}>\r\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n    if (index === messagesList.length - 1) {\r\n      return (\r\n        <div\r\n          key={`ref-${message.createdAt}`}\r\n          ref={lastMessageRef}\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderNumberTicket = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n\r\n      let messageTicket = message.ticketId;\r\n      let connectionName = message.ticket?.whatsapp?.name;\r\n      let previousMessageTicket = messagesList[index - 1].ticketId;\r\n\r\n      if (messageTicket !== previousMessageTicket) {\r\n        return (\r\n          <center>\r\n            <div className={classes.ticketNunberClosed}>\r\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\r\n            </div>\r\n\r\n            <div className={classes.ticketNunberOpen}>\r\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\r\n            </div>\r\n          </center>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderMessageDivider = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n      let messageUser = messagesList[index].fromMe;\r\n      let previousMessageUser = messagesList[index - 1].fromMe;\r\n\r\n      if (messageUser !== previousMessageUser) {\r\n        return (\r\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderQuotedMessage = (message) => {\r\n    return (\r\n      <div\r\n        className={clsx(classes.quotedContainerLeft, {\r\n          [classes.quotedContainerRight]: message.fromMe,\r\n        })}\r\n      >\r\n        <span\r\n          className={clsx(classes.quotedSideColorLeft, {\r\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\r\n          })}\r\n        ></span>\r\n        <div className={classes.quotedMsg}>\r\n          {!message.quotedMsg?.fromMe && (\r\n            <span className={classes.messageContactName}>\r\n              {message.quotedMsg?.contact?.name}\r\n            </span>\r\n          )}\r\n\r\n          {message.quotedMsg.mediaType === \"audio\"\r\n            && (\r\n              <div className={classes.downloadMedia}>\r\n                <audio controls>\r\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\r\n                </audio>\r\n              </div>\r\n            )\r\n          }\r\n          {message.quotedMsg.mediaType === \"video\"\r\n            && (\r\n              <video\r\n                className={classes.messageMedia}\r\n                src={message.quotedMsg.mediaUrl}\r\n                controls\r\n              />\r\n            )\r\n          }\r\n          {message.quotedMsg.mediaType === \"application\"\r\n            && (\r\n              <div className={classes.downloadMedia}>\r\n                <Button\r\n                  startIcon={<GetApp />}\r\n                  color=\"primary\"\r\n                  variant=\"outlined\"\r\n                  target=\"_blank\"\r\n                  href={message.quotedMsg.mediaUrl}\r\n                >\r\n                  Download\r\n                </Button>\r\n              </div>\r\n            )\r\n          }\r\n\r\n          {message.quotedMsg.mediaType === \"image\"\r\n            && (\r\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\r\n            || message.quotedMsg?.body}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderMessages = () => {\r\n    if (messagesList.length > 0) {\r\n      const viewMessagesList = messagesList.map((message, index) => {\r\n\r\n        if (message.mediaType === \"call_log\") {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageCenter}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n                <div>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\r\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\r\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n\r\n        if (!message.fromMe) {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageLeft}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n\r\n                {/* aviso de mensagem apagado pelo contato */}\r\n                {message.isDeleted && (\r\n                  <div>\r\n                    <span className={\"message-deleted\"}\r\n                    >Essa mensagem foi apagada pelo contato &nbsp;\r\n                      <Block\r\n                        color=\"error\"\r\n                        fontSize=\"small\"\r\n                        className={classes.deletedIcon}\r\n                      />\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\r\n                  //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                <div className={classes.textContentItem}>\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.mediaType === \"locationMessage\" ? null : message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n\t\t\t\t    {message.isEdited && <span>Editada </span>}\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        } else {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderNumberTicket(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageRight}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\r\n                  //|| message.mediaType === \"multi_vcard\" \r\n                ) && checkMessageMedia(message)}\r\n                <div\r\n                  className={clsx(classes.textContentItem, {\r\n                    [classes.textContentItemDeleted]: message.isDeleted,\r\n\t\t\t\t\t[classes.textContentItemEdited]: message.isEdited,\r\n                  })}\r\n                >\r\n                  {message.isDeleted && (\r\n                    <Block\r\n                      color=\"disabled\"\r\n                      fontSize=\"small\"\r\n                      className={classes.deletedIcon}\r\n                    />\r\n                  )}\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                  <span className={classes.timestamp}>\r\n\t\t\t\t    {message.isEdited && <span>Editada </span>}\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                    {renderMessageAck(message)}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n      });\r\n      return viewMessagesList;\r\n    } else {\r\n      return <div>Diga olá para seu novo contato!</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.messagesListWrapper}>\r\n      <MessageOptionsMenu\r\n        message={selectedMessage}\r\n        anchorEl={anchorEl}\r\n        menuOpen={messageOptionsMenuOpen}\r\n        handleClose={handleCloseMessageOptionsMenu}\r\n      />\r\n      <div\r\n        id=\"messagesList\"\r\n        className={classes.messagesList}\r\n        onScroll={handleScroll}\r\n      >\r\n        {messagesList.length > 0 ? renderMessages() : []}\r\n      </div>\r\n      {loading && (\r\n        <div>\r\n          <CircularProgress className={classes.circleLoading} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesList;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackgroundColor: \"#eee\",\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t},\r\n}));\r\n\r\nconst TicketHeaderSkeleton = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Card square className={classes.ticketHeader}>\r\n\t\t\t<CardHeader\r\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\r\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\r\n\t\t\t\t\t</Skeleton>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\r\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default TicketHeaderSkeleton;\r\n","import React from \"react\";\r\n\r\nimport { Card } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tflexWrap: \"wrap\"\r\n\t\t}\r\n\t},\r\n}));\r\n\r\n\r\nconst TicketHeader = ({ loading, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<TicketHeaderSkeleton />\r\n\t\t\t) : (\r\n\t\t\t\t<Card square className={classes.ticketHeader}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Card>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketHeader;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { Avatar, CardHeader } from \"@material-ui/core\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst TicketInfo = ({ contact, ticket, onClick }) => {\r\n\tconst { user } = ticket\r\n\tconst [userName, setUserName] = useState('')\r\n\tconst [contactName, setContactName] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\tif (contact) {\r\n\t\t\tsetContactName(contact.name);\r\n\t\t\tif(document.body.offsetWidth < 600) {\r\n\t\t\t\tif (contact.name.length > 10) {\r\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\r\n\t\t\t\t\tsetContactName(truncadName);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (user && contact) {\r\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\r\n\r\n\t\t\tif(document.body.offsetWidth < 600) {\r\n\t\t\t\tsetUserName(`${user.name}`);\r\n\t\t\t}\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<CardHeader\r\n\t\t\tonClick={onClick}\r\n\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\r\n\t\t\ttitle={`${contactName} #${ticket.id}`}\r\n\t\t\tsubheader={ticket.user && `${userName}`}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default TicketInfo;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n\r\n  useEffect(() => {\r\n    let delayDebounceFn = null;\r\n    if (open) {\r\n      setLoading(true);\r\n      delayDebounceFn = setTimeout(() => {\r\n        const fetchTicket = async () => {\r\n          try {\r\n            const { data } = await api.get(\"/tickets/\" + ticketId);\r\n            const { queueId } = data;\r\n            const { queues, profile } = user;\r\n\r\n            const queueAllowed = queues.find((q) => q.id === queueId);\r\n            if (queueAllowed === undefined && profile !== \"admin\") {\r\n              toast.error(\"Acesso não permitido\");\r\n              history.push(\"/tickets\");\r\n              return;\r\n            }\r\n\r\n            setContact(data.contact);\r\n            setTicket(data);\r\n            setLoading(false);\r\n          } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n          }\r\n        };\r\n        fetchTicket();\r\n      }, 500);\r\n    }\r\n    return () => {\r\n      if (delayDebounceFn !== null) {\r\n        clearTimeout(delayDebounceFn);\r\n      }\r\n    };\r\n  }, [ticketId, user, history, open]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    let socket = null;\r\n\r\n    if (open) {\r\n      socket = socketConnection({ companyId });\r\n      socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\r\n\r\n      socket.on(`company-${companyId}-ticket`, (data) => {\r\n        if (data.action === \"update\") {\r\n          setTicket(data.ticket);\r\n        }\r\n\r\n        if (data.action === \"delete\") {\r\n          toast.success(\"Ticket excluído com sucesso!\");\r\n          history.push(\"/tickets\");\r\n        }\r\n      });\r\n\r\n      socket.on(`company-${companyId}-contact`, (data) => {\r\n        if (data.action === \"update\") {\r\n          setContact((prevState) => {\r\n            if (prevState.id === data.contact?.id) {\r\n              return { ...prevState, ...data.contact };\r\n            }\r\n            return prevState;\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      if (socket !== null) {\r\n        socket.disconnect();\r\n      }\r\n    };\r\n  }, [ticketId, ticket, history, open]);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setDrawerOpen(true);\r\n  };\r\n\r\n  const renderTicketInfo = () => {\r\n    if (ticket.user !== undefined) {\r\n      return (\r\n        <TicketInfo\r\n          contact={contact}\r\n          ticket={ticket}\r\n          onClick={handleDrawerOpen}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessagesList = () => {\r\n    return (\r\n      <Box className={classes.root}>\r\n        <MessagesList\r\n          ticket={ticket}\r\n          ticketId={ticket.id}\r\n          isGroup={ticket.isGroup}\r\n        ></MessagesList>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\r\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\r\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","function getRGB(c) {\r\n  return parseInt(c, 16) || c\r\n}\r\n\r\nfunction getsRGB(c) {\r\n  return getRGB(c) / 255 <= 0.03928\r\n    ? getRGB(c) / 255 / 12.92\r\n    : Math.pow((getRGB(c) / 255 + 0.055) / 1.055, 2.4)\r\n}\r\n\r\nfunction getLuminance(hexColor) {\r\n  return (\r\n    0.2126 * getsRGB(hexColor.substr(1, 2)) +\r\n    0.7152 * getsRGB(hexColor.substr(3, 2)) +\r\n    0.0722 * getsRGB(hexColor.substr(-2))\r\n  )\r\n}\r\n\r\nfunction getContrast(f, b) {\r\n  const L1 = getLuminance(f)\r\n  const L2 = getLuminance(b)\r\n  return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05)\r\n}\r\n\r\nfunction getTextColor(bgColor) {\r\n  const whiteContrast = getContrast(bgColor, '#ffffff')\r\n  const blackContrast = getContrast(bgColor, '#000000')\r\n\r\n  return whiteContrast > blackContrast ? '#ffffff' : '#000000'\r\n}\r\n\r\nconst contrastColor = (color) => {\r\n    return getTextColor(color);\r\n}\r\n\r\nexport default contrastColor;","import { makeStyles } from \"@material-ui/styles\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    tag: {\r\n        padding: \"1px 5px\",\r\n        borderRadius: \"3px\",\r\n        fontSize: \"0.8em\",\r\n        fontWeight: \"bold\",\r\n        color: \"#FFF\",\r\n        marginRight: \"5px\",\r\n        whiteSpace: \"nowrap\"\r\n    }\r\n}));\r\n\r\nconst ContactTag = ({ tag }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: \"2px\" }}>\r\n            {tag.name.toUpperCase()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactTag;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green, grey, red, blue } from \"@material-ui/core/colors\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport RoomIcon from '@material-ui/icons/Room';\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport AndroidIcon from \"@material-ui/icons/Android\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\r\nimport contrastColor from \"../../helpers/contrastColor\";\r\nimport ContactTag from \"../ContactTag\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ticket: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  pendingTicket: {\r\n    cursor: \"unset\",\r\n  },\r\n  queueTag: {\r\n    background: \"#FCFCFC\",\r\n    color: \"#000\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: 'bold',\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    borderRadius: 10,\r\n    fontSize: \"0.8em\",\r\n    whiteSpace: \"nowrap\"\r\n  },\r\n  noTicketsDiv: {\r\n    display: \"flex\",\r\n    height: \"100px\",\r\n    margin: 40,\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  newMessagesCount: {\r\n    position: \"absolute\",\r\n    alignSelf: \"center\",\r\n    marginRight: 7,\r\n    marginLeft: \"auto\",\r\n    top: \"10px\",\r\n    left: \"20px\",\r\n    borderRadius: 10,\r\n  },\r\n  noTicketsText: {\r\n    textAlign: \"center\",\r\n    color: \"rgb(104, 121, 146)\",\r\n    fontSize: \"14px\",\r\n    lineHeight: \"1.4\",\r\n  },\r\n  connectionTag: {\r\n    background: \"purple\",\r\n    color: \"#FFF\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: 'bold',\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    borderRadius: 7,\r\n    fontSize: \"0.8em\",\r\n    whiteSpace: \"nowrap\"\r\n  },\r\n  noTicketsTitle: {\r\n    textAlign: \"center\",\r\n    fontSize: \"16px\",\r\n    fontWeight: \"600\",\r\n    margin: \"0px\",\r\n  },\r\n\r\n  contactNameWrapper: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    marginLeft: \"5px\",\r\n  },\r\n\r\n  lastMessageTime: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    top: -21\r\n  },\r\n\r\n  closedBadge: {\r\n    alignSelf: \"center\",\r\n    justifySelf: \"flex-end\",\r\n    marginRight: 32,\r\n    marginLeft: \"auto\",\r\n  },\r\n\r\n  contactLastMessage: {\r\n    paddingRight: \"0%\",\r\n    marginLeft: \"5px\",\r\n  },\r\n\r\n\r\n  badgeStyle: {\r\n    color: \"white\",\r\n    backgroundColor: green[500],\r\n  },\r\n\r\n  acceptButton: {\r\n    position: \"absolute\",\r\n    right: \"108px\",\r\n  },\r\n\r\n\r\n  acceptButton: {\r\n    position: \"absolute\",\r\n    left: \"50%\",\r\n  },\r\n\r\n\r\n  ticketQueueColor: {\r\n    flex: \"none\",\r\n    width: \"8px\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0%\",\r\n    left: \"0%\",\r\n  },\r\n\r\n  ticketInfo: {\r\n    position: \"relative\",\r\n    top: -13\r\n  },\r\n  secondaryContentSecond: {\r\n    display: 'flex',\r\n    // marginTop: 5,\r\n    //marginLeft: \"5px\",\r\n    alignItems: \"flex-start\",\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"row\",\r\n    alignContent: \"flex-start\",\r\n  },\r\n  ticketInfo1: {\r\n    position: \"relative\",\r\n    top: 13,\r\n    right: 0\r\n  },\r\n  Radiusdot: {\r\n    \"& .MuiBadge-badge\": {\r\n      borderRadius: 10,\r\n      position: \"inherit\",\r\n      height: 16,\r\n      margin: 2,\r\n      padding: 3\r\n    },\r\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\r\n      transform: \"scale(1) translate(0%, -40%)\",\r\n    },\r\n\r\n  }\r\n}));\r\n  {/*PLW DESIGN INSERIDO O dentro do const handleChangeTab*/}\r\n  const TicketListItemCustom = ({ ticket }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [ticketUser, setTicketUser] = useState(null);\r\n  const [ticketQueueName, setTicketQueueName] = useState(null);\r\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\r\n  const [tag, setTag] = useState([]);\r\n  const [whatsAppName, setWhatsAppName] = useState(null);\r\n\r\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\r\n  const { ticketId } = useParams();\r\n  const isMounted = useRef(true);\r\n  const { setCurrentTicket } = useContext(TicketsContext);\r\n  const { user } = useContext(AuthContext);\r\n  const { profile } = user;\r\n\r\n  useEffect(() => {\r\n    if (ticket.userId && ticket.user) {\r\n      setTicketUser(ticket.user?.name?.toUpperCase());\r\n    }\r\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\r\n    setTicketQueueColor(ticket.queue?.color);\r\n\r\n    if (ticket.whatsappId && ticket.whatsapp) {\r\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\r\n    }\r\n\r\n    setTag(ticket?.tags);\r\n\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  {/*CÓDIGO NOVO SAUDAÇÃO*/}\r\n  const handleCloseTicket = async (id) => {\r\n    setTag(ticket?.tags);\r\n    setLoading(true);\r\n    try {\r\n      await api.put(`/tickets/${id}`, {\r\n        status: \"closed\",\r\n        userId: user?.id,\r\n        queueId: ticket?.queue?.id,\r\n        useIntegration: false,\r\n        promptId: null,\r\n        integrationId: null\r\n      });\r\n    } catch (err) {\r\n      setLoading(false);\r\n      toastError(err);\r\n    }\r\n    if (isMounted.current) {\r\n      setLoading(false);\r\n    }\r\n    history.push(`/tickets/`);\r\n  };\r\n\r\n  const handleReopenTicket = async (id) => {\r\n    setLoading(true);\r\n    try {\r\n      await api.put(`/tickets/${id}`, {\r\n        status: \"open\",\r\n        userId: user?.id,\r\n        queueId: ticket?.queue?.id\r\n      });\r\n    } catch (err) {\r\n      setLoading(false);\r\n      toastError(err);\r\n    }\r\n    if (isMounted.current) {\r\n      setLoading(false);\r\n    }\r\n    history.push(`/tickets/${ticket.uuid}`);\r\n  };\r\n\r\n    const handleAcepptTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n            \r\n            let settingIndex;\r\n\r\n            try {\r\n                const { data } = await api.get(\"/settings/\");\r\n                \r\n                settingIndex = data.filter((s) => s.key === \"sendGreetingAccepted\");\r\n                \r\n            } catch (err) {\r\n                toastError(err);\r\n                   \r\n            }\r\n            \r\n            if (settingIndex[0].value === \"enabled\" && !ticket.isGroup) {\r\n                handleSendMessage(ticket.id);\r\n                \r\n            }\r\n\r\n        } catch (err) {\r\n            setLoading(false);\r\n            \r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n\r\n        // handleChangeTab(null, \"tickets\");\r\n        // handleChangeTab(null, \"open\");\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\t\r\n\t    const handleSendMessage = async (id) => {\r\n        \r\n        const msg = `{{ms}} *{{name}}*, meu nome é *${user?.name}* e agora vou prosseguir com seu atendimento!`;\r\n        const message = {\r\n            read: 1,\r\n            fromMe: true,\r\n            mediaUrl: \"\",\r\n            body: `*Mensagem Automática:*\\n${msg.trim()}`,\r\n        };\r\n        try {\r\n            await api.post(`/messages/${id}`, message);\r\n        } catch (err) {\r\n            toastError(err);\r\n            \r\n        }\r\n    };\r\n\t{/*CÓDIGO NOVO SAUDAÇÃO*/}\r\n\r\n  const handleSelectTicket = (ticket) => {\r\n    const code = uuidv4();\r\n    const { id, uuid } = ticket;\r\n    setCurrentTicket({ id, uuid, code });\r\n  };\r\n\r\n\r\n  const renderTicketInfo = () => {\r\n    if (ticketUser) {\r\n\r\n      return (\r\n        <>\r\n          {ticket.chatbot && (\r\n            <Tooltip title=\"Chatbot\">\r\n              <AndroidIcon\r\n                fontSize=\"small\"\r\n                style={{ color: grey[700], marginRight: 5 }}\r\n              />\r\n            </Tooltip>\r\n          )}\r\n\r\n          {/* </span> */}\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          {ticket.chatbot && (\r\n            <Tooltip title=\"Chatbot\">\r\n              <AndroidIcon\r\n                fontSize=\"small\"\r\n                style={{ color: grey[700], marginRight: 5 }}\r\n              />\r\n            </Tooltip>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment key={ticket.id}>\r\n      <TicketMessagesDialog\r\n        open={openTicketMessageDialog}\r\n\r\n        handleClose={() => setOpenTicketMessageDialog(false)}\r\n        ticketId={ticket.id}\r\n      ></TicketMessagesDialog>\r\n      <ListItem dense button\r\n        onClick={(e) => {\r\n          if (ticket.status === \"pending\") return;\r\n          handleSelectTicket(ticket);\r\n        }}\r\n        selected={ticketId && +ticketId === ticket.id}\r\n        className={clsx(classes.ticket, {\r\n          [classes.pendingTicket]: ticket.status === \"pending\",\r\n        })}\r\n      >\r\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\r\n          <span style={{ backgroundColor: 'transparent' }} className={classes.ticketQueueColor}></span>\r\n        </Tooltip>\r\n        <ListItemAvatar>\r\n          {ticket.status !== \"pending\" ?\r\n            <Avatar\r\n              style={{\r\n                marginTop: \"-20px\",\r\n                marginLeft: \"-3px\",\r\n                width: \"55px\",\r\n                height: \"55px\",\r\n                borderRadius: \"60%\",\r\n              }}\r\n              src={ticket?.contact?.profilePicUrl}\r\n            />\r\n            :\r\n            <Avatar\r\n              style={{\r\n                marginTop: \"-30px\",\r\n                marginLeft: \"0px\",\r\n                width: \"50px\",\r\n                height: \"50px\",\r\n                borderRadius: \"60%\",\r\n              }}\r\n              src={ticket?.contact?.profilePicUrl}\r\n            />\r\n          }\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          disableTypography\r\n\r\n          primary={\r\n            <span className={classes.contactNameWrapper}>\r\n              <Typography\r\n                noWrap\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                color=\"textPrimary\"\r\n              >\r\n                {ticket.contact.name}\r\n                {profile === \"admin\" && (\r\n                  <Tooltip title=\"Espiar Conversa\">\r\n                    <VisibilityIcon\r\n                      onClick={() => setOpenTicketMessageDialog(true)}\r\n                      fontSize=\"small\"\r\n                      style={{\r\n                        color: blue[700],\r\n                        cursor: \"pointer\",\r\n                        marginLeft: 10,\r\n                        verticalAlign: \"middle\"\r\n                      }}\r\n                    />\r\n                  </Tooltip>\r\n                )}\r\n              </Typography>\r\n              <ListItemSecondaryAction>\r\n                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\r\n              </ListItemSecondaryAction>\r\n            </span>\r\n\r\n          }\r\n          secondary={\r\n            <span className={classes.contactNameWrapper}>\r\n\r\n              <Typography\r\n                className={classes.contactLastMessage}\r\n                noWrap\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                color=\"textSecondary\"\r\n              > {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\r\n                <span className={classes.secondaryContentSecond} >\r\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\r\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\r\n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\r\n                </span>\r\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\r\n                  {tag?.map((tag) => {\r\n                    return (\r\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\r\n                    );\r\n                  })}\r\n                </span>\r\n              </Typography>\r\n\r\n              <Badge\r\n                className={classes.newMessagesCount}\r\n                badgeContent={ticket.unreadMessages}\r\n                classes={{\r\n                  badge: classes.badgeStyle,\r\n                }}\r\n              />\r\n            </span>\r\n          }\r\n\r\n        />\r\n        <ListItemSecondaryAction>\r\n          {ticket.lastMessage && (\r\n            <>\r\n\r\n              <Typography\r\n                className={classes.lastMessageTime}\r\n                component=\"span\"\r\n                variant=\"body2\"\r\n                color=\"textSecondary\"\r\n              >\r\n\r\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                ) : (\r\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                )}\r\n              </Typography>\r\n\r\n              <br />\r\n\r\n            </>\r\n          )}\r\n\r\n        </ListItemSecondaryAction>\r\n        <span className={classes.secondaryContentSecond} >\r\n          {ticket.status === \"pending\" && (\r\n            <ButtonWithSpinner\r\n              //color=\"primary\"\r\n              style={{ backgroundColor: 'green', color: 'white', padding: '0px', bottom: '25px', borderRadius: '10px', left: '308px', fontSize: '0.6rem' }}\r\n              variant=\"contained\"\r\n              className={classes.acceptButton}\r\n              size=\"small\"\r\n              loading={loading}\r\n\t\t\t  //PLW DESIGN INSERIDO O handleChangeTab\r\n              onClick={e => handleAcepptTicket(ticket.id)}\r\n            >\r\n              {i18n.t(\"ticketsList.buttons.accept\")}\r\n            </ButtonWithSpinner>\r\n\r\n          )}\r\n          {(ticket.status !== \"closed\") && (\r\n            <ButtonWithSpinner\r\n              //color=\"primary\"\r\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '4px', borderRadius: '10px', left: '308px', fontSize: '0.6rem' }}\r\n              variant=\"contained\"\r\n              className={classes.acceptButton}\r\n              size=\"small\"\r\n              loading={loading}\r\n              onClick={e => handleCloseTicket(ticket.id)}\r\n            >\r\n              {i18n.t(\"ticketsList.buttons.closed\")}\r\n            </ButtonWithSpinner>\r\n\r\n          )}\r\n          {(ticket.status === \"closed\") && (\r\n            <ButtonWithSpinner\r\n              //color=\"primary\"\r\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '4px', borderRadius: '10px', left: '308px', fontSize: '0.6rem' }}\r\n              variant=\"contained\"\r\n              className={classes.acceptButton}\r\n              size=\"small\"\r\n              loading={loading}\r\n              onClick={e => handleReopenTicket(ticket.id)}\r\n            >\r\n              {i18n.t(\"ticketsList.buttons.reopen\")}\r\n            </ButtonWithSpinner>\r\n\r\n          )}\r\n        </span>\r\n      </ListItem>\r\n\r\n      <Divider variant=\"inset\" component=\"li\" />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default TicketListItemCustom;","import { useState, useEffect } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nconst useTickets = ({\r\n  searchParam,\r\n  tags,\r\n  users,\r\n  pageNumber,\r\n  status,\r\n  date,\r\n  updatedAt,\r\n  showAll,\r\n  queueIds,\r\n  withUnreadMessages,\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [tickets, setTickets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTickets = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/tickets\", {\r\n            params: {\r\n              searchParam,\r\n              pageNumber,\r\n              tags,\r\n              users,\r\n              status,\r\n              date,\r\n              updatedAt,\r\n              showAll,\r\n              queueIds,\r\n              withUnreadMessages,\r\n            },\r\n          });\r\n          setTickets(data.tickets);\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTickets();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    tags,\r\n    users,\r\n    pageNumber,\r\n    status,\r\n    date,\r\n    updatedAt,\r\n    showAll,\r\n    queueIds,\r\n    withUnreadMessages,\r\n  ]);\r\n\r\n  return { tickets, loading, hasMore };\r\n};\r\n\r\nexport default useTickets;\r\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nimport useSound from \"use-sound\";\r\n\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\n\r\nimport TicketListItem from \"../TicketListItemCustom\";\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport alertSound from \"../../assets/sound.mp3\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ttabContainer: {\r\n\t\toverflowY: \"auto\",\r\n\t\tmaxHeight: 350,\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tpopoverPaper: {\r\n\t\twidth: \"100%\",\r\n\t\tmaxWidth: 350,\r\n\t\tmarginLeft: theme.spacing(2),\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tmaxWidth: 270,\r\n\t\t},\r\n\t},\r\n\tnoShadow: {\r\n\t\tboxShadow: \"none !important\",\r\n\t},\r\n}));\r\n\r\nconst NotificationsPopOver = (volume) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst history = useHistory();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\r\n\tconst ticketIdRef = useRef(ticketIdUrl);\r\n\tconst anchorEl = useRef();\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst [notifications, setNotifications] = useState([]);\r\n\r\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\r\n\r\n\tconst [, setDesktopNotifications] = useState([]);\r\n\r\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\r\n\r\n\tconst [play] = useSound(alertSound, volume);\r\n\tconst soundAlertRef = useRef();\r\n\r\n\tconst historyRef = useRef(history);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSettings = async () => {\r\n\t\t\ttry {\r\n\r\n\t\t\t\tif (user.allTicket === \"enable\") {\r\n\t\t\t\t\tsetShowPendingTickets(true);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t  \ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\t  \r\n\t\tfetchSettings();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tsoundAlertRef.current = play;\r\n\r\n\t\tif (!(\"Notification\" in window)) {\r\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\r\n\t\t} else {\r\n\t\t\tNotification.requestPermission();\r\n\t\t}\r\n\t}, [play]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst processNotifications = () => {\r\n\t\t\tif (showPendingTickets) {\r\n\t\t\t\tsetNotifications(tickets);\r\n\t\t\t} else {\r\n\t\t\t\tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\r\n\r\n\t\t\t\tsetNotifications(newNotifications);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprocessNotifications();\r\n\t}, [tickets]);\r\n\r\n\tuseEffect(() => {\r\n\t\tticketIdRef.current = ticketIdUrl;\r\n\t}, [ticketIdUrl]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst socket = socketConnection({companyId: user.companyId, userId: user.id});\r\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\r\n\r\n\t\tsocket.on(`company-${user.companyId}-ticket`, data => {\r\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\r\n\t\t\t\tsetNotifications(prevState => {\r\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\r\n\t\t\t\t\tif (ticketIndex !== -1) {\r\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\r\n\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn prevState;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetDesktopNotifications(prevState => {\r\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\r\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (notfiticationIndex !== -1) {\r\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\r\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\r\n\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn prevState;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsocket.on(`company-${user.companyId}-appMessage`, data => {\r\n\t\t\tif (\r\n\t\t\t\tdata.action === \"create\" && !data.message.fromMe && \r\n\t\t\t\t(data.ticket.status !== \"pending\" ) &&\r\n\t\t\t\t(!data.message.read || data.ticket.status === \"pending\") &&\r\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId) &&\r\n\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) || !data.ticket.queueId)\r\n\t\t\t) {\r\n\t\t\t\tsetNotifications(prevState => {\r\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\r\n\t\t\t\t\tif (ticketIndex !== -1) {\r\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\r\n\t\t\t\t\t\treturn [...prevState];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn [data.ticket, ...prevState];\r\n\t\t\t\t});\r\n\r\n\t\t\t\tconst shouldNotNotificate =\r\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\r\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\r\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\r\n\t\t\t\t\tdata.ticket.isGroup;\r\n\r\n\t\t\t\tif (shouldNotNotificate) return;\r\n\r\n\t\t\t\thandleNotifications(data);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, [user, showPendingTickets]);\r\n\r\n\tconst handleNotifications = data => {\r\n\t\tconst { message, contact, ticket } = data;\r\n\r\n\t\tconst options = {\r\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\r\n\t\t\ticon: contact.urlPicture,\r\n\t\t\ttag: ticket.id,\r\n\t\t\trenotify: true,\r\n\t\t};\r\n\r\n\t\tconst notification = new Notification(\r\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\r\n\t\t\toptions\r\n\t\t);\r\n\r\n\t\tnotification.onclick = e => {\r\n\t\t\te.preventDefault();\r\n\t\t\twindow.focus();\r\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\r\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\r\n\t\t};\r\n\r\n\t\tsetDesktopNotifications(prevState => {\r\n\t\t\tconst notfiticationIndex = prevState.findIndex(\r\n\t\t\t\tn => n.tag === notification.tag\r\n\t\t\t);\r\n\t\t\tif (notfiticationIndex !== -1) {\r\n\t\t\t\tprevState[notfiticationIndex] = notification;\r\n\t\t\t\treturn [...prevState];\r\n\t\t\t}\r\n\t\t\treturn [notification, ...prevState];\r\n\t\t});\r\n\r\n\t\tsoundAlertRef.current();\r\n\t};\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetIsOpen(prevState => !prevState);\r\n\t};\r\n\r\n\tconst handleClickAway = () => {\r\n\t\tsetIsOpen(false);\r\n\t};\r\n\r\n\tconst NotificationTicket = ({ children }) => {\r\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<IconButton\r\n\t\t\t\tonClick={handleClick}\r\n\t\t\t\tref={anchorEl}\r\n\t\t\t\taria-label=\"Open Notifications\"\r\n\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\tstyle={{color:\"white\"}}\r\n\t\t\t>\r\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\r\n\t\t\t\t\t<ChatIcon />\r\n\t\t\t\t</Badge>\r\n\t\t\t</IconButton>\r\n\t\t\t<Popover\r\n\t\t\t\tdisableScrollLock\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\tanchorEl={anchorEl.current}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\r\n\t\t\t\tonClose={handleClickAway}\r\n\t\t\t>\r\n\t\t\t\t<List dense className={classes.tabContainer}>\r\n\t\t\t\t\t{notifications.length === 0 ? (\r\n\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnotifications.map(ticket => (\r\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\r\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\r\n\t\t\t\t\t\t\t</NotificationTicket>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t)}\r\n\t\t\t\t</List>\r\n\t\t\t</Popover>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\r\n\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\r\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\r\n\r\nimport { Grid, Slider } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    tabContainer: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    popoverPaper: {\r\n        width: \"100%\",\r\n        maxWidth: 350,\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(1),\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n            maxWidth: 270,\r\n        },\r\n    },\r\n    noShadow: {\r\n        boxShadow: \"none !important\",\r\n    },\r\n    icons: {\r\n        color: \"#fff\",\r\n    },\r\n    customBadge: {\r\n        backgroundColor: \"#f44336\",\r\n        color: \"#fff\",\r\n    },\r\n}));\r\n\r\nconst NotificationsVolume = ({ volume, setVolume }) => {\r\n    const classes = useStyles();\r\n\r\n    const anchorEl = useRef();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const handleClick = () => {\r\n        setIsOpen((prevState) => !prevState);\r\n    };\r\n\r\n    const handleClickAway = () => {\r\n        setIsOpen(false);\r\n    };\r\n\r\n    const handleVolumeChange = (value) => {\r\n        setVolume(value);\r\n        localStorage.setItem(\"volume\", value);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <IconButton\r\n                className={classes.icons}\r\n                onClick={handleClick}\r\n                ref={anchorEl}\r\n                aria-label=\"Open Notifications\"\r\n                // color=\"inherit\"\r\n                // color=\"secondary\"\r\n            >\r\n                <VolumeUpIcon color=\"inherit\" />\r\n            </IconButton>\r\n            <Popover\r\n                disableScrollLock\r\n                open={isOpen}\r\n                anchorEl={anchorEl.current}\r\n                anchorOrigin={{\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"right\",\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: \"top\",\r\n                    horizontal: \"right\",\r\n                }}\r\n                classes={{ paper: classes.popoverPaper }}\r\n                onClose={handleClickAway}\r\n            >\r\n                <List dense className={classes.tabContainer}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item>\r\n                            <VolumeDownIcon />\r\n                        </Grid>\r\n                        <Grid item xs>\r\n                            <Slider\r\n                                value={volume}\r\n                                aria-labelledby=\"continuous-slider\"\r\n                                step={0.1}\r\n                                min={0}\r\n                                max={1}\r\n                                onChange={(e, value) =>\r\n                                    handleVolumeChange(value)\r\n                                }\r\n                            />\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <VolumeUpIcon />\r\n                        </Grid>\r\n                    </Grid>\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NotificationsVolume;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n}));\r\n\r\nconst QueueSelect = ({ selectedQueueIds, onChange, multiple = true, title = i18n.t(\"queueSelect.inputLabel\") }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tfetchQueues();\r\n\r\n\t}, []);\r\n\r\n\tconst fetchQueues = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await api.get(\"/queue\");\r\n\t\t\tsetQueues(data);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div >\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel shrink={selectedQueueIds ? true : false} >{title}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tlabel={title}\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\r\n\t\t\t\t\trenderValue={selected => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t\t{selected?.length > 0 && multiple ? (\r\n\t\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t) :\r\n\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={selected}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queues.find(q => q.id === selected)?.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queues.find(q => q.id === selected)?.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!multiple && <MenuItem value={null}>Nenhum</MenuItem>}\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelect;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst UserModal = ({ open, onClose, userId }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\tprofile: \"user\",\r\n\t\tallTicket: \"desabled\"\r\n\t};\r\n\r\n\tconst { user: loggedInUser } = useContext(AuthContext);\r\n\r\n\tconst [user, setUser] = useState(initialState);\r\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\tconst [whatsappId, setWhatsappId] = useState(false);\r\n\tconst { loading, whatsApps } = useWhatsApps();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchUser = async () => {\r\n\t\t\tif (!userId) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\r\n\t\t\t\tsetUser(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\r\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\r\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchUser();\r\n\t}, [userId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetUser(initialState);\r\n\t};\r\n\r\n\tconst handleSaveUser = async values => {\r\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds, allTicket: values.allTicket };\r\n\t\ttry {\r\n\t\t\tif (userId) {\r\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/users\", userData);\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"xs\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{userId\r\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={user}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={UserSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveUser(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\r\n\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\r\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<div className={classes.divider}>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.dividerText}>Liberações</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\r\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\r\n\t\t\t\t\t\t\t\t\tyes={() => (!loading &&\r\n\t\t\t\t\t\t\t\t\t\t<div className={classes.textField}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.maxWidth}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.allTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"allTicket.form.viewTags\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"allTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"allTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"allTicket-selection\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"enabled\">{i18n.t(\"userModal.form.allTicketEnabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"desabled\">{i18n.t(\"userModal.form.allTicketDesabled\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{userId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UserModal;\r\n","import React from \"react\";\r\n\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbackdrop: {\r\n\t\tzIndex: theme.zIndex.drawer + 1,\r\n\t\tcolor: \"#fff\",\r\n\t},\r\n}));\r\n\r\nconst BackdropLoading = () => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<Backdrop className={classes.backdrop} open={true}>\r\n\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t</Backdrop>\r\n\t);\r\n};\r\n\r\nexport default BackdropLoading;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\r\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\r\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    icons: {\r\n        color: \"#fff\",\r\n    },\r\n    switch: {\r\n        color: \"#fff\",\r\n    },\r\n    visible: {\r\n        display: \"none\",\r\n    },\r\n    btnHeader: {\r\n        color: \"#fff\",\r\n    },\r\n}));\r\n\r\nconst DarkMode = (props) => {\r\n    const classes = useStyles();\r\n\r\n    const [theme, setTheme] = useState(\"light\");\r\n\r\n    const themeToggle = () => {\r\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\r\n    };\r\n\r\n    const handleClick = () => {\r\n        props.themeToggle();\r\n        themeToggle();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {theme === \"light\" ? (\r\n                <>\r\n                    <CssBaseline />\r\n                    <IconButton\r\n                        className={classes.icons}\r\n                        onClick={handleClick}\r\n                        // ref={anchorEl}\r\n                        aria-label=\"Dark Mode\"\r\n                        color=\"inherit\"\r\n                    >\r\n                        <Brightness4Icon />\r\n                    </IconButton>\r\n                </>\r\n            ) : (\r\n                <>\r\n                    <CssBaseline />\r\n                    <IconButton\r\n                        className={classes.icons}\r\n                        onClick={handleClick}\r\n                        // ref={anchorEl}\r\n                        aria-label=\"Dark Mode\"\r\n                        color=\"inherit\"\r\n                    >\r\n                        <Brightness7Icon />\r\n                    </IconButton>\r\n                </>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default DarkMode;\r\n","import React, { useEffect, useReducer, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport Notifications from \"@material-ui/icons/Notifications\"\r\n\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Dialog,\r\n  Paper,\r\n  Typography,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Button,\r\n  DialogContentText,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { isArray } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 3000,\r\n    maxWidth: 5000,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\r\n  const getMediaPath = (filename) => {\r\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\r\n  };\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => handleClose()}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\r\n      <DialogContent>\r\n        {announcement.mediaPath && (\r\n          <div\r\n            style={{\r\n              border: \"1px solid #f1f1f1\",\r\n              margin: \"0 auto 20px\",\r\n              textAlign: \"center\",\r\n              width: \"400px\",\r\n              height: 300,\r\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\r\n              backgroundRepeat: \"no-repeat\",\r\n              backgroundSize: \"contain\",\r\n              backgroundPosition: \"center\",\r\n            }}\r\n          ></div>\r\n        )}\r\n        <DialogContentText id=\"alert-dialog-description\">\r\n          {announcement.text}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default function AnnouncementsPopover() {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(false);\r\n  const [announcement, setAnnouncement] = useState({});\r\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-announcement`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n        setInvisible(false);\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const borderPriority = (priority) => {\r\n    if (priority === 1) {\r\n      return \"4px solid #b81111\";\r\n    }\r\n    if (priority === 2) {\r\n      return \"4px solid orange\";\r\n    }\r\n    if (priority === 3) {\r\n      return \"4px solid grey\";\r\n    }\r\n  };\r\n\r\n  const getMediaPath = (filename) => {\r\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\r\n  };\r\n\r\n  const handleShowAnnouncementDialog = (record) => {\r\n    setAnnouncement(record);\r\n    setShowAnnouncementDialog(true);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <AnnouncementDialog\r\n        announcement={announcement}\r\n        open={showAnnouncementDialog}\r\n        handleClose={() => setShowAnnouncementDialog(false)}\r\n      />\r\n      <IconButton\r\n        variant=\"contained\"\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n        style={{ color: \"white\" }}\r\n      >\r\n        <Badge\r\n          color=\"secondary\"\r\n          variant=\"dot\"\r\n          invisible={invisible || announcements.length < 1}\r\n        >\r\n          <Notifications />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(announcements) &&\r\n              announcements.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    //background: key % 2 === 0 ? \"#ededed\" : \"white\",\r\n                    border: \"1px solid #eee\",\r\n                    borderLeft: borderPriority(item.priority),\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => handleShowAnnouncementDialog(item)}\r\n                >\r\n                  {item.mediaPath && (\r\n                    <ListItemAvatar>\r\n                      <Avatar\r\n                        alt={item.mediaName}\r\n                        src={getMediaPath(item.mediaPath)}\r\n                      />\r\n                    </ListItemAvatar>\r\n                  )}\r\n                  <ListItemText\r\n                    primary={item.title}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                        <Typography component=\"span\" variant=\"body2\">\r\n                          {item.text}\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(announcements) && announcements.length === 0 && (\r\n              <ListItemText primary=\"Nenhum registro\" />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import moment from \"moment\";\r\n\r\nexport function useDate() {\r\n  function dateToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function datetimeToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function dateToDatabase(strDate) {\r\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\r\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  return {\r\n    dateToClient,\r\n    datetimeToClient,\r\n    dateToDatabase,\r\n  };\r\n}\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport {\r\n  Badge,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { isArray } from \"lodash\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport notifySound from \"../../assets/chat_notify.mp3\";\r\nimport useSound from \"use-sound\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 300,\r\n    maxWidth: 500,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nexport default function ChatPopover() {\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(true);\r\n  const { datetimeToClient } = useDate();\r\n  const [play] = useSound(notifySound);\r\n  const soundAlertRef = useRef();\r\n\r\n  useEffect(() => {\r\n    soundAlertRef.current = play;\r\n\r\n    if (!(\"Notification\" in window)) {\r\n      console.log(\"This browser doesn't support notifications\");\r\n    } else {\r\n      Notification.requestPermission();\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n    \r\n    socket.on(`company-${companyId}-chat`, (data) => {\r\n      if (data.action === \"new-message\") {\r\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        const userIds = data.newMessage.chat.users.map(userObj => userObj.userId);\r\n\r\n        if (userIds.includes(user.id) && data.newMessage.senderId !== user.id) {\r\n          soundAlertRef.current();\r\n        }\r\n      }\r\n      if (data.action === \"update\") {\r\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const goToMessages = (chat) => {\r\n    window.location.href = `/chats/${chat.uuid}`;\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-describedby={id}\r\n        variant=\"contained\"\r\n        color={invisible ? \"default\" : \"inherit\"}\r\n        onClick={handleClick}\r\n        style={{ color: \"white\" }}\r\n      >\r\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n          <ForumIcon />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(chats) &&\r\n              chats.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\r\n                    border: \"1px solid #eee\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => goToMessages(item)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={item.lastMessage}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {datetimeToClient(item.updatedAt)}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(chats) && chats.length === 0 && (\r\n              <ListItemText primary={i18n.t(\"Nenhuma notificação.\")} />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport moment from \"moment\";\r\nimport {\r\n  makeStyles,\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  MenuItem,\r\n  IconButton,\r\n  Menu,\r\n  useTheme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\nimport CachedIcon from \"@material-ui/icons/Cached\";\r\n\r\nimport MainListItems from \"./MainListItems\";\r\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\r\nimport NotificationsVolume from \"../components/NotificationsVolume\";\r\nimport UserModal from \"../components/UserModal\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\nimport DarkMode from \"../components/DarkMode\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport toastError from \"../errors/toastError\";\r\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\r\n\r\nimport logo from \"../assets/logo3.png\";\r\nimport { socketConnection } from \"../services/socket\";\r\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\r\n\r\nimport { useDate } from \"../hooks/useDate\";\r\n\r\nimport ColorModeContext from \"../layout/themeContext\";\r\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"calc(100vh - 56px)\",\r\n    },\r\n    backgroundColor: theme.palette.fancyBackground,\r\n    '& .MuiButton-outlinedPrimary': {\r\n      color: theme.mode === 'light' ? '#000000' : '#FFF',\r\n      border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\r\n    },\r\n    '& .MuiTab-textColorPrimary.Mui-selected': {\r\n      color: theme.mode === 'light' ? '#A200FF' : '#FFF',\r\n    }\r\n  },\r\n  avatar: {\r\n    width: \"100%\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n    color: theme.palette.dark.main,\r\n    color: theme.palette.dark.main, \r\n    background: \"linear-gradient(to right, #A200FF, #2D0F3F, #2D0F3F)\"\r\n  },\r\n  toolbarIcon: {\r\n    //background: \"#B60404\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    padding: \"0 8px\",\r\n    minHeight: \"48px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"48px\"\r\n    }\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\"\r\n    }\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    fontSize: 14,\r\n    color: \"white\",\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\"\r\n    },\r\n    ...theme.scrollbarStylesSoft\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"100%\"\r\n    }\r\n  },\r\n  appBarSpacer: {\r\n    minHeight: \"48px\",\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\"\r\n  },\r\n  containerWithScroll: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  NotificationsPopOver: {\r\n    // color: theme.barraSuperior.secondary.main,\r\n  },\r\n  logo: {\r\n    width: \"80%\",\r\n    height: \"auto\",\r\n    maxWidth: 180,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n      height: \"80%\",\r\n      maxWidth: 180,\r\n    },\r\n    logo: theme.logo\r\n  },\r\n}));\r\n\r\nconst LoggedInLayout = ({ children, themeToggle }) => {\r\n  const classes = useStyles();\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const { handleLogout, loading } = useContext(AuthContext);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\r\n  // const [dueDate, setDueDate] = useState(\"\");\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const theme = useTheme();\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n\r\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\r\n\r\n  const { dateToClient } = useDate();\r\n\r\n\r\n  //################### CODIGOS DE TESTE #########################################\r\n  // useEffect(() => {\r\n  //   navigator.getBattery().then((battery) => {\r\n  //     console.log(`Battery Charging: ${battery.charging}`);\r\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\r\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\r\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\r\n  //   })\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   const geoLocation = navigator.geolocation\r\n\r\n  //   geoLocation.getCurrentPosition((position) => {\r\n  //     let lat = position.coords.latitude;\r\n  //     let long = position.coords.longitude;\r\n\r\n  //     console.log('latitude: ', lat)\r\n  //     console.log('longitude: ', long)\r\n  //   })\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   const nucleos = window.navigator.hardwareConcurrency;\r\n\r\n  //   console.log('Nucleos: ', nucleos)\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   console.log('userAgent', navigator.userAgent)\r\n  //   if (\r\n  //     navigator.userAgent.match(/Android/i)\r\n  //     || navigator.userAgent.match(/webOS/i)\r\n  //     || navigator.userAgent.match(/iPhone/i)\r\n  //     || navigator.userAgent.match(/iPad/i)\r\n  //     || navigator.userAgent.match(/iPod/i)\r\n  //     || navigator.userAgent.match(/BlackBerry/i)\r\n  //     || navigator.userAgent.match(/Windows Phone/i)\r\n  //   ) {\r\n  //     console.log('é mobile ', true) //celular\r\n  //   }\r\n  //   else {\r\n  //     console.log('não é mobile: ', false) //nao é celular\r\n  //   }\r\n  // }, []);\r\n  //##############################################################################\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth > 600) {\r\n      setDrawerOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerVariant(\"temporary\");\r\n    } else {\r\n      setDrawerVariant(\"permanent\");\r\n    }\r\n  }, [drawerOpen]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const userId = localStorage.getItem(\"userId\");\r\n\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-auth`, (data) => {\r\n      if (data.user.id === +userId) {\r\n        toastError(\"Sua conta foi acessada em outro computador.\");\r\n        setTimeout(() => {\r\n          localStorage.clear();\r\n          window.location.reload();\r\n        }, 1000);\r\n      }\r\n    });\r\n\r\n    socket.emit(\"userStatus\");\r\n    const interval = setInterval(() => {\r\n      socket.emit(\"userStatus\");\r\n    }, 1000 * 60 * 5);\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n      clearInterval(interval);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  const drawerClose = () => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleRefreshPage = () => {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  const handleMenuItemClick = () => {\r\n    const { innerWidth: width } = window;\r\n    if (width <= 600) {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  const toggleColorMode = () => {\r\n    colorMode.toggleColorMode();\r\n  }\r\n\r\n  if (loading) {\r\n    return <BackdropLoading />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Drawer\r\n        variant={drawerVariant}\r\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\r\n        classes={{\r\n          paper: clsx(\r\n            classes.drawerPaper,\r\n            !drawerOpen && classes.drawerPaperClose\r\n          ),\r\n        }}\r\n        open={drawerOpen}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <img src={logo} className={classes.logo} alt=\"logo\" />\r\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List className={classes.containerWithScroll}>\r\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={() => setUserModalOpen(false)}\r\n        userId={user?.id}\r\n      />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\r\n        color=\"primary\"\r\n      >\r\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            variant=\"contained\"\r\n            aria-label=\"open drawer\"\r\n            onClick={() => setDrawerOpen(!drawerOpen)}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              drawerOpen && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n\r\n          <Typography\r\n            component=\"h2\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\r\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\r\n              <>\r\n                Olá <b>{user.name}</b>, Bem-vindo ao CRM WhatsNeed! (Ativo até {dateToClient(user?.company?.dueDate)})\r\n              </>\r\n            ) : (\r\n              <>\r\n                Olá <b>{user.name}</b>, Bem-vindo ao CRM WhatsNeed! (Ativo até {dateToClient(user?.company?.dueDate)})\r\n              </>\r\n            )}\r\n          </Typography>\r\n\r\n          \r\n\r\n          <NotificationsVolume\r\n            setVolume={setVolume}\r\n            volume={volume}\r\n          />\r\n\r\n          <IconButton\r\n            onClick={handleRefreshPage}\r\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\r\n            color=\"inherit\"\r\n          >\r\n            <CachedIcon style={{ color: \"white\" }} />\r\n          </IconButton>\r\n\r\n          {user.id && <NotificationsPopOver volume={volume} />}\r\n\r\n          <AnnouncementsPopover />\r\n\r\n          <ChatPopover />\r\n\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              variant=\"contained\"\r\n              style={{ color: \"white\" }}\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={menuOpen}\r\n              onClose={handleCloseMenu}\r\n            >\r\n              <MenuItem onClick={handleOpenUserModal}>\r\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClickLogout}>\r\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n        {children ? children : null}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInLayout;","import React from \"react\";\r\n\r\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardAvatar: {\r\n\t\tfontSize: '55px',\r\n\t\tcolor: grey[500],\r\n\t\tbackgroundColor: '#ffffff',\r\n\t\twidth: theme.spacing(7),\r\n\t\theight: theme.spacing(7)\r\n\t},\r\n\tcardTitle: {\r\n\t\tfontSize: '18px',\r\n\t\tcolor: theme.palette.text.primary\r\n\t},\r\n\tcardSubtitle: {\r\n\t\tcolor: grey[600],\r\n\t\tfontSize: '14px'\r\n\t}\r\n}));\r\n\r\nexport default function CardCounter(props) {\r\n    const { icon, title, value, loading } = props\r\n\tconst classes = useStyles();\r\n    return ( !loading ? \r\n        <Card>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar className={classes.cardAvatar}>\r\n                        {icon}\r\n                    </Avatar>\r\n                }\r\n                title={\r\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\r\n                        { title }\r\n                    </Typography>\r\n                }\r\n                subheader={\r\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\r\n                        { value }\r\n                    </Typography>\r\n                }\r\n            />\r\n        </Card>\r\n        : <Skeleton variant=\"rect\" height={80} />\r\n    )\r\n    \r\n}","import React from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green, red } from '@material-ui/core/colors';\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport moment from 'moment';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ton: {\r\n\t\tcolor: green[600],\r\n\t\tfontSize: '20px'\r\n\t},\r\n\toff: {\r\n\t\tcolor: red[600],\r\n\t\tfontSize: '20px'\r\n\t},\r\n    pointer: {\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nexport function RatingBox ({ rating }) {\r\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\r\n    return <Rating\r\n        defaultValue={ratingTrunc}\r\n        max={3}\r\n        readOnly\r\n    />\r\n}\r\n\r\nexport default function TableAttendantsStatus(props) {\r\n    const { loading, attendants } = props\r\n\tconst classes = useStyles();\r\n\r\n    function renderList () {\r\n        return attendants.map((a, k) => (\r\n            <TableRow key={k}>\r\n                <TableCell>{a.name}</TableCell>\r\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\r\n                    <RatingBox rating={a.rating} />\r\n                </TableCell>\r\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\r\n                <TableCell align=\"center\">\r\n                    { a.online ?\r\n                        <CheckCircleIcon className={classes.on} />\r\n                        : <ErrorIcon className={classes.off} />\r\n                    }\r\n                </TableCell>\r\n            </TableRow>\r\n        ))\r\n    }\r\n\r\n\tfunction formatTime(minutes){\r\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\r\n\t}\r\n\r\n    return ( !loading ?\r\n        <TableContainer component={Paper}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Nome</TableCell>\r\n                        <TableCell align=\"center\">Avaliações</TableCell>\r\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\r\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    { renderList() }\r\n                    {/* <TableRow>\r\n                        <TableCell>Nome 4</TableCell>\r\n                        <TableCell align=\"center\">10</TableCell>\r\n                        <TableCell align=\"center\">10 minutos</TableCell>\r\n                        <TableCell align=\"center\">\r\n                            <CheckCircleIcon className={classes.off} />\r\n                        </TableCell>\r\n                    </TableRow>\r\n                    <TableRow>\r\n                        <TableCell>Nome 5</TableCell>\r\n                        <TableCell align=\"center\">10</TableCell>\r\n                        <TableCell align=\"center\">10 minutos</TableCell>\r\n                        <TableCell align=\"center\">\r\n                            <CheckCircleIcon className={classes.on} />\r\n                        </TableCell>\r\n                    </TableRow> */}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n        : <Skeleton variant=\"rect\" height={150} />\r\n    )\r\n}","import api from \"../../services/api\";\r\n\r\nconst useDashboard = () => {\r\n\r\n    const find = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/dashboard`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        find\r\n    }\r\n}\r\n\r\nexport default useDashboard;","import { useState, useEffect } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nconst useMessages = ({ fromMe, dateStart, dateEnd }) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const [count, setCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchMessages = async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/messages-allMe\", {\r\n                        params: {\r\n                            fromMe,\r\n                            dateStart,\r\n                            dateEnd,\r\n                        },\r\n                    });\r\n                    setCount(data.count[0].count);\r\n                    setLoading(false);\r\n                } catch (err) {\r\n                    setLoading(false);\r\n                    toastError(err);\r\n                }\r\n            };\r\n\r\n            fetchMessages();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [dateStart, dateEnd]);\r\n\r\n    return { count };\r\n};\r\n\r\nexport default useMessages;\r\n","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport brLocale from 'date-fns/locale/pt-BR';\r\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { Button, Stack, TextField } from '@mui/material';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport './button.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        paddingTop: theme.spacing(1),\r\n        paddingBottom: theme.padding,\r\n        paddingLeft: theme.spacing(1),\r\n        paddingRight: theme.spacing(2),\r\n    }\r\n}));\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n    ChartDataLabels\r\n);\r\n\r\nexport const options = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n            display: false,\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: 'Gráfico de Conversas',\r\n            position: 'left',\r\n        },\r\n        datalabels: {\r\n            display: true,\r\n            anchor: 'start',\r\n            offset: -30,\r\n            align: \"start\",\r\n            color: \"#fff\",\r\n            textStrokeColor: \"#000\",\r\n            textStrokeWidth: 2,\r\n            font: {\r\n                size: 20,\r\n                weight: \"bold\"\r\n\r\n            },\r\n        }\r\n    },\r\n};\r\n\r\nexport const ChatsUser = () => {\r\n    // const classes = useStyles();\r\n    const [initialDate, setInitialDate] = useState(new Date());\r\n    const [finalDate, setFinalDate] = useState(new Date());\r\n    const [ticketsData, setTicketsData] = useState({ data: [] });\r\n\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n\r\n    useEffect(() => {\r\n        handleGetTicketsInformation();\r\n    }, []);\r\n\r\n    const dataCharts = {\r\n\r\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => item.nome),\r\n        datasets: [\r\n            {\r\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\r\n                    return item.quantidade\r\n                }),\r\n                backgroundColor: '#2DDD7F',\r\n            },\r\n\r\n        ],\r\n    };\r\n\r\n    const handleGetTicketsInformation = async () => {\r\n        try {\r\n\r\n            const { data } = await api.get(`/dashboard/ticketsUsers?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\r\n            setTicketsData(data);\r\n        } catch (error) {\r\n            toast.error('Erro ao obter informações da conversa');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Typography \r\n    component=\"h2\" \r\n    variant=\"h6\" \r\n    color=\"primary\" \r\n    gutterBottom\r\n    style={{ marginLeft: '20px' }} // Adicione o espaçamento desejado aqui\r\n>\r\n    Total de Conversas por Usuários\r\n</Typography>\r\n\r\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2 }}>\r\n    <div style={{ marginLeft: '20px' }}>\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n            <DatePicker\r\n                value={initialDate}\r\n                onChange={(newValue) => { setInitialDate(newValue) }}\r\n                label=\"Inicio\"\r\n                renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n            />\r\n        </LocalizationProvider>\r\n    </div>\r\n\r\n    <div style={{ marginLeft: '20px' }}>\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n            <DatePicker\r\n                value={finalDate}\r\n                onChange={(newValue) => { setFinalDate(newValue) }}\r\n                label=\"Fim\"\r\n                renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n            />\r\n        </LocalizationProvider>\r\n    </div>\r\n\r\n    <div style={{ marginLeft: '20px' }}>\r\n        <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\r\n    </div>\r\n</Stack>\r\n<Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px' }} />\r\n\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport brLocale from 'date-fns/locale/pt-BR';\r\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { Button, Stack, TextField } from '@mui/material';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport api from '../../services/api';\r\nimport { format } from 'date-fns';\r\nimport { toast } from 'react-toastify';\r\nimport './button.css';\r\n\r\nChartJS.register(\r\n    CategoryScale,\r\n    LinearScale,\r\n    BarElement,\r\n    Title,\r\n    Tooltip,\r\n    Legend\r\n);\r\n\r\nexport const options = {\r\n    responsive: true,\r\n    plugins: {\r\n        legend: {\r\n            position: 'top',\r\n            display: false,\r\n        },\r\n        title: {\r\n            display: true,\r\n            text: 'Gráfico de Conversas',\r\n            position: 'left',\r\n        },\r\n        datalabels: {\r\n            display: true,\r\n            anchor: 'start',\r\n            offset: -30,\r\n            align: \"start\",\r\n            color: \"#fff\",\r\n            textStrokeColor: \"#000\",\r\n            textStrokeWidth: 2,\r\n            font: {\r\n                size: 20,\r\n                weight: \"bold\"\r\n\r\n            },\r\n        }\r\n    },\r\n};\r\n\r\nexport const ChartsDate = () => {\r\n\r\n    const [initialDate, setInitialDate] = useState(new Date());\r\n    const [finalDate, setFinalDate] = useState(new Date());\r\n    const [ticketsData, setTicketsData] = useState({ data: [], count: 0 });\r\n\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n\r\n    useEffect(() => {\r\n        handleGetTicketsInformation();\r\n    }, []);\r\n\r\n    const dataCharts = {\r\n\r\n        labels: ticketsData && ticketsData?.data.length > 0 && ticketsData?.data.map((item) => (item.hasOwnProperty('horario') ? `Das ${item.horario}:00 as ${item.horario}:59` : item.data)),\r\n        datasets: [\r\n            {\r\n                // label: 'Dataset 1',\r\n                data: ticketsData?.data.length > 0 && ticketsData?.data.map((item, index) => {\r\n                    return item.total\r\n                }),\r\n                backgroundColor: '#2DDD7F',\r\n            },\r\n        ],\r\n    };\r\n\r\n    const handleGetTicketsInformation = async () => {\r\n        try {\r\n            const { data } = await api.get(`/dashboard/ticketsDay?initialDate=${format(initialDate, 'yyyy-MM-dd')}&finalDate=${format(finalDate, 'yyyy-MM-dd')}&companyId=${companyId}`);\r\n            setTicketsData(data);\r\n        } catch (error) {\r\n            toast.error('Erro ao buscar informações dos tickets');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Typography \r\n    component=\"h2\" \r\n    variant=\"h6\" \r\n    color=\"primary\" \r\n    gutterBottom\r\n    style={{ marginLeft: '20px' }} // Adicione o espaçamento desejado aqui\r\n>\r\n    Total ({ticketsData?.count})\r\n</Typography>\r\n\r\n\r\n            <Stack direction={'row'} spacing={2} alignItems={'center'} sx={{ my: 2 }}>\r\n    <div style={{ marginLeft: '20px' }}> {/* Adiciona espaço em branco à esquerda */}\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n            <DatePicker\r\n                value={initialDate}\r\n                onChange={(newValue) => { setInitialDate(newValue) }}\r\n                label=\"Inicio\"\r\n                renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n            />\r\n        </LocalizationProvider>\r\n    </div>\r\n\r\n    <div style={{ marginLeft: '20px' }}> {/* Adiciona espaço em branco à esquerda */}\r\n        <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={brLocale}>\r\n            <DatePicker\r\n                value={finalDate}\r\n                onChange={(newValue) => { setFinalDate(newValue) }}\r\n                label=\"Fim\"\r\n                renderInput={(params) => <TextField fullWidth {...params} sx={{ width: '20ch' }} />}\r\n            />\r\n        </LocalizationProvider>\r\n    </div>\r\n\r\n    <div style={{ marginLeft: '20px' }}> {/* Adiciona espaço em branco à esquerda */}\r\n        <Button className=\"buttonHover\" onClick={handleGetTicketsInformation} variant='contained'>Filtrar</Button>\r\n    </div>\r\n</Stack>\r\n<Bar options={options} data={dataCharts} style={{ maxWidth: '100%', maxHeight: '280px' }} />\r\n\r\n        </>\r\n    );\r\n}","import React, { useContext, useState, useEffect } from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\n// ICONS\r\nimport SpeedIcon from \"@material-ui/icons/Speed\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport CallIcon from \"@material-ui/icons/Call\";\r\nimport RecordVoiceOverIcon from \"@material-ui/icons/RecordVoiceOver\";\r\n//import GroupAddIcon from \"@material-ui/icons/GroupAdd\";\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\r\n//import CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport DoneAllIcon from '@material-ui/icons/DoneAll'\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport MessageIcon from '@material-ui/icons/Message';\r\nimport AccessAlarmIcon from '@material-ui/icons/AccessAlarm';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\n\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Chart from \"./Chart\";\r\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\r\n\r\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\r\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\r\nimport { isArray } from \"lodash\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport useDashboard from \"../../hooks/useDashboard\";\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport useUsers from \"../../hooks/useUsers\";\r\nimport useContacts from \"../../hooks/useContacts\";\r\nimport useMessages from \"../../hooks/useMessages\";\r\nimport { ChatsUser } from \"./ChartsUser\"\r\n\r\nimport Filters from \"./Filters\";\r\nimport { isEmpty } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { ChartsDate } from \"./ChartsDate\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: 230,\r\n    overflowY: \"auto\",\r\n    ...theme.scrollbarStyles,\r\n    /*borderRadius: theme.spacing(1),Adicionando bordas arredondadas (ajuste conforme necessário) */\r\n    boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.2)\", // Adicionando uma sombra mais forte \r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  card1: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"95%\",\r\n    backgroundColor: \"#A200FF\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card2: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"95%\",\r\n    backgroundColor: \"#A200FF\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card3: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"95%\",\r\n    backgroundColor: \"#23B568\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card4: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card5: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card6: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card7: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card8: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n  card9: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: \"87%\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#eee\",\r\n    borderRadius: theme.spacing(2),\r\n  },\r\n}));\r\n\r\n\r\nconst Dashboard = () => {\r\n  const classes = useStyles();\r\n  const [counters, setCounters] = useState({});\r\n  const [attendants, setAttendants] = useState([]);\r\n  const [period, setPeriod] = useState(0);\r\n  const [filterType, setFilterType] = useState(1);\r\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\r\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\r\n  const [loading, setLoading] = useState(false);\r\n  const { find } = useDashboard();\r\n\r\n  let newDate = new Date();\r\n  let date = newDate.getDate();\r\n  let month = newDate.getMonth() + 1;\r\n  let year = newDate.getFullYear();\r\n  let now = `${year}-${month < 10 ? `0${month}` : `${month}`}-${date < 10 ? `0${date}` : `${date}`}`;\r\n\r\n  const [showFilter, setShowFilter] = useState(false);\r\n  const [queueTicket, setQueueTicket] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n  var userQueueIds = [];\r\n\r\n  if (user.queues && user.queues.length > 0) {\r\n    userQueueIds = user.queues.map((q) => q.id);\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function firstLoad() {\r\n      await fetchData();\r\n    }\r\n    setTimeout(() => {\r\n      firstLoad();\r\n    }, 1000);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  \r\n    async function handleChangePeriod(value) {\r\n    setPeriod(value);\r\n  }\r\n\r\n  async function handleChangeFilterType(value) {\r\n    setFilterType(value);\r\n    if (value === 1) {\r\n      setPeriod(0);\r\n    } else {\r\n      setDateFrom(\"\");\r\n      setDateTo(\"\");\r\n    }\r\n  }\r\n\r\n  async function fetchData() {\r\n    setLoading(true);\r\n\r\n    let params = {};\r\n\r\n    if (period > 0) {\r\n      params = {\r\n        days: period,\r\n      };\r\n    }\r\n\r\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    if (Object.keys(params).length === 0) {\r\n      toast.error(\"Parametrize o filtro\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const data = await find(params);\r\n\r\n    setCounters(data.counters);\r\n    if (isArray(data.attendants)) {\r\n      setAttendants(data.attendants);\r\n    } else {\r\n      setAttendants([]);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function formatTime(minutes) {\r\n    return moment()\r\n      .startOf(\"day\")\r\n      .add(minutes, \"minutes\")\r\n      .format(\"HH[h] mm[m]\");\r\n  }\r\n\r\n  const GetUsers = () => {\r\n    let count;\r\n    let userOnline = 0;\r\n    attendants.forEach(user => {\r\n      if (user.online === true) {\r\n        userOnline = userOnline + 1\r\n      }\r\n    })\r\n    count = userOnline === 0 ? 0 : userOnline;\r\n    return count;\r\n  };\r\n  \r\n    const GetContacts = (all) => {\r\n    let props = {};\r\n    if (all) {\r\n      props = {};\r\n    }\r\n    const { count } = useContacts(props);\r\n    return count;\r\n  };\r\n  \r\n    function renderFilters() {\r\n    if (filterType === 1) {\r\n      return (\r\n        <>\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <TextField\r\n              label=\"Data Inicial\"\r\n              type=\"date\"\r\n              value={dateFrom}\r\n              onChange={(e) => setDateFrom(e.target.value)}\r\n              className={classes.fullWidth}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <TextField\r\n              label=\"Data Final\"\r\n              type=\"date\"\r\n              value={dateTo}\r\n              onChange={(e) => setDateTo(e.target.value)}\r\n              className={classes.fullWidth}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n          </Grid>\r\n        </>\r\n      );\r\n    } else {\r\n      return (\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"period-selector-label\">Período</InputLabel>\r\n            <Select\r\n              labelId=\"period-selector-label\"\r\n              id=\"period-selector\"\r\n              value={period}\r\n              onChange={(e) => handleChangePeriod(e.target.value)}\r\n            >\r\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\r\n              <MenuItem value={3}>Últimos 3 dias</MenuItem>\r\n              <MenuItem value={7}>Últimos 7 dias</MenuItem>\r\n              <MenuItem value={15}>Últimos 15 dias</MenuItem>\r\n              <MenuItem value={30}>Últimos 30 dias</MenuItem>\r\n              <MenuItem value={60}>Últimos 60 dias</MenuItem>\r\n              <MenuItem value={90}>Últimos 90 dias</MenuItem>\r\n            </Select>\r\n            <FormHelperText>Selecione o período desejado</FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n      );\r\n    }\r\n  }\r\n\r\n     return (\r\n    <div>\r\n      <Container maxWidth=\"lg\" className={classes.container}>\r\n        <Grid container spacing={3} justifyContent=\"flex-end\">\r\n          \r\n          \r\n          {/* ATENDIMENTOS PENDENTES */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card1}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={8}\r\n            >\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h5\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                  >\r\n                    Atd. Pendentes\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                    >\r\n                      {counters.supportPending}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={2}>\r\n                  <CallIcon\r\n                    style={{\r\n                      fontSize: 75,\r\n                      color: \"#ffffff\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* ATENDIMENTOS ACONTECENDO */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card2}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={8}\r\n            >\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h5\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                  >\r\n                    Atd. Acontecendo\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                    >\r\n                      {counters.supportHappening}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <HourglassEmptyIcon\r\n                    style={{\r\n                      fontSize: 75,\r\n                      color: \"#ffffff\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* ATENDIMENTOS REALIZADOS */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card3}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={18}\r\n            >\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h5\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                  >\r\n                    Finalizados\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                    >\r\n                      {counters.supportFinished}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <DoneAllIcon\r\n                    style={{\r\n                      fontSize: 85,\r\n                      color: \"#ffffff\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* NOVOS CONTATOS */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card4}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={8}\r\n            >\r\n              <Grid container spacing={3} >\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h5\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                    style={{ color: \"#000000\" }}\r\n                  >\r\n                    Novos Contatos\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                      style={{ color: \"#000000\" }}\r\n                      \r\n                    >\r\n                      {counters.leads}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <PersonAddIcon\r\n                    style={{\r\n                      fontSize: 100,\r\n                      color: \"#000000\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* T.M. DE ATENDIMENTO */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card8}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={8}\r\n            >\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h3\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                    style={{ color: \"#000000\" }}\r\n                  >\r\n                    T.M. de Atendimento\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                      style={{ color: \"#000000\" }}\r\n                    >\r\n                      {formatTime(counters.avgSupportTime)}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <AccessAlarmIcon\r\n                    style={{\r\n                      fontSize: 100,\r\n                      color: \"#000000\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* T.M. DE ESPERA */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <Paper\r\n              className={classes.card9}\r\n              style={{ overflow: \"hidden\" }}\r\n              elevation={8}\r\n            >\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={8}>\r\n                  <Typography\r\n                    component=\"h3\"\r\n                    variant=\"h6\"\r\n                    paragraph\r\n                    style={{ color: \"#000000\" }}\r\n                  >\r\n                    T.M. de Espera\r\n                  </Typography>\r\n                  <Grid item>\r\n                    <Typography\r\n                      component=\"h1\"\r\n                      variant=\"h4\"\r\n                      style={{ color: \"#000000\" }}\r\n                    >\r\n                      {formatTime(counters.avgWaitTime)}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid item xs={4}>\r\n                  <TimerIcon\r\n                    style={{\r\n                      fontSize: 100,\r\n                      color: \"#000000\",\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </Grid>\r\n\t\t  \r\n\t\t  {/* FILTROS */}\r\n          <Grid item xs={12} sm={6} md={4}>\r\n            <FormControl className={classes.selectContainer}>\r\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\r\n              <Select\r\n                labelId=\"period-selector-label\"\r\n                value={filterType}\r\n                onChange={(e) => handleChangeFilterType(e.target.value)}\r\n              >\r\n                <MenuItem value={1}>Filtro por Data</MenuItem>\r\n                <MenuItem value={2}>Filtro por Período</MenuItem>\r\n              </Select>\r\n              <FormHelperText>Selecione o período desejado</FormHelperText>\r\n            </FormControl>\r\n          </Grid>\r\n\r\n          {renderFilters()}\r\n\r\n          {/* BOTAO FILTRAR */}\r\n          <Grid item xs={12} className={classes.alignRight}>\r\n            <ButtonWithSpinner\r\n              loading={loading}\r\n              onClick={() => fetchData()}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n            >\r\n              Filtrar\r\n            </ButtonWithSpinner>\r\n          </Grid>\r\n\r\n          {/* USUARIOS ONLINE */}\r\n          <Grid item xs={12}>\r\n            {attendants.length ? (\r\n              <TableAttendantsStatus\r\n                attendants={attendants}\r\n                loading={loading}\r\n              />\r\n            ) : null}\r\n          </Grid>\r\n\r\n          {/* TOTAL DE ATENDIMENTOS POR USUARIO */}\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.fixedHeightPaper2}>\r\n              <ChatsUser />\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* TOTAL DE ATENDIMENTOS */}\r\n          <Grid item xs={12}>\r\n            <Paper className={classes.fixedHeightPaper2}>\r\n              <ChartsDate />\r\n            </Paper>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </Container >\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tnumber: \"\",\r\n\t\temail: \"\",\r\n\t};\r\n\r\n\tconst [contact, setContact] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchContact = async () => {\r\n\t\t\tif (initialValues) {\r\n\t\t\t\tsetContact(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...initialValues };\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (!contactId) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\r\n\t\t\t\tif (isMounted.current) {\r\n\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\tsetContact(data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchContact();\r\n\t}, [contactId, open, initialValues]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact(initialState);\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contactId) {\r\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\r\n\t\t\t\thandleClose();\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\r\n\t\t\t\t\t\t\t\t\tname=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"5541998608485\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\r\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactModal;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n\tcreateFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {  WhatsApp } from \"@material-ui/icons\";\r\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { toast } from \"react-toastify\";\r\n//import ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\"\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\"\r\n  }\r\n}));\r\n\r\nconst filter = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\r\n  const [newContact, setNewContact] = useState({});\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  const [ openAlert, setOpenAlert ] = useState(false);\r\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (initialContact?.id !== undefined) {\r\n      setOptions([initialContact]);\r\n      setSelectedContact(initialContact);\r\n    }\r\n  }, [initialContact]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => setWhatsapps(data));\r\n      };\r\n\r\n      if (whatsappId !== null && whatsappId!== undefined) {\r\n        setSelectedWhatsapp(whatsappId)\r\n      }\r\n\r\n      if (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n      fetchContacts();\r\n      setLoading(false);\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  // const IconChannel = (channel) => {\r\n  //   switch (channel) {\r\n  //     case \"facebook\":\r\n  //       return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n  //     case \"instagram\":\r\n  //       return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n  //     case \"whatsapp\":\r\n  //       return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n  //     default:\r\n  //       return \"error\";\r\n  //   }\r\n  // };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setOpenAlert(false);\r\n    setLoading(false);\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n  };\r\n\r\n  const handleSaveTicket = async contactId => {\r\n    if (!contactId) return;\r\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\r\n      toast.error(\"Selecione uma fila\");\r\n      return;\r\n    }\r\n    \r\n    setLoading(true);\r\n    try {\r\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\r\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        queueId,\r\n        whatsappId,\r\n        userId: user.id,\r\n        status: \"open\",\r\n      });      \r\n\r\n      onClose(ticket);\r\n    } catch (err) {\r\n      \r\n      const ticket  = JSON.parse(err.response.data.error);\r\n\r\n      if (ticket.userId !== user?.id) {\r\n        setOpenAlert(true);\r\n        setUserTicketOpen(ticket.user.name);\r\n        setQueueTicketOpen(ticket.queue.name);\r\n      } else {\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n        setLoading(false);\r\n        onClose(ticket);\r\n      }\r\n    }  \r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    if (newValue?.number) {\r\n      setSelectedContact(newValue);\r\n    } else if (newValue?.name) {\r\n      setNewContact({ name: newValue.name });\r\n      setContactModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);    \r\n  };\r\n\r\n  const handleAddNewContactTicket = contact => {\r\n    handleSaveTicket(contact.id);\r\n  };\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n\r\n  const renderOption = option => {\r\n    if (option.number) {\r\n      return <>\r\n        {/* {IconChannel(option.channel)} */}\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderContactAutocomplete = () => {\r\n    if (initialContact === undefined || initialContact.id === undefined) {\r\n      return (\r\n        <Grid xs={12} item>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={options}\r\n            loading={loading}\r\n            clearOnBlur\r\n            autoHighlight\r\n            freeSolo\r\n            clearOnEscape\r\n            getOptionLabel={renderOptionLabel}\r\n            renderOption={renderOption}\r\n            filterOptions={createAddContactOption}\r\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n            renderInput={params => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={e => setSearchParam(e.target.value)}\r\n                onKeyPress={e => {\r\n                  if (loading || !selectedContact) return;\r\n                  else if (e.key === \"Enter\") {\r\n                    handleSaveTicket(selectedContact.id);\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        initialValues={newContact}\r\n        onClose={handleCloseContactModal}\r\n        onSave={handleAddNewContactTicket}\r\n      ></ContactModal>\r\n      <Dialog open={modalOpen} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"newTicketModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid style={{ width: 300 }} container spacing={2}>\r\n            {/* CONTATO */}\r\n            {renderContactAutocomplete()}\r\n            {/* FILA */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedQueue}\r\n                onChange={(e) => {\r\n                  setSelectedQueue(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedQueue === \"\") {\r\n                    return \"Selecione uma fila\"\r\n                  }\r\n                  const queue = user.queues.find(q => q.id === selectedQueue)\r\n                  return queue.name\r\n                }}\r\n              >\r\n                {user.queues?.length > 0 &&\r\n                  user.queues.map((queue, key) => (\r\n                    <MenuItem dense key={key} value={queue.id}>\r\n                      <ListItemText primary={queue.name} />\r\n                    </MenuItem>\r\n                  ))\r\n                }\r\n              </Select>\r\n            </Grid>\r\n            {/* CONEXAO */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedWhatsapp}\r\n                onChange={(e) => {\r\n                  setSelectedWhatsapp(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedWhatsapp === \"\") {\r\n                    return \"Selecione uma Conexão\"\r\n                  }\r\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\r\n                  return whatsapp.name\r\n                }}\r\n              >\r\n                {whatsapps?.length > 0 &&\r\n                  whatsapps.map((whatsapp, key) => (\r\n                    <MenuItem dense key={key} value={whatsapp.id}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <>\r\n                            {/* {IconChannel(whatsapp.channel)} */}\r\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\r\n                            </Typography>\r\n                          </>\r\n                        }\r\n                      />\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"button\"\r\n            disabled={!selectedContact}\r\n            onClick={() => handleSaveTicket(selectedContact.id)}\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n        {/* <ShowTicketOpen\r\n          isOpen={openAlert}\r\n          handleClose={handleCloseAlert}\r\n          user={userTicketOpen}\r\n          queue={queueTicketOpen}\r\n\t\t\t  /> */}\r\n      </Dialog >\r\n    </>\r\n  );\r\n};\r\nexport default NewTicketModal;","import React from \"react\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst TicketsSkeleton = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketsSkeleton;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport TicketListItem from \"../TicketListItemCustom\";\r\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\r\n\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ticketsListWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n\r\n  ticketsList: {\r\n    flex: 1,\r\n    maxHeight: \"100%\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n\r\n  ticketsListHeader: {\r\n    color: \"rgb(67, 83, 105)\",\r\n    zIndex: 2,\r\n    backgroundColor: \"white\",\r\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n\r\n  ticketsCount: {\r\n    fontWeight: \"normal\",\r\n    color: \"rgb(104, 121, 146)\",\r\n    marginLeft: \"8px\",\r\n    fontSize: \"14px\",\r\n  },\r\n\r\n  noTicketsText: {\r\n    textAlign: \"center\",\r\n    color: \"rgb(104, 121, 146)\",\r\n    fontSize: \"14px\",\r\n    lineHeight: \"1.4\",\r\n  },\r\n\r\n  noTicketsTitle: {\r\n    textAlign: \"center\",\r\n    fontSize: \"16px\",\r\n    fontWeight: \"600\",\r\n    margin: \"0px\",\r\n  },\r\n\r\n  noTicketsDiv: {\r\n    display: \"flex\",\r\n    height: \"100px\",\r\n    margin: 40,\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_TICKETS\") {\r\n    const newTickets = action.payload;\r\n\r\n    newTickets.forEach((ticket) => {\r\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n      if (ticketIndex !== -1) {\r\n        state[ticketIndex] = ticket;\r\n        if (ticket.unreadMessages > 0) {\r\n          state.unshift(state.splice(ticketIndex, 1)[0]);\r\n        }\r\n      } else {\r\n        state.push(ticket);\r\n      }\r\n    });\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET_UNREAD\") {\r\n    const ticketId = action.payload;\r\n\r\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n    if (ticketIndex !== -1) {\r\n      state[ticketIndex].unreadMessages = 0;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TICKET\") {\r\n    const ticket = action.payload;\r\n\r\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n    if (ticketIndex !== -1) {\r\n      state[ticketIndex] = ticket;\r\n    } else {\r\n      state.unshift(ticket);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\r\n    const ticket = action.payload;\r\n\r\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n    if (ticketIndex !== -1) {\r\n      state[ticketIndex] = ticket;\r\n      state.unshift(state.splice(ticketIndex, 1)[0]);\r\n    } else {\r\n      state.unshift(ticket);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\r\n    const contact = action.payload;\r\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\r\n    if (ticketIndex !== -1) {\r\n      state[ticketIndex].contact = contact;\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"DELETE_TICKET\") {\r\n    const ticketId = action.payload;\r\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n    if (ticketIndex !== -1) {\r\n      state.splice(ticketIndex, 1);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst TicketsListCustom = (props) => {\r\n  const {\r\n    status,\r\n    searchParam,\r\n    tags,\r\n    users,\r\n    showAll,\r\n    selectedQueueIds,\r\n    updateCount,\r\n    style,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [ticketsList, dispatch] = useReducer(reducer, []);\r\n  const { user } = useContext(AuthContext);\r\n  const { profile, queues } = user;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\r\n\r\n  const { tickets, hasMore, loading } = useTickets({\r\n    pageNumber,\r\n    searchParam,\r\n    status,\r\n    showAll,\r\n    tags: JSON.stringify(tags),\r\n    users: JSON.stringify(users),\r\n    queueIds: JSON.stringify(selectedQueueIds),\r\n  });\r\n\r\n  useEffect(() => {\r\n    const queueIds = queues.map((q) => q.id);\r\n    const filteredTickets = tickets.filter(\r\n      (t) => queueIds.indexOf(t.queueId) > -1\r\n    );\r\n\r\n    if (profile === \"user\") {\r\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\r\n    } else {\r\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\r\n    }\r\n  }, [tickets, status, searchParam, queues, profile]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    const shouldUpdateTicket = (ticket) =>\r\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\r\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\r\n\r\n    const notBelongsToUserQueues = (ticket) =>\r\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\r\n\r\n    socket.on(\"connect\", () => {\r\n      if (status) {\r\n        socket.emit(\"joinTickets\", status);\r\n      } else {\r\n        socket.emit(\"joinNotification\");\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-ticket`, (data) => {\r\n      \r\n      if (data.action === \"updateUnread\") {\r\n        dispatch({\r\n          type: \"RESET_UNREAD\",\r\n          payload: data.ticketId,\r\n        });\r\n      }\r\n\r\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\r\n        dispatch({\r\n          type: \"UPDATE_TICKET\",\r\n          payload: data.ticket,\r\n        });\r\n      }\r\n\r\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\r\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-appMessage`, (data) => {\r\n      const queueIds = queues.map((q) => q.id);\r\n      if (\r\n        profile === \"user\" &&\r\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\r\n          data.ticket.queue === null)\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\r\n        dispatch({\r\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n          payload: data.ticket,\r\n        });\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-contact`, (data) => {\r\n      if (data.action === \"update\") {\r\n        dispatch({\r\n          type: \"UPDATE_TICKET_CONTACT\",\r\n          payload: data.contact,\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\r\n\r\n  useEffect(() => {\r\n    if (typeof updateCount === \"function\") {\r\n      updateCount(ticketsList.length);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [ticketsList]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.ticketsListWrapper} style={style}>\r\n      <Paper\r\n        square\r\n        name=\"closed\"\r\n        elevation={0}\r\n        className={classes.ticketsList}\r\n        onScroll={handleScroll}\r\n      >\r\n        <List style={{ paddingTop: 0 }}>\r\n          {ticketsList.length === 0 && !loading ? (\r\n            <div className={classes.noTicketsDiv}>\r\n              <span className={classes.noTicketsTitle}>\r\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\r\n              </span>\r\n              <p className={classes.noTicketsText}>\r\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              {ticketsList.map((ticket) => (\r\n                <TicketListItem ticket={ticket} key={ticket.id} />\r\n              ))}\r\n            </>\r\n          )}\r\n          {loading && <TicketsListSkeleton />}\r\n        </List>\r\n      </Paper>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default TicketsListCustom;\r\n","import React from \"react\";\r\n\r\nconst TabPanel = ({ children, value, name, ...rest }) => {\r\n\tif (value === name) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\trole=\"tabpanel\"\r\n\t\t\t\tid={`simple-tabpanel-${name}`}\r\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\r\n\t\t\t\t{...rest}\r\n\t\t\t>\r\n\t\t\t\t<>{children}</>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else return null;\r\n};\r\n\r\nexport default TabPanel;\r\n","import React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst TicketsQueueSelect = ({\r\n\tuserQueues,\r\n\tselectedQueueIds = [],\r\n\tonChange,\r\n}) => {\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ width: 120, marginTop: -4 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\">\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tdisplayEmpty\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\r\n\t\t\t\t>\r\n\t\t\t\t\t{userQueues?.length > 0 &&\r\n\t\t\t\t\t\tuserQueues.map(queue => (\r\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TicketsQueueSelect;\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsFilter({ onFiltered }) {\r\n  const [tags, setTags] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadTags();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const loadTags = async () => {\r\n    try {\r\n      const { data } = await api.get(`/tags/list`);\r\n      setTags(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: 10 }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={tags}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        renderTags={(value, getTagProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: option.color || \"#eee\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getTagProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder=\"Filtro por Tags\"\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function UsersFilter({ onFiltered, initialUsers }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadUsers();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelecteds([]);\r\n    if (\r\n      Array.isArray(initialUsers) &&\r\n      Array.isArray(users) &&\r\n      users.length > 0\r\n    ) {\r\n      onChange(initialUsers);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialUsers, users]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(`/users/list`);\r\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\r\n      setUsers(userList);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={users}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        getOptionSelected={(option, value) => {\r\n          return (\r\n            option?.id === value?.id ||\r\n            option?.name.toLowerCase() === value?.name.toLowerCase()\r\n          );\r\n        }}\r\n        renderTags={(value, getUserProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: \"#bfbfbf\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getUserProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder=\"Filtro por Users\"\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\n\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nimport NewTicketModal from \"../NewTicketModal\";\r\nimport TicketsList from \"../TicketsListCustom\";\r\nimport TabPanel from \"../TabPanel\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { TagsFilter } from \"../TagsFilter\";\r\nimport { UsersFilter } from \"../UsersFilter\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketsWrapper: {\r\n\t\tposition: \"relative\",\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t\toverflow: \"hidden\",\r\n\t\tborderTopRightRadius: 0,\r\n\t\tborderBottomRightRadius: 0,\r\n\t\tborderRadius:0,\r\n\t},\r\n\r\n\ttabsHeader: {\r\n\t\tflex: \"none\",\r\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\r\n\t},\r\n\r\n\ttabsInternal: {\r\n\t\tflex: \"none\",\r\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\r\n\t},\r\n\r\n\tsettingsIcon: {\r\n\t\talignSelf: \"center\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\tpadding: 8,\r\n\t},\r\n\r\n\ttab: {\r\n\t\tminWidth: 120,\r\n\t\twidth: 120,\r\n\t},\r\n\r\n\tinternalTab: {\r\n\t\tminWidth: 120,\r\n\t\twidth: 120,\r\n\t\tpadding: 5\r\n\t},\r\n\r\n\tticketOptionsBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\talignItems: \"center\",\r\n\t\tbackground: theme.palette.optionsBackground,\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n\r\n\tticketSearchLine: {\r\n\t\tpadding: theme.spacing(1),\r\n\t},\r\n\r\n\tserachInputWrapper: {\r\n\t\tflex: 1,\r\n\t\tbackground: theme.palette.total,\r\n\t\tdisplay: \"flex\",\r\n\t\tborderRadius: 40,\r\n\t\tpadding: 4,\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\r\n\tsearchIcon: {\r\n\t\tcolor: \"grey\",\r\n\t\tmarginLeft: 6,\r\n\t\tmarginRight: 6,\r\n\t\talignSelf: \"center\",\r\n\t},\r\n\r\n\tsearchInput: {\r\n\t\tflex: 1,\r\n\t\tborder: \"none\",\r\n\t\tborderRadius: 30,\r\n\t},\r\n\r\n\tinsiderTabPanel: {\r\n\t\theight: '100%',\r\n\t\tmarginTop: \"-72px\",\r\n\t\tpaddingTop: \"72px\"\r\n\t},\r\n\r\n\tinsiderDoubleTabPanel: {\r\n\t\tdisplay:\"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmarginTop: \"-72px\",\r\n\t\tpaddingTop: \"72px\",\r\n\t\theight: \"100%\"\r\n\t},\r\n\r\n\tlabelContainer: {\r\n\t\twidth: \"auto\",\r\n\t\tpadding: 0\r\n\t},\r\n\ticonLabelWrapper: {\r\n\t\tflexDirection: \"row\",\r\n\t\t'& > *:first-child': {\r\n\t\t\tmarginBottom: '3px !important',\r\n\t\t\tmarginRight: 16\r\n\t\t}\r\n\t},\r\n\tinsiderTabLabel: {\r\n\t\t[theme.breakpoints.down(1600)]: {\r\n\t\t\tdisplay:'none'\r\n\t\t}\r\n\t},\r\n\tsmallFormControl: {\r\n\t\t'& .MuiOutlinedInput-input': {\r\n\t\t\tpadding: \"12px 10px\",\r\n\t\t},\r\n\t\t'& .MuiInputLabel-outlined': {\r\n\t\t\tmarginTop: \"-6px\"\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nconst TicketsManagerTabs = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tab, setTab] = useState(\"open\");\r\n  const [tabOpen, setTabOpen] = useState(\"open\");\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [showAllTickets, setShowAllTickets] = useState(false);\r\n  const searchInputRef = useRef();\r\n  const { user } = useContext(AuthContext);\r\n  const { profile } = user;\r\n\r\n  const [openCount, setOpenCount] = useState(0);\r\n  const [pendingCount, setPendingCount] = useState(0);\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user.profile.toUpperCase() === \"ADMIN\") {\r\n      setShowAllTickets(true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tab === \"search\") {\r\n      searchInputRef.current.focus();\r\n    }\r\n  }, [tab]);\r\n\r\n  let searchTimeout;\r\n\r\n  const handleSearch = (e) => {\r\n    const searchedTerm = e.target.value.toLowerCase();\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (searchedTerm === \"\") {\r\n      setSearchParam(searchedTerm);\r\n      setTab(\"open\");\r\n      return;\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSearchParam(searchedTerm);\r\n    }, 500);\r\n  };\r\n\r\n  const handleChangeTab = (e, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleChangeTabOpen = (e, newValue) => {\r\n    setTabOpen(newValue);\r\n  };\r\n\r\n  const applyPanelStyle = (status) => {\r\n    if (tabOpen !== status) {\r\n      return { width: 0, height: 0 };\r\n    }\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const handleSelectedTags = (selecteds) => {\r\n    const tags = selecteds.map((t) => t.id);\r\n    setSelectedTags(tags);\r\n  };\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n    setSelectedUsers(users);\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        onClose={(ticket) => {\r\n          \r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <Paper elevation={0} square className={classes.tabsHeader}>\r\n        <Tabs\r\n          value={tab}\r\n          onChange={handleChangeTab}\r\n          variant=\"fullWidth\"\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          aria-label=\"icon label tabs example\"\r\n        >\r\n          <Tab\r\n            value={\"open\"}\r\n            icon={<MoveToInboxIcon />}\r\n            label={i18n.t(\"tickets.tabs.open.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"closed\"}\r\n            icon={<CheckBoxIcon />}\r\n            label={i18n.t(\"tickets.tabs.closed.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"search\"}\r\n            icon={<SearchIcon />}\r\n            label={i18n.t(\"tickets.tabs.search.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n        </Tabs>\r\n      </Paper>\r\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\r\n        {tab === \"search\" ? (\r\n          <div className={classes.serachInputWrapper}>\r\n            <SearchIcon className={classes.searchIcon} />\r\n            <InputBase\r\n              className={classes.searchInput}\r\n              inputRef={searchInputRef}\r\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\r\n              type=\"search\"\r\n              onChange={handleSearch}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => setNewTicketModalOpen(true)}\r\n            >\r\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\r\n            </Button>\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"tickets-manager:showall\"\r\n              yes={() => (\r\n                <FormControlLabel\r\n                  label={i18n.t(\"tickets.buttons.showAll\")}\r\n                  labelPlacement=\"start\"\r\n                  control={\r\n                    <Switch\r\n                      size=\"small\"\r\n                      checked={showAllTickets}\r\n                      onChange={() =>\r\n                        setShowAllTickets((prevState) => !prevState)\r\n                      }\r\n                      name=\"showAllTickets\"\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n            />\r\n          </>\r\n        )}\r\n        <TicketsQueueSelect\r\n          style={{ marginLeft: 6 }}\r\n          selectedQueueIds={selectedQueueIds}\r\n          userQueues={user?.queues}\r\n          onChange={(values) => setSelectedQueueIds(values)}\r\n        />\r\n      </Paper>\r\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\r\n        <Tabs\r\n          value={tabOpen}\r\n          onChange={handleChangeTabOpen}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          <Tab\r\n            label={\r\n              <Badge\r\n                className={classes.badge}\r\n                badgeContent={openCount}\r\n                color=\"primary\"\r\n              >\r\n                {i18n.t(\"ticketsList.assignedHeader\")}\r\n              </Badge>\r\n            }\r\n            value={\"open\"}\r\n          />\r\n          <Tab\r\n            label={\r\n              <Badge\r\n                className={classes.badge}\r\n                badgeContent={pendingCount}\r\n                color=\"secondary\"\r\n              >\r\n                {i18n.t(\"ticketsList.pendingHeader\")}\r\n              </Badge>\r\n            }\r\n            value={\"pending\"}\r\n          />\r\n        </Tabs>\r\n        <Paper className={classes.ticketsWrapper}>\r\n          <TicketsList\r\n            status=\"open\"\r\n            showAll={showAllTickets}\r\n            selectedQueueIds={selectedQueueIds}\r\n            updateCount={(val) => setOpenCount(val)}\r\n            style={applyPanelStyle(\"open\")}\r\n          />\r\n          <TicketsList\r\n            status=\"pending\"\r\n            selectedQueueIds={selectedQueueIds}\r\n            updateCount={(val) => setPendingCount(val)}\r\n            style={applyPanelStyle(\"pending\")}\r\n          />\r\n        </Paper>\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          status=\"closed\"\r\n          showAll={true}\r\n          selectedQueueIds={selectedQueueIds}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\r\n        <TagsFilter onFiltered={handleSelectedTags} />\r\n        {profile === \"admin\" && (\r\n          <UsersFilter onFiltered={handleSelectedUsers} />\r\n        )}\r\n        <TicketsList\r\n          searchParam={searchParam}\r\n          showAll={true}\r\n          tags={selectedTags}\r\n          users={selectedUsers}\r\n          selectedQueueIds={selectedQueueIds}\r\n        />\r\n      </TabPanel>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default TicketsManagerTabs;\r\n","import React from \"react\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst ContactDrawerSkeleton = ({ classes }) => {\r\n\treturn (\r\n\t\t<div className={classes.content}>\r\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\twidth={60}\r\n\t\t\t\t\t\t\theight={60}\r\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper square className={classes.contactDetails}>\r\n\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawerSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\r\n    textCenter: {\r\n        backgroundColor: 'red'\r\n    }\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [contact, setContact] = useState(initialContact);\r\n\r\n    useEffect(() => {\r\n        setContact(initialContact);\r\n    }, [initialContact]);\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contact.id) {\r\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={contact}\r\n            enableReinitialize={true}\r\n            validationSchema={ContactSchema}\r\n            onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                    handleSaveContact(values);\r\n                    actions.setSubmitting(false);\r\n                }, 400);\r\n            }}\r\n        >\r\n            {({ values, errors, touched, isSubmitting }) => (\r\n                <Form>\r\n                    <Grid container spacing={1}>\r\n                        {/* <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" gutterBottom>\r\n                                {i18n.t(\"contactModal.form.mainInfo\")}\r\n                            </Typography>\r\n                        </Grid> */}\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.name\")}\r\n                                name=\"name\"\r\n                                autoFocus\r\n                                error={touched.name && Boolean(errors.name)}\r\n                                helperText={touched.name && errors.name}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                className={classes.textField}\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.number\")}\r\n                                name=\"number\"\r\n                                error={touched.number && Boolean(errors.number)}\r\n                                helperText={touched.number && errors.number}\r\n                                placeholder=\"5513912344321\"\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.email\")}\r\n                                name=\"email\"\r\n                                error={touched.email && Boolean(errors.email)}\r\n                                helperText={touched.email && errors.email}\r\n                                placeholder=\"Email address\"\r\n                                fullWidth\r\n                                margin=\"dense\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} spacing={1}>\r\n                            <Grid container spacing={1}>\r\n                                <Grid xs={6} item>\r\n                                    <Button\r\n                                        onClick={onCancel}\r\n                                        color=\"secondary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                    >\r\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid classes={classes.textCenter} xs={6} item>\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        color=\"primary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"contained\"\r\n                                        className={classes.btnWrapper}\r\n                                        fullWidth\r\n                                    >\r\n                                        {contact.id\r\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                                        {isSubmitting && (\r\n                                            <CircularProgress\r\n                                                size={24}\r\n                                                className={classes.buttonProgress}\r\n                                            />\r\n                                        )}\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nexport default function ContactNotesDialogListItem (props) {\r\n    const { note, deleteItem } = props;\r\n    const classes = useStyles();\r\n\r\n    const handleDelete = (item) => {\r\n        deleteItem(item);\r\n    }\r\n\r\n    return (\r\n        <ListItem alignItems=\"flex-start\">\r\n            <ListItemAvatar>\r\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={\r\n                    <>\r\n                        <Typography\r\n                            component=\"span\"\r\n                            variant=\"body2\"\r\n                            className={classes.inline}\r\n                            color=\"textPrimary\"\r\n                        >\r\n                            {note.note}\r\n                        </Typography>\r\n                    </>\r\n                }\r\n                secondary={\r\n                    <>\r\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\r\n                    </>\r\n                }\r\n            />\r\n            <ListItemSecondaryAction>\r\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\r\n                    <DeleteIcon />\r\n                </IconButton>\r\n            </ListItemSecondaryAction>\r\n        </ListItem>\r\n    )   \r\n}\r\n\r\nContactNotesDialogListItem.propTypes = {\r\n    note: PropTypes.object.isRequired,\r\n    deleteItem: PropTypes.func.isRequired\r\n}","import api from \"../../services/api\";\r\n\r\nconst useTicketNotes = () => {\r\n\r\n    const saveNote = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/ticket-notes',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteNote = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/ticket-notes/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const listNotes = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/ticket-notes/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        saveNote,\r\n        deleteNote,\r\n        listNotes\r\n    }\r\n}\r\n\r\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\r\nimport ConfirmationModal from '../ConfirmationModal';\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport ButtonWithSpinner from '../ButtonWithSpinner';\r\n\r\nimport useTicketNotes from '../../hooks/useTicketNotes';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '350px',\r\n        },\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: '350px',\r\n        maxHeight: '200px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        overflow: 'auto'\r\n    },\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nconst NoteSchema = Yup.object().shape({\r\n\tnote: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.required(\"Required\")\r\n});\r\nexport function ContactNotes ({ ticket }) {\r\n    const { id: ticketId, contactId } = ticket\r\n    const classes = useStyles()\r\n    const [newNote, setNewNote] = useState({ note: \"\" });\r\n    const [loading, setLoading] = useState(false)\r\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\r\n    const [selectedNote, setSelectedNote] = useState({})\r\n    const [notes, setNotes] = useState([])\r\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\r\n\r\n    useEffect(() => {\r\n        async function openAndFetchData () {\r\n            handleResetState()\r\n            await loadNotes()\r\n        }\r\n        openAndFetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const handleResetState = () => {\r\n        setNewNote({ note: \"\" })\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleChangeComment = (e) => {\r\n        setNewNote({ note: e.target.value })\r\n    }\r\n\r\n    const handleSave = async values => {\r\n        setLoading(true)\r\n        try {\r\n            await saveNote({\r\n                ...values,\r\n                ticketId,\r\n                contactId\r\n            })\r\n            await loadNotes()\r\n            setNewNote({ note: '' })\r\n            toast.success('Observação adicionada com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDialogDelete = (item) => {\r\n        setSelectedNote(item)\r\n        setShowOnDeleteDialog(true)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await deleteNote(selectedNote.id)\r\n            await loadNotes()\r\n            setSelectedNote({})\r\n            toast.success('Observação excluída com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const loadNotes = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const notes = await listNotes({ ticketId, contactId })\r\n            setNotes(notes)\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const renderNoteList = () => {\r\n        return notes.map((note) => {\r\n            return <ContactNotesDialogListItem\r\n                note={note}\r\n                key={note.id}\r\n                deleteItem={handleOpenDialogDelete}\r\n            />\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ConfirmationModal\r\n                title=\"Excluir Registro\"\r\n                open={showOnDeleteDialog}\r\n                onClose={setShowOnDeleteDialog}\r\n                onConfirm={handleDelete}\r\n            >\r\n                Deseja realmente excluir este registro?\r\n            </ConfirmationModal>\r\n            <Formik\r\n                initialValues={newNote}\r\n                enableReinitialize={true}\r\n                validationSchema={NoteSchema}\r\n                onSubmit={(values, actions) => {\r\n                    setTimeout(() => {\r\n                        handleSave(values);\r\n                        actions.setSubmitting(false);\r\n                    }, 400);\r\n                }}\r\n            >\r\n\r\n                {({ touched, errors, setErrors }) => (\r\n                    <Form>\r\n                        <Grid container spacing={2}>\r\n                            <Grid xs={12} item>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    name=\"note\"\r\n                                    rows={3}\r\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\r\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\r\n                                    multiline={true}\r\n                                    error={touched.note && Boolean(errors.note)}\r\n                                    helperText={touched.note && errors.note}\r\n                                    variant=\"outlined\"\r\n                                    onChange={handleChangeComment}\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            { notes.length > 0 && (\r\n                                <Grid xs={12} item>\r\n                                    <List className={classes.list}>\r\n                                        { renderNoteList() }\r\n                                    </List>\r\n                                </Grid>\r\n                            ) }\r\n                            <Grid xs={12} item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid xs={6} item>\r\n                                        <Button\r\n                                            onClick={() => {\r\n                                                setNewNote(\"\");\r\n                                                setErrors({});\r\n                                            }}\r\n                                            color=\"primary\"\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                        >\r\n                                            Cancelar\r\n                                        </Button>\r\n                                    </Grid>\r\n                                    <Grid xs={6} item>\r\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\r\n                                            Salvar\r\n                                        </ButtonWithSpinner>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { CardHeader } from \"@material-ui/core\";\r\nimport { ContactForm } from \"../ContactForm\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport { ContactNotes } from \"../ContactNotes\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t\tdisplay: \"flex\",\r\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderTopRightRadius: 4,\r\n\t\tborderBottomRightRadius: 4,\r\n\t},\r\n\theader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\tminHeight: \"73px\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\tcontent: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"8px 0px 8px 8px\",\r\n\t\theight: \"100%\",\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\r\n\tcontactAvatar: {\r\n\t\tmargin: 15,\r\n\t\twidth: 100,\r\n\t\theight: 100,\r\n\t},\r\n\r\n\tcontactHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tpadding: 8,\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: 4,\r\n\t\t},\r\n\t},\r\n\r\n\tcontactDetails: {\r\n\t\tmarginTop: 8,\r\n\t\tpadding: 8,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tcontactExtraInfo: {\r\n\t\tmarginTop: 4,\r\n\t\tpadding: 6,\r\n\t},\r\n}));\r\n\r\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst [openForm, setOpenForm] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpenForm(false);\r\n\t}, [open, contact]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName={classes.drawer}\r\n\t\t\t\tvariant=\"persistent\"\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tModalProps={{\r\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\r\n\t\t\t\t\tstyle: { position: \"absolute\" },\r\n\t\t\t\t}}\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.header}>\r\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\r\n\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\r\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={classes.content}>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\t\tonClick={() => {}}\r\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\r\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\r\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<ContactModal\r\n\t\t\t\t\t\t\t\topen={modalOpen}\r\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\r\n\t\t\t\t\t\t\t\tcontactId={contact.id}\r\n\t\t\t\t\t\t\t></ContactModal>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\r\n\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\tkey={info.id}\r\n\t\t\t\t\t\t\t\t\tsquare\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\r\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ttimerBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 10,\r\n\t\talignItems: \"center\",\r\n\t},\r\n}));\r\n\r\nconst RecordingTimer = () => {\r\n\tconst classes = useStyles();\r\n\tconst initialState = {\r\n\t\tminutes: 0,\r\n\t\tseconds: 0,\r\n\t};\r\n\tconst [timer, setTimer] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(\r\n\t\t\t() =>\r\n\t\t\t\tsetTimer(prevState => {\r\n\t\t\t\t\tif (prevState.seconds === 59) {\r\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\r\n\t\t\t\t}),\r\n\t\t\t1000\r\n\t\t);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst addZero = n => {\r\n\t\treturn n < 10 ? \"0\" + n : n;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.timerBox}>\r\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecordingTimer;\r\n","import api from \"../../services/api\";\r\n\r\nconst useQuickMessages = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/quick-messages',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/quick-messages/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteRecord = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/quick-messages/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/quick-messages/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        deleteRecord,\r\n        list\r\n    }\r\n}\r\n\r\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport MicRecorder from \"mic-recorder-to-mp3\";\r\nimport clsx from \"clsx\";\r\nimport { isNil } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoodIcon from \"@material-ui/icons/Mood\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport { isString, isEmpty, isObject, has } from \"lodash\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport axios from \"axios\";\r\n\r\nimport RecordingTimer from \"./RecordingTimer\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    backgroundColor: theme.palette.bordabox, //DARK MODE PLW DESIGN//\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n\r\n  newMessageBox: {\r\n    backgroundColor: theme.palette.newmessagebox, //DARK MODE PLW DESIGN//\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"7px\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  messageInputWrapper: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    backgroundColor: theme.palette.inputdigita, //DARK MODE PLW DESIGN//\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n  },\r\n\r\n  messageInput: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n  },\r\n\r\n  sendMessageIcons: {\r\n    color: \"grey\",\r\n  },\r\n\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  viewMediaInputWrapper: {\r\n    display: \"flex\",\r\n    padding: \"10px 13px\",\r\n    position: \"relative\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#eee\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n\r\n  emojiBox: {\r\n    position: \"absolute\",\r\n    bottom: 63,\r\n    width: 40,\r\n    borderTop: \"1px solid #e8e8e8\",\r\n  },\r\n\r\n  circleLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n    position: \"absolute\",\r\n    top: \"20%\",\r\n    left: \"50%\",\r\n    marginLeft: -12,\r\n  },\r\n\r\n  audioLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n  },\r\n\r\n  recorderWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    alignContent: \"middle\",\r\n  },\r\n\r\n  cancelAudioIcon: {\r\n    color: \"red\",\r\n  },\r\n\r\n  sendAudioIcon: {\r\n    color: \"green\",\r\n  },\r\n\r\n  replyginMsgWrapper: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: 8,\r\n    paddingLeft: 73,\r\n    paddingRight: 7,\r\n  },\r\n\r\n  replyginMsgContainer: {\r\n    flex: 1,\r\n    marginRight: 5,\r\n    overflowY: \"hidden\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  replyginMsgBody: {\r\n    padding: 10,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  replyginContactMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  replyginSelfMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n}));\r\n\r\nconst EmojiOptions = (props) => {\r\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <IconButton\r\n        aria-label=\"emojiPicker\"\r\n        component=\"span\"\r\n        disabled={disabled}\r\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n      >\r\n        <MoodIcon className={classes.sendMessageIcons} />\r\n      </IconButton>\r\n      {showEmoji ? (\r\n        <div className={classes.emojiBox}>\r\n          <Picker\r\n            perLine={16}\r\n            showPreview={false}\r\n            showSkinTones={false}\r\n            onSelect={handleAddEmoji}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst SignSwitch = (props) => {\r\n  const { width, setSignMessage, signMessage } = props;\r\n  if (isWidthUp(\"md\", width)) {\r\n    return (\r\n      <FormControlLabel\r\n        style={{ marginRight: 7, color: \"gray\" }}\r\n        label={i18n.t(\"messagesInput.signMessage\")}\r\n        labelPlacement=\"start\"\r\n        control={\r\n          <Switch\r\n            size=\"small\"\r\n            checked={signMessage}\r\n            onChange={(e) => {\r\n              setSignMessage(e.target.checked);\r\n            }}\r\n            name=\"showAllTickets\"\r\n            color=\"primary\"\r\n          />\r\n        }\r\n      />\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nconst FileInput = (props) => {\r\n  const { handleChangeMedias, disableOption } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <>\r\n      <input\r\n        multiple\r\n        type=\"file\"\r\n        id=\"upload-button\"\r\n        disabled={disableOption()}\r\n        className={classes.uploadInput}\r\n        onChange={handleChangeMedias}\r\n      />\r\n      <label htmlFor=\"upload-button\">\r\n        <IconButton\r\n          aria-label=\"upload\"\r\n          component=\"span\"\r\n          disabled={disableOption()}\r\n        >\r\n          <AttachFileIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </label>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ActionButtons = (props) => {\r\n  const {\r\n    inputMessage,\r\n    loading,\r\n    recording,\r\n    ticketStatus,\r\n    handleSendMessage,\r\n    handleCancelAudio,\r\n    handleUploadAudio,\r\n    handleStartRecording,\r\n  } = props;\r\n  const classes = useStyles();\r\n  if (inputMessage) {\r\n    return (\r\n      <IconButton\r\n        aria-label=\"sendMessage\"\r\n        component=\"span\"\r\n        onClick={handleSendMessage}\r\n        disabled={loading}\r\n      >\r\n        <SendIcon className={classes.sendMessageIcons} />\r\n      </IconButton>\r\n    );\r\n  } else if (recording) {\r\n    return (\r\n      <div className={classes.recorderWrapper}>\r\n        <IconButton\r\n          aria-label=\"cancelRecording\"\r\n          component=\"span\"\r\n          fontSize=\"large\"\r\n          disabled={loading}\r\n          onClick={handleCancelAudio}\r\n        >\r\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\r\n        </IconButton>\r\n        {loading ? (\r\n          <div>\r\n            <CircularProgress className={classes.audioLoading} />\r\n          </div>\r\n        ) : (\r\n          <RecordingTimer />\r\n        )}\r\n\r\n        <IconButton\r\n          aria-label=\"sendRecordedAudio\"\r\n          component=\"span\"\r\n          onClick={handleUploadAudio}\r\n          disabled={loading}\r\n        >\r\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <IconButton\r\n        aria-label=\"showRecorder\"\r\n        component=\"span\"\r\n        disabled={loading || ticketStatus !== \"open\"}\r\n        onClick={handleStartRecording}\r\n      >\r\n        <MicIcon className={classes.sendMessageIcons} />\r\n      </IconButton>\r\n    );\r\n  }\r\n};\r\n\r\nconst CustomInput = (props) => {\r\n  const {\r\n    loading,\r\n    inputRef,\r\n    ticketStatus,\r\n    inputMessage,\r\n    setInputMessage,\r\n    handleSendMessage,\r\n    handleInputPaste,\r\n    disableOption,\r\n    handleQuickAnswersClick,\r\n  } = props;\r\n  const classes = useStyles();\r\n  const [quickMessages, setQuickMessages] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const [popupOpen, setPopupOpen] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const { list: listQuickMessages } = useQuickMessages();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = localStorage.getItem(\"companyId\");\r\n      const messages = await listQuickMessages({ companyId, userId: user.id });\r\n      const options = messages.map((m) => {\r\n        let truncatedMessage = m.message;\r\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\r\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\r\n        }\r\n        return {\r\n          value: m.message,\r\n          label: `/${m.shortcode} - ${truncatedMessage}`,\r\n          mediaPath: m.mediaPath,\r\n        };\r\n      });\r\n      setQuickMessages(options);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isString(inputMessage) &&\r\n      !isEmpty(inputMessage) &&\r\n      inputMessage.length > 1\r\n    ) {\r\n      const firstWord = inputMessage.charAt(0);\r\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\r\n\r\n      const filteredOptions = quickMessages.filter(\r\n        (m) => m.label.indexOf(inputMessage) > -1\r\n      );\r\n      setOptions(filteredOptions);\r\n    } else {\r\n      setPopupOpen(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [inputMessage]);\r\n\r\n  const onKeyPress = (e) => {\r\n    if (loading || e.shiftKey) return;\r\n    else if (e.key === \"Enter\") {\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const onPaste = (e) => {\r\n    if (ticketStatus === \"open\") {\r\n      handleInputPaste(e);\r\n    }\r\n  };\r\n\r\n  const renderPlaceholder = () => {\r\n    if (ticketStatus === \"open\") {\r\n      return i18n.t(\"messagesInput.placeholderOpen\");\r\n    }\r\n    return i18n.t(\"messagesInput.placeholderClosed\");\r\n  };\r\n\r\n\r\n  const setInputRef = (input) => {\r\n    if (input) {\r\n      input.focus();\r\n      inputRef.current = input;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.messageInputWrapper}>\r\n      <Autocomplete\r\n        freeSolo\r\n        open={popupOpen}\r\n        id=\"grouped-demo\"\r\n        value={inputMessage}\r\n        options={options}\r\n        closeIcon={null}\r\n        getOptionLabel={(option) => {\r\n          if (isObject(option)) {\r\n            return option.label;\r\n          } else {\r\n            return option;\r\n          }\r\n        }}\r\n        onChange={(event, opt) => {\r\n         \r\n          if (isObject(opt) && has(opt, \"value\") && isNil(opt.mediaPath)) {\r\n            setInputMessage(opt.value);\r\n            setTimeout(() => {\r\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\r\n            }, 200);\r\n          } else if (isObject(opt) && has(opt, \"value\") && !isNil(opt.mediaPath)) {\r\n            handleQuickAnswersClick(opt);\r\n\r\n            setTimeout(() => {\r\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\r\n            }, 200);\r\n          }\r\n        }}\r\n        onInputChange={(event, opt, reason) => {\r\n          if (reason === \"input\") {\r\n            setInputMessage(event.target.value);\r\n          }\r\n        }}\r\n        onPaste={onPaste}\r\n        onKeyPress={onKeyPress}\r\n        style={{ width: \"100%\" }}\r\n        renderInput={(params) => {\r\n          const { InputLabelProps, InputProps, ...rest } = params;\r\n          return (\r\n            <InputBase\r\n              {...params.InputProps}\r\n              {...rest}\r\n              disabled={disableOption()}\r\n              inputRef={setInputRef}\r\n              placeholder={renderPlaceholder()}\r\n              multiline\r\n              className={classes.messageInput}\r\n              maxRows={5}\r\n            />\r\n          );\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst MessageInputCustom = (props) => {\r\n  const { ticketStatus, ticketId } = props;\r\n  const classes = useStyles();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const inputRef = useRef();\r\n  const { setReplyingMessage, replyingMessage } =\r\n    useContext(ReplyMessageContext);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n  }, [replyingMessage]);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    return () => {\r\n      setInputMessage(\"\");\r\n      setShowEmoji(false);\r\n      setMedias([]);\r\n      setReplyingMessage(null);\r\n    };\r\n  }, [ticketId, setReplyingMessage]);\r\n\r\n  // const handleChangeInput = e => {\r\n  // \tif (isObject(e) && has(e, 'value')) {\r\n  // \t\tsetInputMessage(e.value);\r\n  // \t} else {\r\n  // \t\tsetInputMessage(e.target.value)\r\n  // \t}\r\n  // };\r\n\r\n  const handleAddEmoji = (e) => {\r\n    let emoji = e.native;\r\n    setInputMessage((prevState) => prevState + emoji);\r\n  };\r\n\r\n  const handleChangeMedias = (e) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  const handleInputPaste = (e) => {\r\n    if (e.clipboardData.files[0]) {\r\n      setMedias([e.clipboardData.files[0]]);\r\n    }\r\n  };\r\n\r\n  const handleUploadQuickMessageMedia = async (blob, message) => {\r\n    setLoading(true);\r\n    try {\r\n      const extension = blob.type.split(\"/\")[1];\r\n\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.${extension}`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\",  message);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n    setLoading(false);\r\n  };\r\n  \r\n  const handleQuickAnswersClick = async (value) => {\r\n    if (value.mediaPath) {\r\n      try {\r\n        const { data } = await axios.get(value.mediaPath, {\r\n          responseType: \"blob\",\r\n        });\r\n\r\n        handleUploadQuickMessageMedia(data, value.value);\r\n        setInputMessage(\"\");\r\n        return;\r\n        //  handleChangeMedias(response)\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setInputMessage(value.value);\r\n  };\r\n\r\n  const handleUploadMedia = async (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"fromMe\", true);\r\n    medias.forEach((media) => {\r\n      formData.append(\"medias\", media);\r\n      formData.append(\"body\", media.name);\r\n    });\r\n\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setLoading(false);\r\n    setMedias([]);\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (inputMessage.trim() === \"\") return;\r\n    setLoading(true);\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: signMessage\r\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\r\n        : inputMessage.trim(),\r\n      quotedMsg: replyingMessage,\r\n    };\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, message);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n  };\r\n\r\n  const handleStartRecording = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      await Mp3Recorder.start();\r\n      setRecording(true);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadAudio = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [, blob] = await Mp3Recorder.stop().getMp3();\r\n      if (blob.size < 10000) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", filename);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setRecording(false);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleCancelAudio = async () => {\r\n    try {\r\n      await Mp3Recorder.stop().getMp3();\r\n      setRecording(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const disableOption = () => {\r\n    return loading || recording || ticketStatus !== \"open\";\r\n  };\r\n\r\n  const renderReplyingMessage = (message) => {\r\n    return (\r\n      <div className={classes.replyginMsgWrapper}>\r\n        <div className={classes.replyginMsgContainer}>\r\n          <span\r\n            className={clsx(classes.replyginContactMsgSideColor, {\r\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\r\n            })}\r\n          ></span>\r\n          <div className={classes.replyginMsgBody}>\r\n            {!message.fromMe && (\r\n              <span className={classes.messageContactName}>\r\n                {message.contact?.name}\r\n              </span>\r\n            )}\r\n            {message.body}\r\n          </div>\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"showRecorder\"\r\n          component=\"span\"\r\n          disabled={loading || ticketStatus !== \"open\"}\r\n          onClick={() => setReplyingMessage(null)}\r\n        >\r\n          <ClearIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (medias.length > 0)\r\n    return (\r\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\r\n        <IconButton\r\n          aria-label=\"cancel-upload\"\r\n          component=\"span\"\r\n          onClick={(e) => setMedias([])}\r\n        >\r\n          <CancelIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n\r\n        {loading ? (\r\n          <div>\r\n            <CircularProgress className={classes.circleLoading} />\r\n          </div>\r\n        ) : (\r\n          <span>\r\n            {medias[0]?.name}\r\n            {/* <img src={media.preview} alt=\"\"></img> */}\r\n          </span>\r\n        )}\r\n        <IconButton\r\n          aria-label=\"send-upload\"\r\n          component=\"span\"\r\n          onClick={handleUploadMedia}\r\n          disabled={loading}\r\n        >\r\n          <SendIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </Paper>\r\n    );\r\n  else {\r\n    return (\r\n      <Paper square elevation={0} className={classes.mainWrapper}>\r\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\r\n        <div className={classes.newMessageBox}>\r\n          <EmojiOptions\r\n            disabled={disableOption()}\r\n            handleAddEmoji={handleAddEmoji}\r\n            showEmoji={showEmoji}\r\n            setShowEmoji={setShowEmoji}\r\n          />\r\n\r\n          <FileInput\r\n            disableOption={disableOption}\r\n            handleChangeMedias={handleChangeMedias}\r\n          />\r\n\r\n          <SignSwitch\r\n            width={props.width}\r\n            setSignMessage={setSignMessage}\r\n            signMessage={signMessage}\r\n          />\r\n\r\n          <CustomInput\r\n            loading={loading}\r\n            inputRef={inputRef}\r\n            ticketStatus={ticketStatus}\r\n            inputMessage={inputMessage}\r\n            setInputMessage={setInputMessage}\r\n            // handleChangeInput={handleChangeInput}\r\n            handleSendMessage={handleSendMessage}\r\n            handleInputPaste={handleInputPaste}\r\n            disableOption={disableOption}\r\n            handleQuickAnswersClick={handleQuickAnswersClick}\r\n          />\r\n\r\n          <ActionButtons\r\n            inputMessage={inputMessage}\r\n            loading={loading}\r\n            recording={recording}\r\n            ticketStatus={ticketStatus}\r\n            handleSendMessage={handleSendMessage}\r\n            handleCancelAudio={handleCancelAudio}\r\n            handleUploadAudio={handleUploadAudio}\r\n            handleStartRecording={handleStartRecording}\r\n          />\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withWidth()(MessageInputCustom);\r\n","import { useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nexport function useLocalStorage(key, initialValue) {\r\n\tconst [storedValue, setStoredValue] = useState(() => {\r\n\t\ttry {\r\n\t\t\tconst item = localStorage.getItem(key);\r\n\t\t\treturn item ? JSON.parse(item) : initialValue;\r\n\t\t} catch (error) {\r\n\t\t\ttoastError(error);\r\n\t\t\treturn initialValue;\r\n\t\t}\r\n\t});\r\n\r\n\tconst setValue = value => {\r\n\t\ttry {\r\n\t\t\tconst valueToStore =\r\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\r\n\r\n\t\t\tsetStoredValue(valueToStore);\r\n\r\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\r\n\t\t} catch (error) {\r\n\t\t\ttoastError(error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn [storedValue, setValue];\r\n}\r\n","import api from \"../../services/api\";\r\n\r\nconst useQueues = () => {\r\n\tconst findAll = async () => {\r\n        const { data } = await api.get(\"/queue\");\r\n        return data;\r\n    }\r\n\r\n\treturn { findAll };\r\n};\r\n\r\nexport default useQueues;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Grid, ListItemText, Typography, makeStyles } from \"@material-ui/core\";\r\n\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  maxWidth: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst filterOptions = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\r\n  const history = useHistory();\r\n  const [options, setOptions] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const classes = useStyles();\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const isMounted = useRef(true);\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => setWhatsapps(data));\r\n      };\r\n\r\n      if (whatsappId !== null && whatsappId !== undefined) {\r\n        setSelectedWhatsapp(whatsappId)\r\n      }\r\n\r\n      if (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n      fetchContacts();\r\n      setLoading(false);\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setSelectedUser(null);\r\n  };\r\n\r\n  const handleSaveTicket = async (e) => {\r\n    e.preventDefault();\r\n    if (!ticketid) return;\r\n    if (!selectedQueue || selectedQueue === \"\") return;\r\n    setLoading(true);\r\n    try {\r\n      let data = {};\r\n\r\n      if (selectedUser) {\r\n        data.userId = selectedUser.id;\r\n      }\r\n\r\n      if (selectedQueue && selectedQueue !== null) {\r\n        data.queueId = selectedQueue;\r\n\r\n        if (!selectedUser) {\r\n          data.status = \"pending\";\r\n          data.userId = null;\r\n        }\r\n      }\r\n\r\n      if (selectedWhatsapp) {\r\n        data.whatsappId = selectedWhatsapp\r\n      }\r\n      await api.put(`/tickets/${ticketid}`, data);\r\n\r\n      history.push(`/tickets`);\r\n    } catch (err) {\r\n      setLoading(false);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n      <form onSubmit={handleSaveTicket}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"transferTicketModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Autocomplete\r\n            style={{ width: 300, marginBottom: 20 }}\r\n            getOptionLabel={(option) => `${option.name}`}\r\n            onChange={(e, newValue) => {\r\n              setSelectedUser(newValue);\r\n              if (newValue != null && Array.isArray(newValue.queues)) {\r\n                setQueues(newValue.queues);\r\n              } else {\r\n                setQueues(allQueues);\r\n                setSelectedQueue(\"\");\r\n              }\r\n            }}\r\n            options={options}\r\n            filterOptions={filterOptions}\r\n            freeSolo\r\n            autoHighlight\r\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n            loading={loading}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={(e) => setSearchParam(e.target.value)}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\r\n            <InputLabel>\r\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n            </InputLabel>\r\n            <Select\r\n              value={selectedQueue}\r\n              onChange={(e) => setSelectedQueue(e.target.value)}\r\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n            >\r\n              {queues.map((queue) => (\r\n                <MenuItem key={queue.id} value={queue.id}>\r\n                  {queue.name}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n          {/* CONEXAO */}\r\n          <Grid container spacing={2} style={{marginTop: '15px'}}>\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedWhatsapp}\r\n                onChange={(e) => {\r\n                  setSelectedWhatsapp(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedWhatsapp === \"\") {\r\n                    return \"Selecione uma Conexão\"\r\n                  }\r\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\r\n                  return whatsapp.name\r\n                }}\r\n              >\r\n                {whatsapps?.length > 0 &&\r\n                  whatsapps.map((whatsapp, key) => (\r\n                    <MenuItem dense key={key} value={whatsapp.id}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <>\r\n                            {/* {IconChannel(whatsapp.channel)} */}\r\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\r\n                            </Typography>\r\n                          </>\r\n                        }\r\n                      />\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default TransferTicketModalCustom;\r\n","import React from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\r\n\r\nconst OutlinedDiv = ({\r\n  InputProps,\r\n  children,\r\n  InputLabelProps,\r\n  label,\r\n  ...other\r\n}) => {\r\n  return (\r\n    <TextField\r\n      {...other}\r\n      variant=\"outlined\"\r\n      label={label}\r\n      multiline\r\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\r\n      InputProps={{\r\n        inputComponent: InputComponent,\r\n        ...InputProps\r\n      }}\r\n      inputProps={{ children: children }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default OutlinedDiv;","import React from \"react\";\r\nimport { Chip, makeStyles } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport OutlinedDiv from \"../OutlinedDiv\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleClick = (e, value) => {\r\n        e.preventDefault();\r\n        if (disabled) return;\r\n        onClick(value);\r\n    };\r\n\r\n    const msgVars = [\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\r\n            value: \"{{firstName}}\"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\r\n            value: \"{{name}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\r\n            value: \"{{ms}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\r\n            value: \"{{protocol}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\r\n            value: \"{{hora}} \"\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <OutlinedDiv\r\n            margin=\"dense\"\r\n            fullWidth\r\n            label={i18n.t(\"messageVariablesPicker.label\")}\r\n            disabled={disabled}\r\n        >\r\n            {msgVars.map(msgVar => (\r\n                <Chip\r\n                    key={msgVar.value}\r\n                    onMouseDown={e => handleClick(e, msgVar.value)}\r\n                    label={msgVar.name}\r\n                    size=\"small\"\r\n                    className={classes.chip}\r\n                    color=\"primary\"\r\n                />\r\n            ))}\r\n        </OutlinedDiv>\r\n    );\r\n};\r\n\r\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { FormControl, Grid, IconButton } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport moment from \"moment\"\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isArray, capitalize } from \"lodash\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFile from \"@material-ui/icons/AttachFile\";\r\nimport { head } from \"lodash\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n}));\r\n\r\nconst ScheduleSchema = Yup.object().shape({\r\n\tbody: Yup.string()\r\n\t\t.min(5, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\"),\r\n\tcontactId: Yup.number().required(\"Obrigatório\"),\r\n\tsendAt: Yup.string().required(\"Obrigatório\")\r\n});\r\n\r\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tconst initialState = {\r\n\t\tbody: \"\",\r\n\t\tcontactId: \"\",\r\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\r\n\t\tsentAt: \"\"\r\n\t};\r\n\r\n\tconst initialContact = {\r\n\t\tid: \"\",\r\n\t\tname: \"\"\r\n\t}\r\n\r\n\tconst [schedule, setSchedule] = useState(initialState);\r\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\r\n\tconst [contacts, setContacts] = useState([initialContact]);\r\n\tconst [attachment, setAttachment] = useState(null);\r\n\tconst attachmentFile = useRef(null);\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\tconst messageInputRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (contactId && contacts.length) {\r\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\r\n\t\t\tif (contact) {\r\n\t\t\t\tsetCurrentContact(contact);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [contactId, contacts]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { companyId } = user;\r\n\t\tif (open) {\r\n\t\t\ttry {\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\r\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name }));\r\n\t\t\t\t\tif (isArray(customList)) {\r\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\" }, ...customList]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (contactId) {\r\n\t\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!scheduleId) return;\r\n\r\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\r\n\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetCurrentContact(data.contact);\r\n\t\t\t\t})()\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [scheduleId, contactId, open, user]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetAttachment(null);\r\n\t\tsetSchedule(initialState);\r\n\t};\r\n\r\n\tconst handleAttachmentFile = (e) => {\r\n\t\tconst file = head(e.target.files);\r\n\t\tif (file) {\r\n\t\t\tsetAttachment(file);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSaveSchedule = async values => {\r\n\t\tconst scheduleData = { ...values, userId: user.id };\r\n\t\ttry {\r\n\t\t\tif (scheduleId) {\r\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(\r\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\r\n\t\t\t\t\t\tformData\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\r\n\t\t\tif (typeof reload == 'function') {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t\tif (contactId) {\r\n\t\t\t\tif (typeof cleanContact === 'function') {\r\n\t\t\t\t\tcleanContact();\r\n\t\t\t\t\thistory.push('/schedules');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetCurrentContact(initialContact);\r\n\t\tsetSchedule(initialState);\r\n\t\thandleClose();\r\n\t};\r\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n\t\tconst el = messageInputRef.current;\r\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\r\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\r\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n\t\tawait new Promise(r => setTimeout(r, 100));\r\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n\t};\r\n\r\n\tconst deleteMedia = async () => {\r\n\t\tif (attachment) {\r\n\t\t\tsetAttachment(null);\r\n\t\t\tattachmentFile.current.value = null;\r\n\t\t}\r\n\r\n\t\tif (schedule.mediaPath) {\r\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\r\n\t\t\tsetSchedule((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tmediaPath: null,\r\n\t\t\t}));\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\r\n\t\t\tif (typeof reload == \"function\") {\r\n\t\t\t\tconsole.log(reload);\r\n\t\t\t\tconsole.log(\"1\");\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\r\n\t\t\t\tonConfirm={deleteMedia}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"xs\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<div style={{ display: \"none\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\r\n\t\t\t\t\t\tref={attachmentFile}\r\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={schedule}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveSchedule(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\trows={9}\r\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\r\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\r\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\r\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\r\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{scheduleId\r\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Can } from \"../Can\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport ScheduleModal from \"../ScheduleModal\";\r\n\r\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\r\n\tconst isMounted = useRef(true);\r\n\tconst { user } = useContext(AuthContext);\r\n\r\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n\tconst [contactId, setContactId] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleDeleteTicket = async () => {\r\n\t\ttry {\r\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpenConfirmationModal = e => {\r\n\t\tsetConfirmationOpen(true);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tconst handleOpenTransferModal = e => {\r\n\t\tsetTransferTicketModalOpen(true);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tconst handleCloseTransferTicketModal = () => {\r\n\t\tif (isMounted.current) {\r\n\t\t\tsetTransferTicketModalOpen(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpenScheduleModal = () => {\r\n\t\thandleClose();\r\n\t\tsetContactId(ticket.contact.id);\r\n\t\tsetScheduleModalOpen(true);\r\n\t}\r\n\r\n\tconst handleCloseScheduleModal = () => {\r\n\t\tsetScheduleModalOpen(false);\r\n\t\tsetContactId(null);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Menu\r\n\t\t\t\tid=\"menu-appbar\"\r\n\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\tgetContentAnchorEl={null}\r\n\t\t\t\tanchorOrigin={{\r\n\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\tkeepMounted\r\n\t\t\t\ttransformOrigin={{\r\n\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\thorizontal: \"right\",\r\n\t\t\t\t}}\r\n\t\t\t\topen={menuOpen}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\r\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\r\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<Can\r\n\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\r\n\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\r\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Menu>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\r\n\t\t\t\t\tticket.id\r\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\r\n\t\t\t\t\tticket.contact.name\r\n\t\t\t\t}?`}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={setConfirmationOpen}\r\n\t\t\t\tonConfirm={handleDeleteTicket}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<TransferTicketModalCustom\r\n\t\t\t\tmodalOpen={transferTicketModalOpen}\r\n\t\t\t\tonClose={handleCloseTransferTicketModal}\r\n\t\t\t\tticketid={ticket.id}\r\n\t\t\t/>\r\n\t\t\t<ScheduleModal\r\n\t\t\t\topen={scheduleModalOpen}\r\n\t\t\t\tonClose={handleCloseScheduleModal}\r\n\t\t\t\taria-labelledby=\"form-dialog-title\"\r\n\t\t\t\tcontactId={contactId}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { IconButton } from \"@material-ui/core\";\r\nimport { MoreVert, Replay } from \"@material-ui/icons\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport { green } from '@material-ui/core/colors';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tactionButtons: {\r\n\t\tmarginRight: 6,\r\n\t\tflex: \"none\",\r\n\t\talignSelf: \"center\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(0.5),\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst TicketActionButtonsCustom = ({ ticket }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst [anchorEl, setAnchorEl] = useState(null);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst { setCurrentTicket } = useContext(TicketsContext);\r\n\r\n\tconst customTheme = createTheme({\r\n\t\tpalette: {\r\n\t\t  \tprimary: green,\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleOpenTicketOptionsMenu = e => {\r\n\t\tsetAnchorEl(e.currentTarget);\r\n\t};\r\n\r\n\tconst handleCloseTicketOptionsMenu = e => {\r\n\t\tsetAnchorEl(null);\r\n\t};\r\n\r\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\r\n\t\tsetLoading(true);\r\n\t\ttry {\r\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\r\n\t\t\t\tstatus: status,\r\n\t\t\t\tuserId: userId || null,\r\n\t\t\t\tuseIntegration: status === \"closed\" ? false : ticket.useIntegration,\r\n\t\t\t\tpromptId: status === \"closed\" ? false : ticket.promptId,\r\n\t\t\t\tintegrationId: status === \"closed\" ? false : ticket.integrationId\r\n\t\t\t});\r\n\r\n\t\t\tsetLoading(false);\r\n\t\t\tif (status === \"open\") {\r\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\r\n\t\t\t} else {\r\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\r\n\t\t\t\thistory.push(\"/tickets\");\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tsetLoading(false);\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.actionButtons}>\r\n\t\t\t{ticket.status === \"closed\" && (\r\n\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t\tstartIcon={<Replay />}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\r\n\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t)}\r\n\t\t\t{ticket.status === \"open\" && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\r\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\r\n\t\t\t\t\t\t\t<UndoRoundedIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\r\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\r\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\r\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t</ThemeProvider>\r\n\t\t\t\t\t{/* <ButtonWithSpinner\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tstartIcon={<Replay />}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\r\n\t\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\r\n\t\t\t\t\t</ButtonWithSpinner> */}\r\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\r\n\t\t\t\t\t\t<MoreVert />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<TicketOptionsMenu\r\n\t\t\t\t\t\tticket={ticket}\r\n\t\t\t\t\t\tanchorEl={anchorEl}\r\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\r\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t\t{ticket.status === \"pending\" && (\r\n\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\r\n\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TicketActionButtonsCustom;\r\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { isArray, isString } from \"lodash\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsContainer({ ticket }) {\r\n\r\n    const [tags, setTags] = useState([]);\r\n    const [selecteds, setSelecteds] = useState([]);\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            loadTags().then(() => {\r\n                if (Array.isArray(ticket.tags)) {\r\n                    setSelecteds(ticket.tags);\r\n                } else {\r\n                    setSelecteds([]);\r\n                }\r\n            });\r\n        }\r\n    }, [ticket]);\r\n\r\n    const createTag = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const loadTags = async () => {\r\n        try {\r\n            const { data } = await api.get(`/tags/list`);\r\n            setTags(data);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const syncTags = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags/sync`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const onChange = async (value, reason) => {\r\n        let optionsChanged = []\r\n        if (reason === 'create-option') {\r\n            if (isArray(value)) {\r\n                for (let item of value) {\r\n                    if (isString(item)) {\r\n                        const newTag = await createTag({ name: item })\r\n                        optionsChanged.push(newTag);\r\n                    } else {\r\n                        optionsChanged.push(item);\r\n                    }\r\n                }\r\n            }\r\n            await loadTags();\r\n        } else {\r\n            optionsChanged = value;\r\n        }\r\n        setSelecteds(optionsChanged);\r\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\r\n    }\r\n\r\n    return (\r\n        <Paper style={{ padding: 12 }}>\r\n            <Autocomplete\r\n                multiple\r\n                size=\"small\"\r\n                options={tags}\r\n                value={selecteds}\r\n                freeSolo\r\n                onChange={(e, v, r) => onChange(v, r)}\r\n                getOptionLabel={(option) => option.name}\r\n                renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                        <Chip\r\n                            variant=\"outlined\"\r\n                            style={{\r\n                                background: option.color || '#eee',\r\n                                color: \"#FFF\",\r\n                                marginRight: 1,\r\n                                fontWeight: 600,\r\n                                borderRadius: 3,\r\n                                fontSize: \"0.8em\",\r\n                                whiteSpace: \"nowrap\"\r\n                            }}\r\n                            label={option.name.toUpperCase()}\r\n                            {...getTagProps({ index })}\r\n                            size=\"small\"\r\n                        />\r\n                    ))\r\n                }\r\n                renderInput={(params) => (\r\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\r\n                )}\r\n                PaperComponent={({ children }) => (\r\n                    <Paper style={{ width: 400, marginLeft: 12 }}>\r\n                        {children}\r\n                    </Paper>\r\n                )}\r\n            />\r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Paper, makeStyles } from \"@material-ui/core\";\r\n\r\nimport ContactDrawer from \"../ContactDrawer\";\r\nimport MessageInput from \"../MessageInputCustom/\";\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport api from \"../../services/api\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TagsContainer } from \"../TagsContainer\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nconst Ticket = () => {\r\n  const { ticketId } = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTicket = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\r\n          const { queueId } = data;\r\n          const { queues, profile } = user;\r\n\r\n          const queueAllowed = queues.find((q) => q.id === queueId);\r\n          if (queueAllowed === undefined && profile !== \"admin\") {\r\n            toast.error(\"Acesso não permitido\");\r\n            history.push(\"/tickets\");\r\n            return;\r\n          }\r\n\r\n          setContact(data.contact);\r\n          setTicket(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTicket();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId, user, history]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\r\n\r\n    socket.on(`company-${companyId}-ticket`, (data) => {\r\n      if (data.action === \"update\") {\r\n        setTicket(data.ticket);\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        toast.success(\"Ticket resolvido com sucesso!\");\r\n        history.push(\"/tickets\");\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-contact`, (data) => {\r\n      if (data.action === \"update\") {\r\n        setContact((prevState) => {\r\n          if (prevState.id === data.contact?.id) {\r\n            return { ...prevState, ...data.contact };\r\n          }\r\n          return prevState;\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [ticketId, ticket, history]);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setDrawerOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n\r\n  const renderTicketInfo = () => {\r\n    if (ticket.user !== undefined) {\r\n      return (\r\n        <TicketInfo\r\n          contact={contact}\r\n          ticket={ticket}\r\n          onClick={handleDrawerOpen}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessagesList = () => {\r\n    return (\r\n      <>\r\n        <MessagesList\r\n          ticket={ticket}\r\n          ticketId={ticket.id}\r\n          isGroup={ticket.isGroup}\r\n        ></MessagesList>\r\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} id=\"drawer-container\">\r\n      <Paper\r\n        variant=\"outlined\"\r\n        elevation={0}\r\n        className={clsx(classes.mainWrapper, {\r\n          [classes.mainWrapperShift]: drawerOpen,\r\n        })}\r\n      >\r\n        <TicketHeader loading={loading}>\r\n          {renderTicketInfo()}\r\n          <TicketActionButtons ticket={ticket} />\r\n        </TicketHeader>\r\n        <Paper>\r\n          <TagsContainer ticket={ticket} />\r\n        </Paper>\r\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\r\n      </Paper>\r\n      <ContactDrawer\r\n        open={drawerOpen}\r\n        handleDrawerClose={handleDrawerClose}\r\n        contact={contact}\r\n        loading={loading}\r\n        ticket={ticket}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\r\nimport Ticket from \"../../components/Ticket/\";\r\nimport logo from \"../../assets/logo2.png\"; //PLW DESIGN LOGO//\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchatContainer: {\r\n\t\tflex: 1,\r\n\t\t// backgroundColor: \"#eee\",\r\n\t\tpadding: theme.spacing(1), //Aqui ele ajusta espaço na tela de ticket\r\n\t\theight: `calc(100% - 48px)`,\r\n\t\toverflowY: \"hidden\",\r\n\t},\r\n\r\n\tchatPapper: {\r\n\t\t// backgroundColor: \"red\",\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t},\r\n\r\n\tcontactsWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t\toverflowY: \"hidden\",\r\n\t},\r\n\tmessagesWrapper: {\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\twelcomeMsg: {\r\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-evenly\",\r\n\t\talignItems: \"center\",\r\n\t\theight: \"100%\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n}));\r\n\r\nconst TicketsCustom = () => {\r\n\tconst classes = useStyles();\r\n\tconst { ticketId } = useParams();\r\n\r\n\treturn (\r\n\t\t<div className={classes.chatContainer}>\r\n\t\t\t<div className={classes.chatPapper}>\r\n\t\t\t\t<Grid container spacing={0}>\r\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\r\n\t\t\t\t\t\t<TicketsManager />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\r\n\t\t\t\t\t\t{ticketId ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Ticket />\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\r\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\r\n\t\t\t\t\t\t\t{/*<span>{i18n.t(\"chat.noTicketMessage\")}</span>*/}\r\n\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TicketsCustom;\r\n","import { styled } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst TicketAdvancedLayout = styled(Paper)({\r\n    height: `calc(100% - 48px)`,\r\n    display: \"grid\",\r\n    gridTemplateRows: \"56px 1fr\"\r\n})\r\n\r\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\r\nimport Ticket from \"../../components/Ticket/\";\r\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\r\nimport logo from \"../../assets/logo2.png\"; //PLW DESIGN LOGO//\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n    },\r\n    content: {\r\n        overflow: \"auto\"\r\n    },\r\n    placeholderContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100%\",\r\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\r\n    },\r\n    placeholderItem: {\r\n    }\r\n}));\r\n\r\nconst TicketAdvanced = (props) => {\r\n\tconst classes = useStyles();\r\n\tconst { ticketId } = useParams();\r\n\tconst [option, setOption] = useState(0);\r\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\r\n\r\n    useEffect(() => {\r\n        if(currentTicket.id !== null) {\r\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\r\n        }\r\n        if (!ticketId) {\r\n            setOption(1)\r\n        }\r\n        return () => {\r\n            setCurrentTicket({ id: null, code: null })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            setOption(0)\r\n        }\r\n    }, [currentTicket])\r\n\r\n\tconst renderPlaceholder = () => {\r\n\t\treturn <Box className={classes.placeholderContainer}>\r\n             {/*<div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div>*/}\r\n\t\t\t\r\n\t\t\t<div>\r\n\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<br />\r\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\r\n                Selecionar Ticket\r\n            </Button>\r\n        </Box>\r\n\t}\r\n\r\n\tconst renderMessageContext = () => {\r\n\t\tif (ticketId) {\r\n\t\t\treturn <Ticket />\r\n\t\t}\r\n\t\treturn renderPlaceholder()\r\n\t}\r\n\r\n\tconst renderTicketsManagerTabs = () => {\r\n\t\treturn <TicketsManagerTabs />\r\n\t}\r\n\r\n\treturn (\r\n        <TicketAdvancedLayout>\r\n            <Box className={classes.header}>\r\n                <BottomNavigation\r\n                    value={option}\r\n                    onChange={(event, newValue) => {\r\n                        setOption(newValue);\r\n                    }}\r\n                    showLabels\r\n                    className={classes.root}\r\n                >\r\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\r\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\r\n                </BottomNavigation>\r\n            </Box>\r\n            <Box className={classes.content}>\r\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\r\n            </Box>\r\n        </TicketAdvancedLayout>\r\n\t);\r\n};\r\n\r\nexport default TicketAdvanced;\r\n","import React from \"react\";\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n\r\nimport Tickets from \"../TicketsCustom\"\r\nimport TicketAdvanced from \"../TicketsAdvanced\";\r\n\r\nfunction TicketResponsiveContainer (props) {\r\n    if (isWidthUp('md', props.width)) {\r\n        return <Tickets />;    \r\n    }\r\n    return <TicketAdvanced />\r\n}\r\n\r\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\r\nimport qs from \"query-string\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { FormControl, InputLabel, MenuItem, Select } from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport logo from \"../../assets/logo2.png\";\r\nimport backgroundStep from \"../../assets/backgroundStep.png\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport \"./style.css\";\r\nimport { openApi } from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport moment from \"moment\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    \"&.MuiButton-root\": {\r\n      margin: \"20px 0px 16px\",\r\n      backgroundColor: \"#A200FF\",\r\n      borderRadius: \" 30px\",\r\n    },\r\n\r\n    \"&:hover\": {\r\n      backgroundColor: \"#A200FF\",\r\n      boxShadow: \"none\",\r\n    },\r\n\r\n    backgroundColor: \"#A200FF\",\r\n    margin: theme.spacing(3, 0, 2),\r\n    WebkitTextFillColor: \"#FFF\",\r\n  },\r\n  whatsappButton: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst handleNewUserMessage = (newMessage) => {\r\n  window.open(\r\n    `https://api.whatsapp.com/send?phone=5584998400790&text=${encodeURIComponent(\r\n      newMessage\r\n    )}`,\r\n    \"_blank\"\r\n  );\r\n};\r\n\r\nconst validCodes = [\"PROMOWN\", \"OTHER_CODE\", \"ANOTHER_CODE\", \"YET_ANOTHER_CODE\"];\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst SignUp = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  let companyId = null;\r\n\r\n  const params = qs.parse(window.location.search);\r\n  if (params.companyId !== undefined) {\r\n    companyId = params.companyId;\r\n  }\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    password: \"\",\r\n    planId: \"\",\r\n  };\r\n\r\n  const [user, setUser] = useState(initialState);\r\n  const [isCodeEnabled, setIsCodeEnabled] = useState(false);\r\n  const [validationCode, setValidationCode] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const dueDate = moment().add(7, \"day\").format();\r\n\r\n  const handleSignUp = async (values) => {\r\n    if (!validCodes.includes(validationCode)) {\r\n      toast.error(\"Código de validação inválido. Não foi possível registrar.\");\r\n      return;\r\n    }\r\n\r\n    Object.assign(values, { recurrence: \"MENSAL\" });\r\n    Object.assign(values, { dueDate: dueDate });\r\n    Object.assign(values, { status: \"t\" });\r\n    Object.assign(values, { campaignsEnabled: true });\r\n\r\n    try {\r\n      await openApi.post(\"/companies/cadastro\", values);\r\n      toast.success(i18n.t(\"signup.toasts.success\"));\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      console.log(err);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const [plans, setPlans] = useState([]);\r\n  const { list: listPlans } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const list = await listPlans();\r\n      setPlans(list);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleWhatsAppClick = () => {\r\n    const message = `*Nome:* ${user.name}\\n*E-mail:* ${user.email}\\n*WhatsApp:* ${user.phone}\\n*Plano:* ${user.planId}`;\r\n    handleNewUserMessage(message);\r\n    setIsCodeEnabled(true);\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUser((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"geral-signup\">\r\n      <div className={\"container-signup\"}>\r\n        <div className={\"paper\"}>\r\n          <img src={logo} alt=\"Whats\" className=\"img-logo-signup\" />\r\n\r\n          <h4 className=\"h4\" style={{ fontSize: \"30px\" }}>\r\n            Cadastre-se\r\n          </h4>\r\n          <div>\r\n            <span className=\"span\" style={{ fontSize: \"17px\" }}>\r\n              Comece seu <b>teste GRATUITO</b> de 7 dias do CRM da WhatsNeed!{\" \"}\r\n            </span>\r\n          </div>\r\n\r\n          <Formik\r\n            initialValues={user}\r\n            enableReinitialize={true}\r\n            validationSchema={UserSchema}\r\n            onSubmit={(values, actions) => {\r\n              setTimeout(() => {\r\n                handleSignUp(values);\r\n                actions.setSubmitting(false);\r\n              }, 400);\r\n            }}\r\n          >\r\n            {({ touched, errors, isSubmitting }) => (\r\n              <Form className={classes.form}>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      as={TextField}\r\n                      autoComplete=\"name\"\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id=\"name\"\r\n                      label=\"Seu Nome\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n  <Field\r\n    as={TextField}\r\n    variant=\"outlined\"\r\n    fullWidth\r\n    id=\"email\"\r\n    label=\"Seu Email\"\r\n    name=\"email\"\r\n    error={touched.email && Boolean(errors.email)}\r\n    helperText={touched.email && errors.email}\r\n    autoComplete=\"email\"\r\n    required\r\n    onChange={handleInputChange}\r\n  />\r\n  <Typography variant=\"body2\" color=\"textSecondary\">\r\n    Um e-mail válido é necessário para recuperar a senha.\r\n  </Typography>\r\n</Grid>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      as={TextField}\r\n                      variant=\"outlined\"\r\n                                            fullWidth\r\n                      id=\"phone\"\r\n                      label=\"Seu Número de Telefone\"\r\n                      name=\"phone\"\r\n                      error={touched.phone && Boolean(errors.phone)}\r\n                      helperText={touched.phone && errors.phone}\r\n                      autoComplete=\"phone\"\r\n                      required\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <Field\r\n                      as={TextField}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      name=\"password\"\r\n                      error={touched.password && Boolean(errors.password)}\r\n                      helperText={touched.password && errors.password}\r\n                      label=\"Sua Senha\"\r\n                      type={showPassword ? \"text\" : \"password\"}\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      required\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12}>\r\n                    <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\r\n                    <Field\r\n                      as={Select}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      id=\"plan-selection\"\r\n                      label=\"Plano\"\r\n                      name=\"planId\"\r\n                      required\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      {plans.map((plan, key) => (\r\n                        <MenuItem key={key} value={plan.id}>\r\n                          {plan.name} - Atendentes: {plan.users} - WhatsApp:{\" \"}\r\n                          {plan.connections} - Filas: {plan.queues} - R${\" \"}\r\n                          {plan.value}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </Field>\r\n                  </Grid>\r\n                  {isCodeEnabled && (\r\n                    <Grid item xs={12}>\r\n                      <Field\r\n                        as={TextField}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        name=\"validationCode\"\r\n                        label=\"Código de Validação\"\r\n                        id=\"validationCode\"\r\n                        autoComplete=\"validation-code\"\r\n                        required\r\n                        value={validationCode}\r\n                        onChange={(e) => setValidationCode(e.target.value)}\r\n                      />\r\n                      {validCodes.includes(validationCode) ? (\r\n                        <Typography variant=\"body1\">Código válido</Typography>\r\n                      ) : (\r\n                        <Typography variant=\"body1\">Código inválido</Typography>\r\n                      )}\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n                <Button\r\n                  type=\"button\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                  onClick={handleWhatsAppClick}\r\n                >\r\n                  Solicitar Código\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  {i18n.t(\"signup.buttons.submit\")}\r\n                </Button>\r\n                <Grid container justify=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link\r\n                      href=\"#\"\r\n                      variant=\"body2\"\r\n                      component={RouterLink}\r\n                      to=\"/login\"\r\n                    >\r\n                      {i18n.t(\"signup.buttons.login\")}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </div>\r\n        <div className=\"footer\">\r\n          <p className=\"p\">\r\n            Copyright ©{\" \"}\r\n            <a href={\"#\"} target={\"_blank\"}>\r\n              WhatsNeed\r\n            </a>{\" \"}\r\n            2024{\" \"}\r\n          </p>\r\n        </div>\r\n        <Box mt={5}></Box>\r\n      </div>\r\n      <div className={\"container-img-signup\"}>\r\n        <div className=\"img-signup\"></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;","import React, { useState, useContext } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport \"./style.css\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport logo from \"../../assets/logo.png\";\r\n\r\n\r\nconst Copyright = () => {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"primary\" align=\"center\">\r\n      {\"Copyright \"}\r\n      <Link color=\"primary\" href=\"#\">\r\n        PLW\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    background: \"linear-gradient(to right, #A200FF, #2D0F3F, #2D0F3F)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"100% 100%\",\r\n    backgroundPosition: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  paper: {\r\n    backgroundColor: theme.palette.login, //DARK MODE PLW DESIGN//\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"55px 30px\",\r\n    borderRadius: \"12.5px\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"80%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n    paddingTop: \"20px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  submit: {\r\n    \"&.MuiButton-root\": {\r\n      margin: \"20px 0px 16px\",\r\n      backgroundColor: \"#A200FF\",\r\n      borderRadius: \" 30px\",\r\n    },\r\n    \"&:hover\": {\r\n      backgroundColor: \"#285ec9\",\r\n      // boxShadow: \"none\",\r\n    },\r\n\r\n    backgroundColor: \"rgb(255, 255, 255)\",\r\n    margin: theme.spacing(3, 0, 2),\r\n    WebkitTextFillColor: \"#FFF\",\r\n    width: \"50%\",\r\n  },\r\n  powered: {\r\n    color: \"white\",\r\n  },\r\n  input: {\r\n    \"& .MuiOutlinedInput-root\": {\r\n      position: \"relative\",\r\n      borderRadius: \"30px\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n\r\n  const { handleLogin } = useContext(AuthContext);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin(user);\r\n  };\r\n\r\n  return (\r\n    <div className=\"geral\">\r\n      <CssBaseline />\r\n      <div className={\"container-login\"}>\r\n        <div className={\"container-img\"}>\r\n          <img alt={\"Logo\"} src={logo} className=\"img-login\"></img>\r\n        </div>\r\n        <div className=\"container-footer\">\r\n          <p>\r\n            Copyright ©{\" \"}\r\n            <a href={\"#\"} target={\"_blank\"}>\r\n              WhatsNeed{\"\"}\r\n            </a>{\" \"}\r\n            2024{\" \"}\r\n          </p>\r\n                  </div>\r\n      </div>\r\n      <div className={\"container-right\"}>\r\n        <div className={\"box\"}>\r\n          <div className={\"container-header-box\"}>\r\n            <Link\r\n              // variant=\"body2\"\r\n              component={RouterLink}\r\n              className={\"link-create-count\"}\r\n              tabIndex={0}\r\n              role={\"button\"}\r\n              aria-disabled={\"false\"}\r\n              to=\"/signup\"\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <span className={\"label-text\"}>Criar conta</span>\r\n            </Link>\r\n            <a\r\n              className={\"link-enter\"}\r\n              tabIndex={0}\r\n              role={\"button\"}\r\n              aria-disabled={\"false\"}\r\n              to=\"/login\"\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              <span>Entrar</span>\r\n            </a>\r\n          </div>\r\n          <form className={classes.form} noValidate onSubmit={handlSubmit}>\r\n            <TextField\r\n              className={classes.input}\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label={i18n.t(\"login.form.email\")}\r\n              name=\"email\"\r\n              value={user.email}\r\n              onChange={handleChangeInput}\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              inputProps={{\r\n                style: {\r\n                  borderRadius: \"50px\",\r\n                  height: \"30px\",\r\n                  padding: \"12px\",\r\n                  backgroundColor: \"#ffffff\",\r\n                },\r\n              }}\r\n            />\r\n            <TextField\r\n              className={classes.input}\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label={i18n.t(\"login.form.password\")}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={user.password}\r\n              onChange={handleChangeInput}\r\n              autoComplete=\"current-password\"\r\n              inputProps={{\r\n                style: {\r\n                  borderRadius: \"50px\",\r\n                  height: \"30px\",\r\n                  padding: \"12px\",\r\n                  backgroundColor: \"#ffffff\",\r\n                },\r\n              }}\r\n            />\r\n            \r\n            <Grid container justify=\"flex-end\">\r\n\t\t\t\t\t  <Grid item xs={6} style={{ textAlign: \"right\" }}>\r\n\t\t\t\t\t\t<Link component={RouterLink} to=\"/forgetpsw\" variant=\"body2\">\r\n\t\t\t\t\t\t  Esqueceu sua senha?\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t  </Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              {i18n.t(\"login.buttons.submit\")}\r\n            </Button>\r\n          </form>\r\n<div className={\"container-footer-form\"}>\r\n  <p>\r\n    Ao prosseguir, você concorda com nossos{\" \"}\r\n    <a className={\"termo\"} href={\"https://app.titan.email/mail/\"} target={\"_blank\"}>\r\n      Termos de Serviço{\"\"}\r\n    </a>{\" \"}\r\n    e{\" \"}\r\n    <a className={\"politica\"} href={\"https://app.titan.email/mail/\"} target={\"_blank\"}>\r\n      Política de Privacidade\r\n    </a>\r\n  </p>\r\n</div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainContainer: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(2),\r\n\t\theight: `calc(100% - 48px)`,\r\n\t},\r\n\r\n\tcontentWrapper: {\r\n\t\theight: \"100%\",\r\n\t\toverflowY: \"hidden\",\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n}));\r\n\r\nconst MainContainer = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Container className={classes.mainContainer}>\r\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default MainContainer;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontactsHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tpadding: \"0px 6px 6px 6px\",\r\n\t},\r\n}));\r\n\r\nconst MainHeader = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn <div className={classes.contactsHeader}>{children}</div>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tMainHeaderButtonsWrapper: {\r\n\t\tflex: \"none\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst MainHeaderButtonsWrapper = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\r\n};\r\n\r\nexport default MainHeaderButtonsWrapper;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Title(props) {\r\n\treturn (\r\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n\t\t\t{props.children}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n}));\r\n\r\nconst TableRowSkeleton = ({ avatar, columns }) => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TableRow>\r\n\t\t\t\t{avatar && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\r\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\r\n\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\theight={30}\r\n\t\t\t\t\t\t\t\twidth={80}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t))}\r\n\t\t\t</TableRow>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TableRowSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  DialogActions,\r\n  CircularProgress,\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\r\n  const classes = useStyles();\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    complationMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    ratingMessage: \"\",\r\n    isDefault: false,\r\n    token: \"\",\r\n    provider: \"beta\",\r\n    //timeSendQueue: 0,\r\n    //sendIdQueue: 0,\r\n    expiresInactiveMessage: \"\",\r\n    expiresTicket: 0,\r\n    timeUseBotQueues: 0,\r\n    maxUseBotQueues: 3\r\n  };\r\n  const [whatsApp, setWhatsApp] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [selectedQueueId, setSelectedQueueId] = useState(null)\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n  \r\n    useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\r\n        setWhatsApp(data);\r\n\r\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(whatsQueueIds);\r\n\t\tsetSelectedQueueId(data.transferQueueId);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        setQueues(data);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const handleSaveWhatsApp = async (values) => {\r\nconst whatsappData = {\r\n      ...values, queueIds: selectedQueueIds, transferQueueId: selectedQueueId,\r\n      promptId: selectedPrompt ? selectedPrompt : null\r\n    };\r\n    delete whatsappData[\"queues\"];\r\n    delete whatsappData[\"session\"];\r\n\r\n    try {\r\n      if (whatsAppId) {\r\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n      } else {\r\n        await api.post(\"/whatsapp\", whatsappData);\r\n      }\r\n      toast.success(i18n.t(\"whatsappModal.success\"));\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleChangeQueue = (e) => {\r\n    setSelectedQueueIds(e);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setWhatsApp(initialState);\r\n\t  setSelectedQueueId(null);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {whatsAppId\r\n            ? i18n.t(\"whatsappModal.title.edit\")\r\n            : i18n.t(\"whatsappModal.title.add\")}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={whatsApp}\r\n          enableReinitialize={true}\r\n          validationSchema={SessionSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveWhatsApp(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Grid spacing={2} container>\r\n                    <Grid item>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.name\")}\r\n                        autoFocus\r\n                        name=\"name\"\r\n                        error={touched.name && Boolean(errors.name)}\r\n                        helperText={touched.name && errors.name}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.textField}\r\n                      />\r\n                    </Grid>\r\n                    <Grid style={{ paddingTop: 15 }} item>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Field\r\n                            as={Switch}\r\n                            color=\"primary\"\r\n                            name=\"isDefault\"\r\n                            checked={values.isDefault}\r\n                          />\r\n                        }\r\n                        label={i18n.t(\"whatsappModal.form.default\")}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                </div>\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                    type=\"greetingMessage\"\r\n                    multiline\r\n                    rows={4}\r\n                    fullWidth\r\n                    name=\"greetingMessage\"\r\n                    error={\r\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                    }\r\n                    helperText={\r\n                      touched.greetingMessage && errors.greetingMessage\r\n                    }\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\r\n                    type=\"complationMessage\"\r\n                    multiline\r\n                    rows={4}\r\n                    fullWidth\r\n                    name=\"complationMessage\"\r\n                    error={\r\n                      touched.complationMessage &&\r\n                      Boolean(errors.complationMessage)\r\n                    }\r\n                    helperText={\r\n                      touched.complationMessage && errors.complationMessage\r\n                    }\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\r\n                    type=\"outOfHoursMessage\"\r\n                    multiline\r\n                    rows={4}\r\n                    fullWidth\r\n                    name=\"outOfHoursMessage\"\r\n                    error={\r\n                      touched.outOfHoursMessage &&\r\n                      Boolean(errors.outOfHoursMessage)\r\n                    }\r\n                    helperText={\r\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\r\n                    }\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\r\n                    type=\"ratingMessage\"\r\n                    multiline\r\n                    rows={4}\r\n                    fullWidth\r\n                    name=\"ratingMessage\"\r\n                    error={\r\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\r\n                    }\r\n                    helperText={touched.ratingMessage && errors.ratingMessage}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.token\")}\r\n                    type=\"token\"\r\n                    fullWidth\r\n                    name=\"token\"\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                </div>\r\n                <QueueSelect\r\n                  selectedQueueIds={selectedQueueIds}\r\n                  onChange={(selectedIds) => handleChangeQueue(selectedIds)}\r\n                />\r\n                <FormControl\r\n                  margin=\"dense\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                >\r\n                  <InputLabel>\r\n                    {i18n.t(\"whatsappModal.form.prompt\")}\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId=\"dialog-select-prompt-label\"\r\n                    id=\"dialog-select-prompt\"\r\n                    name=\"promptId\"\r\n                    value={selectedPrompt || \"\"}\r\n                    onChange={handleChangePrompt}\r\n                    label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                    fullWidth\r\n                    MenuProps={{\r\n                      anchorOrigin: {\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"left\",\r\n                      },\r\n                      transformOrigin: {\r\n                        vertical: \"top\",\r\n                        horizontal: \"left\",\r\n                      },\r\n                      getContentAnchorEl: null,\r\n                    }}\r\n                  >\r\n                    {prompts.map((prompt) => (\r\n                      <MenuItem\r\n                        key={prompt.id}\r\n                        value={prompt.id}\r\n                      >\r\n                        {prompt.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n                <div>\r\n                  <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\r\n                  <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\r\n\t\t\t\t<Grid container spacing={2}>\r\n                  <Grid item sm={6} >\r\n                    <Field\r\n                      fullWidth\r\n                      type=\"number\"\r\n                      as={TextField}\r\n                      label='Transferir após x (minutos)'\r\n                      name=\"timeToTransfer\"\r\n                      error={touched.timeToTransfer && Boolean(errors.timeToTransfer)}\r\n                      helperText={touched.timeToTransfer && errors.timeToTransfer}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.textField}\r\n                      InputLabelProps={{ shrink: values.timeToTransfer ? true : false }}\r\n                    />\r\n\r\n                  </Grid>\r\n\r\n                  <Grid item sm={6}>\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueId}\r\n                      onChange={(selectedId) => {\r\n                        setSelectedQueueId(selectedId)\r\n                      }}\r\n                      multiple={false}\r\n                      title={'Fila de Transferência'}\r\n                    />\r\n                  </Grid>\r\n\r\n                  </Grid>\r\n                  <Grid spacing={2} container>\r\n                    {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\r\n                    <Grid xs={12} md={12} item>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresTicket\")}\r\n                        fullWidth\r\n                        name=\"expiresTicket\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\r\n                        helperText={touched.expiresTicket && errors.expiresTicket}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                  {/* MENSAGEM POR INATIVIDADE*/}\r\n                  <div>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\r\n                      multiline\r\n                      rows={4}\r\n                      fullWidth\r\n                      name=\"expiresInactiveMessage\"\r\n                      error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\r\n                      helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {whatsAppId\r\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport QRCode from \"qrcode.react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { Dialog, DialogContent, Paper, Typography, useTheme } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\r\n  const [qrCode, setQrCode] = useState(\"\");\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\r\n        setQrCode(data.qrcode);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    if (!whatsAppId) return;\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\r\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\r\n        setQrCode(data.session.qrcode);\r\n      }\r\n\r\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\r\n        onClose();\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [whatsAppId, onClose]);\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\r\n      <DialogContent>\r\n        <Paper elevation={0} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <div style={{ marginRight: \"20px\" }}>\r\n            <Typography variant=\"h2\" component=\"h2\" color=\"textPrimary\" gutterBottom style={{ fontFamily: \"Montserrat\", fontWeight: \"bold\", fontSize:\"20px\",}}>\r\n              Utilize o Whaticket com seu WhatsApp:\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\r\n              1 - Abra o WhatsApp no seu celular\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\r\n              2 - Toque em Mais opções no Android <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path></svg> ou em Configurações <svg class=\"MuiSvgIcon-root\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z\"></path></svg> no iPhone\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\r\n              3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" gutterBottom>\r\n              4 - Aponte seu celular para essa tela para capturar o QR Code\r\n            </Typography>\r\n          </div>\r\n          <div>\r\n            {qrCode ? (\r\n              <QRCode value={qrCode} size={256} />\r\n            ) : (\r\n              <span>Waiting for QR Code</span>\r\n            )}\r\n          </div>\r\n        </Paper>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default React.memo(QrcodeModal);\r\n","import React, { useState, useCallback, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO } from \"date-fns\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n\tButton,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tIconButton,\r\n\tTable,\r\n\tTableHead,\r\n\tPaper,\r\n\tTooltip,\r\n\tTypography,\r\n\tCircularProgress,\r\n} from \"@material-ui/core\";\r\nimport {\r\n\tEdit,\r\n\tCheckCircle,\r\n\tSignalCellularConnectedNoInternet2Bar,\r\n\tSignalCellularConnectedNoInternet0Bar,\r\n\tSignalCellular4Bar,\r\n\tCropFree,\r\n\tDeleteOutline,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tarrow\r\n\t\t\tclasses={{\r\n\t\t\t\ttooltip: classes.tooltip,\r\n\t\t\t\tpopper: classes.tooltipPopper,\r\n\t\t\t}}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Tooltip>\r\n\t);\r\n};\r\n\r\nconst Connections = () => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\r\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\r\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n\tconst confirmationModalInitialState = {\r\n\t\taction: \"\",\r\n\t\ttitle: \"\",\r\n\t\tmessage: \"\",\r\n\t\twhatsAppId: \"\",\r\n\t\topen: false,\r\n\t};\r\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\r\n\t\tconfirmationModalInitialState\r\n\t);\r\n\r\n\tconst handleStartWhatsAppSession = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRequestNewQrCode = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpenWhatsAppModal = () => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseWhatsAppModal = useCallback(() => {\r\n\t\tsetWhatsAppModalOpen(false);\r\n\t\tsetSelectedWhatsApp(null);\r\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n\tconst handleOpenQrModal = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetQrModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseQrModal = useCallback(() => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetQrModalOpen(false);\r\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n\tconst handleEditWhatsApp = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\r\n\t\tif (action === \"disconnect\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (action === \"delete\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetConfirmModalOpen(true);\r\n\t};\r\n\r\n\tconst handleSubmitConfirmationModal = async () => {\r\n\t\tif (confirmModalInfo.action === \"disconnect\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (confirmModalInfo.action === \"delete\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\r\n\t};\r\n\r\n\tconst renderActionButtons = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\r\n\t\t\t\t\t\t</Button>{\" \"}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\r\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\r\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderStatusToolTips = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CropFree />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MainContainer>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={confirmModalInfo.title}\r\n\t\t\t\topen={confirmModalOpen}\r\n\t\t\t\tonClose={setConfirmModalOpen}\r\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\r\n\t\t\t>\r\n\t\t\t\t{confirmModalInfo.message}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<QrcodeModal\r\n\t\t\t\topen={qrModalOpen}\r\n\t\t\t\tonClose={handleCloseQrModal}\r\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<WhatsAppModal\r\n\t\t\t\topen={whatsAppModalOpen}\r\n\t\t\t\tonClose={handleCloseWhatsAppModal}\r\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<MainHeader>\r\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\r\n\t\t\t\t<MainHeaderButtonsWrapper>\r\n\t\t\t\t\t<Can\r\n\t\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\r\n\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</MainHeaderButtonsWrapper>\r\n\t\t\t</MainHeader>\r\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\r\n\t\t\t\t<Table size=\"small\">\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\r\n\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\r\n\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\r\n\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<TableRowSkeleton />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\r\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<Can\r\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Paper>\r\n\t\t</MainContainer>\r\n\t);\r\n};\r\n\r\nexport default Connections;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Grid, Container } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport { isArray } from \"lodash\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    paddingRight: theme.spacing(1),\r\n    paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nfunction SchedulesForm(props) {\r\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\r\n  const classes = useStyles();\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", endTime: \"\", },\r\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", endTime: \"\", },\r\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", endTime: \"\", },\r\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", endTime: \"\", },\r\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isArray(initialValues) && initialValues.length > 0) {\r\n      setSchedules(initialValues);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialValues]);\r\n\r\n  const handleSubmit = (data) => {\r\n    onSubmit(data);\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      enableReinitialize\r\n      className={classes.fullWidth}\r\n      initialValues={{ schedules }}\r\n      onSubmit={({ schedules }) =>\r\n        setTimeout(() => {\r\n          handleSubmit(schedules);\r\n        }, 500)\r\n      }\r\n    >\r\n      {({ values }) => (\r\n        <Form className={classes.fullWidth}>\r\n          <FieldArray\r\n            name=\"schedules\"\r\n            render={(arrayHelpers) => (\r\n              <Grid spacing={4} container>\r\n                {values.schedules.map((item, index) => {\r\n                  return (\r\n                      <Container>\r\n                          <FastField\r\n                            as={TextField}\r\n                            label=\"Dia da Semana\"\r\n                            name={`schedules[${index}].weekday`}\r\n                            disabled\r\n                            variant=\"outlined\"\r\n                            style={{ marginRight: \"3.2%\", width: \"30%\" }}\r\n                            margin=\"dense\"\r\n                          />\r\n                          <FastField\r\n                            name={`schedules[${index}].startTime`}\r\n                            >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                label=\"Hora de Inicial\"\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                          <FastField\r\n                            name={`schedules[${index}].endTime`}\r\n                            >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                label=\"Hora de Final\"\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n\r\n                      </Container>\r\n\r\n                  );\r\n                })}\r\n              </Grid>\r\n            )}\r\n          ></FieldArray>\r\n          <div style={{ textAlign: \"center\", marginTop: \"2%\" }} className={classes.buttonContainer}>\r\n            <ButtonWithSpinner\r\n              loading={loading}\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              {labelSaveButton ?? \"Salvar\"}\r\n            </ButtonWithSpinner>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default SchedulesForm;\r\n","import api from \"../../services/api\";\r\n\r\nconst useCompanies = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/companies',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const findAll = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/list`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const find = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const finding = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const updateSchedules = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}/schedules`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        remove,\r\n        list,\r\n        find,\r\n        finding,\r\n        findAll,\r\n        updateSchedules\r\n    }\r\n}\r\n\r\nexport default useCompanies;","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n}));\r\n\r\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\r\n\t\t\t\t\tparams: { companyId }\r\n\t\t\t\t});\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, [companyId]);\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ marginTop: 6 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={selected => (\r\n\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t{selected?.length > 0 &&\r\n\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelectCustom;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelectCustom from \"../QueueSelectCustom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    profile: \"user\",\r\n  };\r\n\r\n  const { user: loggedInUser } = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      if (!userId) return;\r\n      if (open) {\r\n        try {\r\n          const { data } = await api.get(`/users/${userId}`);\r\n          setUser((prevState) => {\r\n            return { ...prevState, ...data };\r\n          });\r\n          const userQueueIds = data.queues?.map((queue) => queue.id);\r\n          setSelectedQueueIds(userQueueIds);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, [userId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setUser(initialState);\r\n  };\r\n\r\n  const handleSaveUser = async (values) => {\r\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\r\n    try {\r\n      if (userId) {\r\n        await api.put(`/users/${userId}`, userData);\r\n      } else {\r\n        await api.post(\"/users\", userData);\r\n      }\r\n      toast.success(i18n.t(\"userModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {userId\r\n            ? `${i18n.t(\"userModal.title.edit\")}`\r\n            : `${i18n.t(\"userModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={user}\r\n          enableReinitialize={true}\r\n          validationSchema={UserSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveUser(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.password\")}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    error={touched.password && Boolean(errors.password)}\r\n                    helperText={touched.password && errors.password}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    margin=\"dense\"\r\n                  >\r\n                    <Can\r\n                      role={loggedInUser.profile}\r\n                      perform=\"user-modal:editProfile\"\r\n                      yes={() => (\r\n                        <>\r\n                          <InputLabel id=\"profile-selection-input-label\">\r\n                            {i18n.t(\"userModal.form.profile\")}\r\n                          </InputLabel>\r\n\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"userModal.form.profile\")}\r\n                            name=\"profile\"\r\n                            labelId=\"profile-selection-label\"\r\n                            id=\"profile-selection\"\r\n                            required\r\n                          >\r\n                            <MenuItem value=\"admin\">Admin</MenuItem>\r\n                            <MenuItem value=\"user\">User</MenuItem>\r\n                          </Field>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </FormControl>\r\n                </div>\r\n                <Can\r\n                  role={loggedInUser.profile}\r\n                  perform=\"user-modal:editQueues\"\r\n                  yes={() => (\r\n                    <QueueSelectCustom\r\n                      companyId={companyId}\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(values) => setSelectedQueueIds(values)}\r\n                    />\r\n                  )}\r\n                />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"userModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {userId\r\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Paper,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  TextField,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n  TableRow,\r\n  IconButton,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ModalUsers from \"../ModalUsers\";\r\nimport api from \"../../services/api\";\r\nimport { head, isArray, has } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport moment from \"moment\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  mainPaper: {\r\n    width: \"100%\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  tableContainer: {\r\n    width: \"100%\",\r\n    overflowX: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    paddingRight: theme.spacing(1),\r\n    paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function CompanyForm(props) {\r\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n  const classes = useStyles();\r\n  const [plans, setPlans] = useState([]);\r\n  const [modalUser, setModalUser] = useState(false);\r\n  const [firstUser, setFirstUser] = useState({});\r\n\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n    ...initialValue,\r\n  });\r\n\r\n  const { list: listPlans } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const list = await listPlans();\r\n      setPlans(list);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setRecord((prev) => {\r\n      if (moment(initialValue).isValid()) {\r\n        initialValue.dueDate = moment(initialValue.dueDate).format(\r\n          \"YYYY-MM-DD\"\r\n        );\r\n      }\r\n      return {\r\n        ...prev,\r\n        ...initialValue,\r\n      };\r\n    });\r\n  }, [initialValue]);\r\n\r\n  const handleSubmit = async (data) => {\r\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\r\n      data.dueDate = null;\r\n    }\r\n    onSubmit(data);\r\n    setRecord({ ...initialValue, dueDate: \"\" });\r\n  };\r\n\r\n  const handleOpenModalUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/users/list\", {\r\n        params: {\r\n          companyId: initialValue.id,\r\n        },\r\n      });\r\n      if (isArray(data) && data.length) {\r\n        setFirstUser(head(data));\r\n      }\r\n      setModalUser(true);\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n  };\r\n\r\n  const handleCloseModalUsers = () => {\r\n    setFirstUser({});\r\n    setModalUser(false);\r\n  };\r\n\r\n  const incrementDueDate = () => {\r\n    const data = { ...record };\r\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\r\n      switch (data.recurrence) {\r\n        case \"MENSAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(1, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"BIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(2, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"TRIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(3, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"SEMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(6, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"ANUAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(12, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    setRecord(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalUsers\r\n        userId={firstUser.id}\r\n        companyId={initialValue.id}\r\n        open={modalUser}\r\n        onClose={handleCloseModalUsers}\r\n      />\r\n      <Formik\r\n        enableReinitialize\r\n        className={classes.fullWidth}\r\n        initialValues={record}\r\n        onSubmit={(values, { resetForm }) =>\r\n          setTimeout(() => {\r\n            handleSubmit(values);\r\n            resetForm();\r\n          }, 500)\r\n        }\r\n      >\r\n        {(values, setValues) => (\r\n          <Form className={classes.fullWidth}>\r\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label=\"Nome\"\r\n                  name=\"name\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label=\"E-mail\"\r\n                  name=\"email\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label=\"Telefone\"\r\n                  name=\"phone\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"plan-selection\"\r\n                    label=\"Plano\"\r\n                    labelId=\"plan-selection-label\"\r\n                    name=\"planId\"\r\n                    margin=\"dense\"\r\n                    required\r\n                  >\r\n                    {plans.map((plan, key) => (\r\n                      <MenuItem key={key} value={plan.id}>\r\n                        {plan.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"status-selection\"\r\n                    label=\"Status\"\r\n                    labelId=\"status-selection-label\"\r\n                    name=\"status\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>Sim</MenuItem>\r\n                    <MenuItem value={false}>Não</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"campaigns-selection\"\r\n                    label=\"Campanhas\"\r\n                    labelId=\"campaigns-selection-label\"\r\n                    name=\"campaignsEnabled\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>Habilitadas</MenuItem>\r\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <Field\r\n                    as={TextField}\r\n                    label=\"Data de Vencimento\"\r\n                    type=\"date\"\r\n                    name=\"dueDate\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"recorrencia-selection\">\r\n                    Recorrência\r\n                  </InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    label=\"Recorrência\"\r\n                    labelId=\"recorrencia-selection-label\"\r\n                    id=\"recurrence\"\r\n                    name=\"recurrence\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\r\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\r\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\r\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\r\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} item>\r\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\r\n                  <Grid xs={4} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      onClick={() => onCancel()}\r\n                      variant=\"contained\"\r\n                    >\r\n                      Limpar\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                  {record.id !== undefined ? (\r\n                    <>\r\n                      <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => onDelete(record)}\r\n                          variant=\"contained\"\r\n                          color=\"secondary\"\r\n                        >\r\n                          Excluir\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      <Grid xs={6} md={2} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => incrementDueDate()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          + Vencimento\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => handleOpenModalUsers()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          Usuário\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                    </>\r\n                  ) : null}\r\n                  <Grid xs={6} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      Salvar\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function CompaniesManagerGrid(props) {\r\n  const { records, onSelect } = props;\r\n  const classes = useStyles();\r\n  const { dateToClient } = useDate();\r\n\r\n  const renderStatus = (row) => {\r\n    return row.status === false ? \"Não\" : \"Sim\";\r\n  };\r\n\r\n  const renderPlan = (row) => {\r\n    return row.planId !== null ? row.plan.name : \"-\";\r\n  };\r\n\r\n  const renderCampaignsStatus = (row) => {\r\n    if (\r\n      has(row, \"settings\") &&\r\n      isArray(row.settings) &&\r\n      row.settings.length > 0\r\n    ) {\r\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\r\n      if (setting) {\r\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\r\n      }\r\n    }\r\n    return \"Desabilitadas\";\r\n  };\r\n\r\n  const rowStyle = (record) => {\r\n    if (moment(record.dueDate).isValid()) {\r\n      const now = moment();\r\n      const dueDate = moment(record.dueDate);\r\n      const diff = dueDate.diff(now, \"days\");\r\n      if (diff === 5) {\r\n        return { backgroundColor: \"#fffead\" };\r\n      }\r\n      if (diff >= -3 && diff <= 4) {\r\n        return { backgroundColor: \"#f7cc8f\" };\r\n      }\r\n      if (diff === -4) {\r\n        return { backgroundColor: \"#fa8c8c\" };\r\n      }\r\n    }\r\n    return {};\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.tableContainer}>\r\n      <Table\r\n        className={classes.fullWidth}\r\n        size=\"small\"\r\n        aria-label=\"a dense table\"\r\n      >\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\r\n              #\r\n            </TableCell>\r\n            <TableCell align=\"left\">Nome</TableCell>\r\n            <TableCell align=\"left\">E-mail</TableCell>\r\n            <TableCell align=\"left\">Telefone</TableCell>\r\n            <TableCell align=\"left\">Plano</TableCell>\r\n            <TableCell align=\"left\">Campanhas</TableCell>\r\n            <TableCell align=\"left\">Status</TableCell>\r\n            <TableCell align=\"left\">Criada Em</TableCell>\r\n            <TableCell align=\"left\">Vencimento</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {records.map((row, key) => (\r\n            <TableRow style={rowStyle(row)} key={key}>\r\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\r\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                  <EditIcon />\r\n                </IconButton>\r\n              </TableCell>\r\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\r\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\r\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\r\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\r\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\r\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\r\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\r\n              <TableCell align=\"left\">\r\n                {dateToClient(row.dueDate)}\r\n                <br />\r\n                <span>{row.recurrence}</span>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default function CompaniesManager() {\r\n  const classes = useStyles();\r\n  const { list, save, update, remove } = useCompanies();\r\n\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [records, setRecords] = useState([]);\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadPlans();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const loadPlans = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companyList = await list();\r\n      setRecords(companyList);\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSubmit = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      if (data.id !== undefined) {\r\n        await update(data);\r\n      } else {\r\n        await save(data);\r\n      }\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\r\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await remove(record.id);\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível realizar a operação\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      planId: \"\",\r\n      status: true,\r\n      campaignsEnabled: false,\r\n      dueDate: \"\",\r\n      recurrence: \"\",\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (data) => {\r\n    let campaignsEnabled = false;\r\n\r\n    const setting = data.settings.find(\r\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\r\n    );\r\n    if (setting) {\r\n      campaignsEnabled =\r\n        setting.value === \"true\" || setting.value === \"enabled\";\r\n    }\r\n\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      id: data.id,\r\n      name: data.name || \"\",\r\n      phone: data.phone || \"\",\r\n      email: data.email || \"\",\r\n      planId: data.planId || \"\",\r\n      status: data.status === false ? false : true,\r\n      campaignsEnabled,\r\n      dueDate: data.dueDate || \"\",\r\n      recurrence: data.recurrence || \"\",\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainPaper} elevation={0}>\r\n      <Grid spacing={2} container>\r\n        <Grid xs={12} item>\r\n          <CompanyForm\r\n            initialValue={record}\r\n            onDelete={handleOpenDeleteDialog}\r\n            onSubmit={handleSubmit}\r\n            onCancel={handleCancel}\r\n            loading={loading}\r\n          />\r\n        </Grid>\r\n        <Grid xs={12} item>\r\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\r\n        </Grid>\r\n      </Grid>\r\n      <ConfirmationModal\r\n        title=\"Exclusão de Registro\"\r\n        open={showConfirmDialog}\r\n        onClose={() => setShowConfirmDialog(false)}\r\n        onConfirm={() => handleDelete()}\r\n      >\r\n        Deseja realmente excluir esse registro?\r\n      </ConfirmationModal>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton,\r\n    FormControl,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    mainPaper: {\r\n        width: '100%',\r\n        flex: 1,\r\n        padding: theme.spacing(2)\r\n    },\r\n    fullWidth: {\r\n        width: '100%'\r\n    },\r\n    tableContainer: {\r\n        width: '100%',\r\n        overflowX: \"scroll\",\r\n        ...theme.scrollbarStyles\r\n    },\r\n    textfield: {\r\n        width: '100%'\r\n    },\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n        paddingRight: theme.spacing(1),\r\n        paddingLeft: theme.spacing(1)\r\n    },\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n        padding: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport function PlanManagerForm(props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        value: 0,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n    });\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async (data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\r\n                        {/* NOME */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.name\")}\r\n                                name=\"name\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* USUARIOS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.users\")}\r\n                                name=\"users\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* CONEXOES */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.connections\")}\r\n                                name=\"connections\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* FILAS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Filas\"\r\n                                name=\"queues\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* VALOR */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Valor\"\r\n                                name=\"value\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"text\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* CAMPANHAS */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useCampaigns-selection\"\r\n                                    label={i18n.t(\"plans.form.campaigns\")}\r\n                                    labelId=\"useCampaigns-selection-label\"\r\n                                    name=\"useCampaigns\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* AGENDAMENTOS */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useSchedules-selection\"\r\n                                    label={i18n.t(\"plans.form.schedules\")}\r\n                                    labelId=\"useSchedules-selection-label\"\r\n                                    name=\"useSchedules\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* CHAT INTERNO */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useInternalChat-selection\"\r\n                                    label=\"Chat Interno\"\r\n                                    labelId=\"useInternalChat-selection-label\"\r\n                                    name=\"useInternalChat\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* API Externa */}\r\n                        <Grid xs={12} sm={8} md={4} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useExternalApi-selection\"\r\n                                    label=\"API Externa\"\r\n                                    labelId=\"useExternalApi-selection-label\"\r\n                                    name=\"useExternalApi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* KANBAN */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useKanban-selection\"\r\n                                    label=\"Kanban\"\r\n                                    labelId=\"useKanban-selection-label\"\r\n                                    name=\"useKanban\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* OPENAI */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Open.Ai</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useOpenAi-selection\"\r\n                                    label=\"Talk.Ai\"\r\n                                    labelId=\"useOpenAi-selection-label\"\r\n                                    name=\"useOpenAi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* INTEGRACOES */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useIntegrations-selection\"\r\n                                    label=\"Integrações\"\r\n                                    labelId=\"useIntegrations-selection-label\"\r\n                                    name=\"useIntegrations\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                                {i18n.t(\"plans.form.clear\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        {record.id !== undefined ? (\r\n                            <Grid sm={3} md={2} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                    {i18n.t(\"plans.form.delete\")}\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                                {i18n.t(\"plans.form.save\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function PlansManagerGrid(props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n    \r\n    const renderCampaigns = (row) => {\r\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderSchedules = (row) => {\r\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderInternalChat = (row) => {\r\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderExternalApi = (row) => {\r\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderKanban = (row) => {\r\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderOpenAi = (row) => {\r\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderIntegrations = (row) => {\r\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table\r\n                className={classes.fullWidth}\r\n                // size=\"small\"\r\n                padding=\"none\"\r\n                aria-label=\"a dense table\"\r\n            >\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\r\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\r\n                        <TableCell align=\"center\">Filas</TableCell>\r\n                        <TableCell align=\"center\">Valor</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\r\n                        <TableCell align=\"center\">Chat Interno</TableCell>\r\n                        <TableCell align=\"center\">API Externa</TableCell>\r\n                        <TableCell align=\"center\">Kanban</TableCell>\r\n                        <TableCell align=\"center\">Open.Ai</TableCell>\r\n                        <TableCell align=\"center\">Integrações</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {records.map((row) => (\r\n                        <TableRow key={row.id}>\r\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\r\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                    <EditIcon />\r\n                                </IconButton>\r\n                            </TableCell>\r\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.value ? row.value.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\r\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function PlansManager() {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = usePlans()\r\n\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        value: 0,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await loadPlans()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [record])\r\n\r\n    const loadPlans = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const planList = await list()\r\n            setRecords(planList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        console.log(data)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            id: undefined,\r\n            name: '',\r\n            users: 0,\r\n            connections: 0,\r\n            queues: 0,\r\n            value: 0,\r\n            useCampaigns: true,\r\n            useSchedules: true,\r\n            useInternalChat: true,\r\n            useExternalApi: true,\r\n            useKanban: true,\r\n            useOpenAi: true,\r\n            useIntegrations: true\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n\r\n        let useCampaigns = data.useCampaigns === false ? false : true\r\n        let useSchedules = data.useSchedules === false ? false : true\r\n        let useInternalChat = data.useInternalChat === false ? false : true\r\n        let useExternalApi = data.useExternalApi === false ? false : true\r\n        let useKanban = data.useKanban === false ? false : true\r\n        let useOpenAi = data.useOpenAi === false ? false : true\r\n        let useIntegrations = data.useIntegrations === false ? false : true\r\n\r\n        setRecord({\r\n            id: data.id,\r\n            name: data.name || '',\r\n            users: data.users || 0,\r\n            connections: data.connections || 0,\r\n            queues: data.queues || 0,\r\n            value: data.value?.toLocaleString('pt-br', { minimumFractionDigits: 0 }) || 0,\r\n            useCampaigns,\r\n            useSchedules,\r\n            useInternalChat,\r\n            useExternalApi,\r\n            useKanban,\r\n            useOpenAi,\r\n            useIntegrations\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <PlanManagerForm\r\n                        initialValue={record}\r\n                        onDelete={handleOpenDeleteDialog}\r\n                        onSubmit={handleSubmit}\r\n                        onCancel={handleCancel}\r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <PlansManagerGrid\r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import api from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const findAll = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/helps`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/helps/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/helps',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/helps/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/helps/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        findAll,\r\n        list,\r\n        save,\r\n        update,\r\n        remove\r\n    }\r\n}\r\n\r\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%'\r\n\t},\r\n    mainPaper: {\r\n\t\twidth: '100%',\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(2)\r\n    },\r\n\tfullWidth: {\r\n\t\twidth: '100%'\r\n\t},\r\n    tableContainer: {\r\n\t\twidth: '100%',\r\n\t\toverflowX: \"scroll\",\r\n\t\t...theme.scrollbarStyles\r\n    },\r\n\ttextfield: {\r\n\t\twidth: '100%'\r\n\t},\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n\t\tpaddingTop: theme.spacing(2),\r\n\t\tpaddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t\tpaddingLeft: theme.spacing(1)\r\n\t},\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n\t\tpadding: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nexport function HelpManagerForm (props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState(initialValue);\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async(data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Título\"\r\n                                name=\"title\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Código do Vídeo\"\r\n                                name=\"video\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={12} md={6} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Descrição\"\r\n                                name=\"description\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                                Limpar\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        { record.id !== undefined ? (\r\n                            <Grid sm={3} md={1} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                    Excluir\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                                Salvar\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function HelpsManagerGrid (props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\r\n                <TableHead>\r\n                <TableRow>\r\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\r\n                    <TableCell align=\"left\">Título</TableCell>\r\n                    <TableCell align=\"left\">Descrição</TableCell>\r\n                    <TableCell align=\"left\">Vídeo</TableCell>\r\n                </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {records.map((row) => (\r\n                    <TableRow key={row.id}>\r\n                        <TableCell align=\"center\" style={{width: '1%'}}>\r\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\r\n                    </TableRow>\r\n                ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function HelpsManager () {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = useHelps()\r\n    \r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        title: '',\r\n        description: '',\r\n        video: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData () {\r\n            await loadHelps()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const loadHelps = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const helpList = await list()\r\n            setRecords(helpList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            title: '',\r\n            description: '',\r\n            video: ''\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n        setRecord({\r\n            id: data.id,\r\n            title: data.title || '',\r\n            description: data.description || '',\r\n            video: data.video || ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <HelpManagerForm \r\n                        initialValue={record} \r\n                        onDelete={handleOpenDeleteDialog} \r\n                        onSubmit={handleSubmit} \r\n                        onCancel={handleCancel} \r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <HelpsManagerGrid \r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import api from \"../../services/api\";\r\n\r\nconst useSettings = () => {\r\n\r\n    const getAll = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/settings',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/settings/${data.key}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n\t\tgetAll,\r\n        update\r\n    }\r\n}\r\n\r\nexport default useSettings;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Title from \"../Title\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\nimport { Tabs, Tab } from \"@material-ui/core\";\r\n\r\n//import 'react-toastify/dist/ReactToastify.css';\r\n \r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  tab: {\r\n    backgroundColor: theme.palette.options,  //DARK MODE PLW DESIGN//\r\n    borderRadius: 4,\r\n    width: \"100%\",\r\n    \"& .MuiTab-wrapper\": {\r\n      color: theme.palette.fontecor,\r\n    },   //DARK MODE PLW DESIGN//\r\n    \"& .MuiTabs-flexContainer\": {\r\n      justifyContent: \"center\"\r\n    }\r\n\r\n\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 12,\r\n    width: \"100%\",\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n}));\r\n\r\nexport default function Options(props) {\r\n  const { settings, scheduleTypeChanged } = props;\r\n  const classes = useStyles();\r\n  const [userRating, setUserRating] = useState(\"disabled\");\r\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\r\n  const [callType, setCallType] = useState(\"enabled\");\r\n  const [chatbotType, setChatbotType] = useState(\"\");\r\n  const [CheckMsgIsGroup, setCheckMsgIsGroupType] = useState(\"enabled\");\r\n\r\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\r\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\r\n  const [loadingCallType, setLoadingCallType] = useState(false);\r\n  const [loadingChatbotType, setLoadingChatbotType] = useState(false);\r\n  const [loadingCheckMsgIsGroup, setCheckMsgIsGroup] = useState(false);\r\n\r\n\r\n  const [ipixcType, setIpIxcType] = useState(\"\");\r\n  const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\r\n  const [tokenixcType, setTokenIxcType] = useState(\"\");\r\n  const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\r\n\r\n  const [ipmkauthType, setIpMkauthType] = useState(\"\");\r\n  const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\r\n  const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\r\n  const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\r\n  const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\r\n  const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\r\n\r\n  const [asaasType, setAsaasType] = useState(\"\");\r\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\r\n  \r\n  // recursos a mais da plw design\r\n\r\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"disabled\");\r\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\r\n  \r\n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"disabled\");\r\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\r\n  \r\n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"disabled\");\r\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\r\n\r\n  const { update } = useSettings();\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(settings) && settings.length) {\r\n      const userRating = settings.find((s) => s.key === \"userRating\");\r\n      if (userRating) {\r\n        setUserRating(userRating.value);\r\n      }\r\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\r\n      if (scheduleType) {\r\n        setScheduleType(scheduleType.value);\r\n      }\r\n      const callType = settings.find((s) => s.key === \"call\");\r\n      if (callType) {\r\n        setCallType(callType.value);\r\n      }\r\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\r\n      if (CheckMsgIsGroup) {\r\n        setCheckMsgIsGroupType(CheckMsgIsGroup.value);\r\n      }\r\n\t  \r\n\t  {/*PLW DESIGN SAUDAÇÃO*/}\r\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\r\n      if (SendGreetingAccepted) {\r\n        setSendGreetingAccepted(SendGreetingAccepted.value);\r\n      }\t \r\n\t  {/*PLW DESIGN SAUDAÇÃO*/}\t \r\n\t  \r\n\t  {/*TRANSFERIR TICKET*/}\t\r\n\t  const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\r\n      if (SettingsTransfTicket) {\r\n        setSettingsTransfTicket(SettingsTransfTicket.value);\r\n      }\r\n\t  {/*TRANSFERIR TICKET*/}\r\n\r\n      const sendGreetingMessageOneQueues = settings.find((s) => s.key === \"sendGreetingMessageOneQueues\");\r\n      if (sendGreetingMessageOneQueues) {\r\n        setSendGreetingMessageOneQueues(sendGreetingMessageOneQueues.value)\r\n      }\t  \r\n\t  \r\n      const chatbotType = settings.find((s) => s.key === \"chatBotType\");\r\n      if (chatbotType) {\r\n        setChatbotType(chatbotType.value);\r\n      }\r\n\r\n      const ipixcType = settings.find((s) => s.key === \"ipixc\");\r\n      if (ipixcType) {\r\n        setIpIxcType(ipixcType.value);\r\n      }\r\n\r\n      const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\r\n      if (tokenixcType) {\r\n        setTokenIxcType(tokenixcType.value);\r\n      }\r\n\r\n      const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\r\n      if (ipmkauthType) {\r\n        setIpMkauthType(ipmkauthType.value);\r\n      }\r\n\r\n      const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\r\n      if (clientidmkauthType) {\r\n        setClientIdMkauthType(clientidmkauthType.value);\r\n      }\r\n\r\n      const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\r\n      if (clientsecretmkauthType) {\r\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\r\n      }\r\n\r\n      const asaasType = settings.find((s) => s.key === \"asaas\");\r\n      if (asaasType) {\r\n        setAsaasType(asaasType.value);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [settings]);\r\n\r\n  async function handleChangeUserRating(value) {\r\n    setUserRating(value);\r\n    setLoadingUserRating(true);\r\n    await update({\r\n      key: \"userRating\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingUserRating(false);\r\n  }\r\n  \r\n    async function handleSendGreetingMessageOneQueues(value) {\r\n    setSendGreetingMessageOneQueues(value);\r\n    setLoadingSendGreetingMessageOneQueues(true);\r\n    await update({\r\n      key: \"sendGreetingMessageOneQueues\",\r\n      value,\r\n    });\r\n\ttoast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingSendGreetingMessageOneQueues(false);\r\n  }\r\n\r\n  async function handleScheduleType(value) {\r\n    setScheduleType(value);\r\n    setLoadingScheduleType(true);\r\n    await update({\r\n      key: \"scheduleType\",\r\n      value,\r\n    });\r\n    //toast.success(\"Oraçãpeo atualizada com sucesso.\");\r\n    toast.success('Operação atualizada com sucesso.', {\r\n      position: \"top-right\",\r\n      autoClose: 2000,\r\n      hideProgressBar: false,\r\n      closeOnClick: true,\r\n      pauseOnHover: false,\r\n      draggable: true,\r\n      theme: \"light\",\r\n      });\r\n    setLoadingScheduleType(false);\r\n    if (typeof scheduleTypeChanged === \"function\") {\r\n      scheduleTypeChanged(value);\r\n    }\r\n  }\r\n\r\n  async function handleCallType(value) {\r\n    setCallType(value);\r\n    setLoadingCallType(true);\r\n    await update({\r\n      key: \"call\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingCallType(false);\r\n  }\r\n\r\n  async function handleChatbotType(value) {\r\n    setChatbotType(value);\r\n    setLoadingChatbotType(true);\r\n    await update({\r\n      key: \"chatBotType\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingChatbotType(false);\r\n  }\r\n\r\n  async function handleGroupType(value) {\r\n    setCheckMsgIsGroupType(value);\r\n    setCheckMsgIsGroup(true);\r\n    await update({\r\n      key: \"CheckMsgIsGroup\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setCheckMsgIsGroupType(false);\r\n    /*     if (typeof scheduleTypeChanged === \"function\") {\r\n          scheduleTypeChanged(value);\r\n        } */\r\n  }\r\n  \r\n  {/*NOVO CÓDIGO*/}  \r\n  async function handleSendGreetingAccepted(value) {\r\n    setSendGreetingAccepted(value);\r\n    setLoadingSendGreetingAccepted(true);\r\n    await update({\r\n      key: \"sendGreetingAccepted\",\r\n      value,\r\n    });\r\n\ttoast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingSendGreetingAccepted(false);\r\n  }  \r\n  \r\n  \r\n  {/*NOVO CÓDIGO*/}    \r\n\r\n  async function handleSettingsTransfTicket(value) {\r\n    setSettingsTransfTicket(value);\r\n    setLoadingSettingsTransfTicket(true);\r\n    await update({\r\n      key: \"sendMsgTransfTicket\",\r\n      value,\r\n    });\r\n\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingSettingsTransfTicket(false);\r\n  } \r\n \r\n  async function handleChangeIPIxc(value) {\r\n    setIpIxcType(value);\r\n    setLoadingIpIxcType(true);\r\n    await update({\r\n      key: \"ipixc\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingIpIxcType(false);\r\n  }\r\n\r\n  async function handleChangeTokenIxc(value) {\r\n    setTokenIxcType(value);\r\n    setLoadingTokenIxcType(true);\r\n    await update({\r\n      key: \"tokenixc\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingTokenIxcType(false);\r\n  }\r\n\r\n  async function handleChangeIpMkauth(value) {\r\n    setIpMkauthType(value);\r\n    setLoadingIpMkauthType(true);\r\n    await update({\r\n      key: \"ipmkauth\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingIpMkauthType(false);\r\n  }\r\n\r\n  async function handleChangeClientIdMkauth(value) {\r\n    setClientIdMkauthType(value);\r\n    setLoadingClientIdMkauthType(true);\r\n    await update({\r\n      key: \"clientidmkauth\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingClientIdMkauthType(false);\r\n  }\r\n\r\n  async function handleChangeClientSecrectMkauth(value) {\r\n    setClientSecrectMkauthType(value);\r\n    setLoadingClientSecrectMkauthType(true);\r\n    await update({\r\n      key: \"clientsecretmkauth\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingClientSecrectMkauthType(false);\r\n  }\r\n\r\n  async function handleChangeAsaas(value) {\r\n    setAsaasType(value);\r\n    setLoadingAsaasType(true);\r\n    await update({\r\n      key: \"asaas\",\r\n      value,\r\n    });\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n    setLoadingAsaasType(false);\r\n  }\r\n  return (\r\n    <>\r\n      <Grid spacing={3} container>\r\n        {/* <Grid xs={12} item>\r\n                    <Title>Configurações Gerais</Title>\r\n                </Grid> */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\r\n            <Select\r\n              labelId=\"ratings-label\"\r\n              value={userRating}\r\n              onChange={async (e) => {\r\n                handleChangeUserRating(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingUserRating && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"schedule-type-label\">\r\n              Gerenciamento de Expediente\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"schedule-type-label\"\r\n              value={scheduleType}\r\n              onChange={async (e) => {\r\n                handleScheduleType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\r\n              <MenuItem value={\"queue\"}>Fila</MenuItem>\r\n              <MenuItem value={\"company\"}>Empresa</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"group-type-label\">\r\n              Ignorar Mensagens de Grupos\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"group-type-label\"\r\n              value={CheckMsgIsGroup}\r\n              onChange={async (e) => {\r\n                handleGroupType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desativado</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Ativado</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"call-type-label\">\r\n              Aceitar Chamada\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"call-type-label\"\r\n              value={callType}\r\n              onChange={async (e) => {\r\n                handleCallType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Não Aceitar</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Aceitar</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingCallType && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"chatbot-type-label\">\r\n              Tipo Chatbot\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"chatbot-type-label\"\r\n              value={chatbotType}\r\n              onChange={async (e) => {\r\n                handleChatbotType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"text\"}>Texto</MenuItem>\r\n\t\t\t {/*<MenuItem value={\"button\"}>Botão</MenuItem>*/}\r\n             {/*<MenuItem value={\"list\"}>Lista</MenuItem>*/}\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingChatbotType && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o ticket</InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingAccepted-label\"\r\n              value={SendGreetingAccepted}\r\n              onChange={async (e) => {\r\n                handleSendGreetingAccepted(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\r\n\t\t\r\n\t\t{/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferencia de Fila/agente</InputLabel>\r\n            <Select\r\n              labelId=\"sendMsgTransfTicket-label\"\r\n              value={SettingsTransfTicket}\r\n              onChange={async (e) => {\r\n                handleSettingsTransfTicket(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\t\t\r\n\t\t{/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">Enviar saudação quando houver somente 1 fila</InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingMessageOneQueues-label\"\r\n              value={sendGreetingMessageOneQueues}\r\n              onChange={async (e) => {\r\n                handleSendGreetingMessageOneQueues(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\r\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingMessageOneQueues && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\t\t\r\n      </Grid>\r\n      <Grid spacing={3} container>\r\n        <Tabs\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          scrollButtons=\"on\"\r\n          variant=\"scrollable\"\r\n          className={classes.tab}\r\n          style={{\r\n            marginBottom: 20,\r\n            marginTop: 20\r\n          }}\r\n        >\r\n          <Tab\r\n\r\n            label=\"INTEGRAÇÕES\" />\r\n\r\n        </Tabs>\r\n\r\n      </Grid>\r\n      {/*-----------------ASAAS-----------------*/}\r\n      <Grid spacing={3} container\r\n        style={{ marginBottom: 10 }}>\r\n        <Tabs\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          scrollButtons=\"on\"\r\n          variant=\"scrollable\"\r\n          className={classes.tab}\r\n        >\r\n          <Tab label=\"ASAAS\" />\r\n\r\n        </Tabs>\r\n        <Grid xs={12} sm={12} md={12} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"asaas\"\r\n              name=\"asaas\"\r\n              margin=\"dense\"\r\n              label=\"Token Asaas\"\r\n              variant=\"outlined\"\r\n              value={asaasType}\r\n              onChange={async (e) => {\r\n                handleChangeAsaas(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingAsaasType && \"Atualizando...\"}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\r\n\r\nOnlyForSuperUser.defaultProps = {\r\n    user: {},\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\r\n\r\nimport TabPanel from \"../../components/TabPanel\";\r\n\r\nimport SchedulesForm from \"../../components/SchedulesForm\";\r\nimport CompaniesManager from \"../../components/CompaniesManager\";\r\nimport PlansManager from \"../../components/PlansManager\";\r\nimport HelpsManager from \"../../components/HelpsManager\";\r\nimport Options from \"../../components/Settings/Options\";\r\n\r\nimport { i18n } from \"../../translate/i18n.js\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport useAuth from \"../../hooks/useAuth.js\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  mainPaper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    flex: 1,\r\n  },\r\n  tab: {\r\n    backgroundColor: theme.palette.options,\r\n    borderRadius: 4,\r\n  },\r\n  paper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  control: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SettingsCustom = () => {\r\n  const classes = useStyles();\r\n  const [tab, setTab] = useState(\"options\");\r\n  const [schedules, setSchedules] = useState([]);\r\n  const [company, setCompany] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [settings, setSettings] = useState({});\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n\r\n  const { getCurrentUserInfo } = useAuth();\r\n  const { find, updateSchedules } = useCompanies();\r\n  const { getAll: getAllSettings } = useSettings();\r\n\r\n  useEffect(() => {\r\n    async function findData() {\r\n      setLoading(true);\r\n      try {\r\n        const companyId = localStorage.getItem(\"companyId\");\r\n        const company = await find(companyId);\r\n        const settingList = await getAllSettings();\r\n        setCompany(company);\r\n        setSchedules(company.schedules);\r\n        setSettings(settingList);\r\n\r\n        if (Array.isArray(settingList)) {\r\n          const scheduleType = settingList.find(\r\n            (d) => d.key === \"scheduleType\"\r\n          );\r\n          if (scheduleType) {\r\n            setSchedulesEnabled(scheduleType.value === \"company\");\r\n          }\r\n        }\r\n\r\n        const user = await getCurrentUserInfo();\r\n        setCurrentUser(user);\r\n      } catch (e) {\r\n        toast.error(e);\r\n      }\r\n      setLoading(false);\r\n    }\r\n    findData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n      async function findData() {\r\n        setLoading(true);\r\n        try {\r\n          const companyId = localStorage.getItem(\"companyId\");\r\n          const company = await find(companyId);\r\n          const settingList = await getAllSettings();\r\n          setCompany(company);\r\n          setSchedules(company.schedules);\r\n          setSettings(settingList);\r\n  \r\n          if (Array.isArray(settingList)) {\r\n            const scheduleType = settingList.find(\r\n              (d) => d.key === \"scheduleType\"\r\n            );\r\n            if (scheduleType) {\r\n              setSchedulesEnabled(scheduleType.value === \"company\");\r\n            }\r\n          }\r\n  \r\n          const user = await getCurrentUserInfo();\r\n          setCurrentUser(user);\r\n        } catch (e) {\r\n          toast.error(e);\r\n        }\r\n        setLoading(false);\r\n      }\r\n      findData();\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleSubmitSchedules = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      setSchedules(data);\r\n      await updateSchedules({ id: company.id, schedules: data });\r\n      toast.success(\"Horários atualizados com sucesso.\");\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const isSuper = () => {\r\n    return currentUser.super;\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.root}>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"settings.title\")}</Title>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} elevation={1}>\r\n        <Tabs\r\n          value={tab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          scrollButtons=\"on\"\r\n          variant=\"scrollable\"\r\n          onChange={handleTabChange}\r\n          className={classes.tab}\r\n        >\r\n          <Tab label=\"Opções\" value={\"options\"} />\r\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\r\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\r\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\r\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\r\n        </Tabs>\r\n        <Paper className={classes.paper} elevation={0}>\r\n          <TabPanel\r\n            className={classes.container}\r\n            value={tab}\r\n            name={\"schedules\"}\r\n          >\r\n            <SchedulesForm\r\n              loading={loading}\r\n              onSubmit={handleSubmitSchedules}\r\n              initialValues={schedules}\r\n            />\r\n          </TabPanel>\r\n          <OnlyForSuperUser\r\n            user={currentUser}\r\n            yes={() => (\r\n              <TabPanel\r\n                className={classes.container}\r\n                value={tab}\r\n                name={\"companies\"}\r\n              >\r\n                <CompaniesManager />\r\n              </TabPanel>\r\n            )}\r\n          />\r\n          <OnlyForSuperUser\r\n            user={currentUser}\r\n            yes={() => (\r\n              <TabPanel\r\n                className={classes.container}\r\n                value={tab}\r\n                name={\"plans\"}\r\n              >\r\n                <PlansManager />\r\n              </TabPanel>\r\n            )}\r\n          />\r\n          <OnlyForSuperUser\r\n            user={currentUser}\r\n            yes={() => (\r\n              <TabPanel\r\n                className={classes.container}\r\n                value={tab}\r\n                name={\"helps\"}\r\n              >\r\n                <HelpsManager />\r\n              </TabPanel>\r\n            )}\r\n          />\r\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\r\n            <Options\r\n              settings={settings}\r\n              scheduleTypeChanged={(value) =>\r\n                setSchedulesEnabled(value === \"company\")\r\n              }\r\n            />\r\n          </TabPanel>\r\n        </Paper>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default SettingsCustom;\r\n","import React from 'react';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nexport default function InputField(props) {\r\n  const { errorText, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n\r\n  function _renderHelperText() {\r\n    const [touched, error] = at(meta, 'touched', 'error');\r\n    if (touched && error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TextField\r\n      type=\"text\"\r\n      error={meta.touched && meta.error && true}\r\n      helperText={_renderHelperText()}\r\n      {...field}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport {\r\n  InputLabel,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText\r\n} from '@material-ui/core';\r\n\r\nfunction SelectField(props) {\r\n  const { label, data, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n  const { value: selectedValue } = field;\r\n  const [touched, error] = at(meta, 'touched', 'error');\r\n  const isError = touched && error && true;\r\n  function _renderHelperText() {\r\n    if (isError) {\r\n      return <FormHelperText>{error}</FormHelperText>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormControl {...rest} error={isError}>\r\n      <InputLabel>{label}</InputLabel>\r\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\r\n        {data.map((item, index) => (\r\n          <MenuItem key={index} value={item.value}>\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {_renderHelperText()}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectField.defaultProps = {\r\n  data: []\r\n};\r\n\r\nSelectField.propTypes = {\r\n  data: PropTypes.array.isRequired\r\n};\r\n\r\nexport default SelectField;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { InputField, SelectField } from \"../../FormFields\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nconst countries = [\r\n  {\r\n    value: \"BR\",\r\n    label: \"Brasil\",\r\n  },\r\n  {\r\n    value: \"usa\",\r\n    label: \"United States\",\r\n  },\r\n];\r\n\r\nexport default function AddressForm(props) {\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const [billingName, setBillingName] = useState(user.company.billingName);\r\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\r\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\r\n  const [addressState, setAddressState] = useState(user.company.addressState);\r\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\r\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\r\n\r\n  const {\r\n    formField: {\r\n      firstName,\r\n      address1,\r\n      city,\r\n      state,\r\n      zipcode,\r\n      country,\r\n    },\r\n    setFieldValue\r\n  } = props;\r\n  useEffect(() => {\r\n    setFieldValue(\"firstName\", billingName)\r\n    setFieldValue(\"zipcode\", addressZipCode)\r\n    setFieldValue(\"address2\", addressStreet)\r\n    setFieldValue(\"state\", addressState)\r\n    setFieldValue(\"city\", addressCity)\r\n    setFieldValue(\"country\", addressDistrict)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Vamos precisar de algumas informações\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n\r\n        <Grid item xs={6} sm={6}>\r\n          <InputField name={firstName.name} label={firstName.label} fullWidth\r\n            value={billingName}\r\n            onChange={(e) => {\r\n              setBillingName(e.target.value)\r\n              setFieldValue(\"firstName\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6} sm={6}>\r\n          <SelectField\r\n            name={country.name}\r\n            label={country.label}\r\n            data={countries}\r\n            fullWidth\r\n            value={addressDistrict}\r\n            onChange={(e) => {\r\n              setAddressDistrict(e.target.value)\r\n              setFieldValue(\"country\", e.target.value)\r\n            }\r\n            }\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <InputField\r\n            name={zipcode.name}\r\n            label={zipcode.label}\r\n            fullWidth\r\n            value={addressZipCode}\r\n            onChange={(e) => {\r\n              setAddressZipCode(e.target.value)\r\n              setFieldValue(\"zipcode\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <InputField\r\n            name={address1.name}\r\n            label={address1.label}\r\n            fullWidth\r\n            value={addressStreet}\r\n            onChange={(e) => {\r\n              setAddressStreet(e.target.value)\r\n              setFieldValue(\"address2\", e.target.value)\r\n\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={4}>\r\n          <InputField\r\n            name={state.name}\r\n            label={state.label}\r\n            fullWidth\r\n            value={addressState}\r\n            onChange={(e) => {\r\n              setAddressState(e.target.value)\r\n              setFieldValue(\"state\", e.target.value)\r\n\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <InputField\r\n            name={city.name}\r\n            label={city.label}\r\n            fullWidth\r\n            value={addressCity}\r\n            onChange={(e) => {\r\n              setAddressCity(e.target.value)\r\n              setFieldValue(\"city\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useReducer } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport StarIcon from '@material-ui/icons/StarBorder';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MinimizeIcon from '@material-ui/icons/Minimize';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport usePlans from \"../../../hooks/usePlans\";\r\nimport useCompanies from \"../../../hooks/useCompanies\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    ul: {\r\n      margin: 0,\r\n      padding: 0,\r\n      listStyle: 'none',\r\n    },\r\n  },\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n\r\n  cardHeader: {\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\r\n  },\r\n  cardPricing: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'baseline',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  footer: {\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    marginTop: theme.spacing(8),\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.up('sm')]: {\r\n      paddingTop: theme.spacing(6),\r\n      paddingBottom: theme.spacing(6),\r\n    },\r\n  },\r\n\r\n  customCard: {\r\n    display: \"flex\",\r\n    marginTop: \"16px\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  }\r\n}));\r\n\r\n\r\nexport default function Pricing(props) {\r\n  const {\r\n    setFieldValue,\r\n    setActiveStep,\r\n    activeStep,\r\n  } = props;\r\n\r\n  const handleChangeAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11.00;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20.00;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  const { list, finder } = usePlans();\r\n  const { find } = useCompanies();\r\n\r\n  const classes = useStyles();\r\n  const [usersPlans, setUsersPlans] = React.useState(3);\r\n  const [companiesPlans, setCompaniesPlans] = useState(0);\r\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const companyId = localStorage.getItem(\"companyId\");\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadCompanies();\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n  const loadCompanies = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companiesList = await find(companyId);\r\n      setCompaniesPlans(companiesList.planId);\r\n      await loadPlans(companiesList.planId);\r\n    } catch (e) {\r\n      console.log(e);\r\n      // toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n  const loadPlans = async (companiesPlans) => {\r\n    setLoading(true);\r\n    try {\r\n      const plansCompanies = await finder(companiesPlans);\r\n      const plans = []\r\n\r\n      //plansCompanies.forEach((plan) => {\r\n      plans.push({\r\n        title: plansCompanies.name,\r\n        planId: plansCompanies.id,\r\n        price: plansCompanies.value,\r\n        description: [\r\n          `${plansCompanies.users} Usuários`,\r\n          `${plansCompanies.connections} Conexão`,\r\n          `${plansCompanies.queues} Filas`\r\n        ],\r\n        users: plansCompanies.users,\r\n        connections: plansCompanies.connections,\r\n        queues: plansCompanies.queues,\r\n        buttonText: 'SELECIONAR',\r\n        buttonVariant: 'outlined',\r\n      })\r\n\r\n      // setStoragePlans(data);\r\n      //});\r\n      setStoragePlans(plans);\r\n    } catch (e) {\r\n      console.log(e);\r\n      // toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n\r\n  const tiers = storagePlans\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={3}>\r\n        {tiers.map((tier) => (\r\n          // Enterprise card is full width at sm breakpoint\r\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 12} md={12}>\r\n            <Card>\r\n              <CardHeader\r\n                title={tier.title}\r\n                subheader={tier.subheader}\r\n                titleTypographyProps={{ align: 'center' }}\r\n                subheaderTypographyProps={{ align: 'center' }}\r\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\r\n                className={classes.cardHeader}\r\n              />\r\n              <CardContent>\r\n                <div className={classes.cardPricing}>\r\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\r\n                    {\r\n\r\n                      <React.Fragment>\r\n                        R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\r\n                      </React.Fragment>\r\n                    }\r\n                  </Typography>\r\n                  <Typography variant=\"h6\" color=\"textSecondary\">\r\n                    /mês\r\n                  </Typography>\r\n                </div>\r\n                <ul>\r\n                  {tier.description.map((line) => (\r\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\r\n                      {line}\r\n                    </Typography>\r\n                  ))}\r\n                </ul>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button\r\n                  fullWidth\r\n                  variant={tier.buttonVariant}\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    if (tier.custom) {\r\n                      setFieldValue(\"plan\", JSON.stringify({\r\n                        users: usersPlans,\r\n                        connections: connectionsPlans,\r\n                        price: customValuePlans,\r\n                      }));\r\n                    } else {\r\n                      setFieldValue(\"plan\", JSON.stringify(tier));\r\n                    }\r\n                    setActiveStep(activeStep + 1);\r\n                  }\r\n                  }\r\n                >\r\n                  {tier.buttonText}\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  listItem: {\r\n    padding: theme.spacing(1, 0)\r\n  },\r\n  total: {\r\n    fontWeight: '700'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nfunction PaymentDetails(props) {\r\n  const { formValues } = props;\r\n  const classes = useStyles();\r\n  const { plan } = formValues;\r\n\r\n  const newPlan = JSON.parse(plan);\r\n  const { users, connections, price } = newPlan;\r\n  return (\r\n    <Grid item xs={12} sm={12}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n        Detalhes do plano\r\n      </Typography>\r\n      <Typography gutterBottom>Usuários: {users}</Typography>\r\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\r\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\r\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import ReviewOrder from './ReviewOrder';\r\nexport default ReviewOrder;\r\n","import React from 'react';\r\nimport { useFormikContext } from 'formik';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport ShippingDetails from './ShippingDetails';\r\nimport PaymentDetails from './PaymentDetails';\r\n\r\nexport default function ReviewOrder() {\r\n  const { values: formValues } = useFormikContext();\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Resumo da assinatura\r\n      </Typography>\r\n      <Grid container spacing={2}>\r\n        <ShippingDetails formValues={formValues} />\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    @media (max-width: 768px) {\r\n      flex-direction: column;\r\n      .checkout-buttons {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n        width: 100%;\r\n\r\n        button {\r\n          width: 100%;\r\n          margin-top: 16px;\r\n          margin-left: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    button {\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n`;\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #333;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    color: #333;\r\n    font-size: 28px;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const SuccessContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  > h2 {\r\n    text-align: center;\r\n  }\r\n\r\n  > svg {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  > span {\r\n    margin-top: 24px;\r\n    text-align: center;\r\n  }\r\n\r\n  > p,\r\n  strong {\r\n    margin-top: 8px;\r\n    font-size: 9px;\r\n    color: #999;\r\n  }\r\n\r\n  .copy-button {\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    user-select: none;\r\n    min-height: 56px;\r\n    display: inline-flex;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    background-color: #f9f9f9;\r\n    color: #000;\r\n    -webkit-appearance: none !important;\r\n    outline: none;\r\n    margin-top: 16px;\r\n    width: 256px;\r\n    font-weight: 600;\r\n    text-transform: uppercase;\r\n    border: none;\r\n\r\n    > span {\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CheckoutWrapper = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto 0;\r\n  max-width: 1110px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  padding: 50px 95px;\r\n  background: #fff;\r\n  @media (max-width: 768px) {\r\n    padding: 16px 24px;\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QRCode from 'react-qr-code';\r\nimport { SuccessContent, Total } from './style';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\r\nimport { socketConnection } from \"../../../services/socket\";\r\nimport { useDate } from \"../../../hooks/useDate\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction CheckoutSuccess(props) {\r\n\r\n  const { pix } = props;\r\n  const [pixString,] = useState(pix.qrcode.qrcode);\r\n  const [copied, setCopied] = useState(false);\r\n  const history = useHistory();\r\n\r\n  const { dateToClient } = useDate();\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n    socket.on(`company-${companyId}-payment`, (data) => {\r\n\r\n      if (data.action === \"CONCLUIDA\") {\r\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\r\n        setTimeout(() => {\r\n          history.push(\"/\");\r\n        }, 4000);\r\n      }\r\n    });\r\n  }, [history]);\r\n\r\n  const handleCopyQR = () => {\r\n    setTimeout(() => {\r\n      setCopied(false);\r\n    }, 1 * 1000);\r\n    setCopied(true);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Total>\r\n        <span>TOTAL</span>\r\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\r\n      </Total>\r\n      <SuccessContent>\r\n        <QRCode value={pixString} />\r\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\r\n          <button className=\"copy-button\" type=\"button\">\r\n            {copied ? (\r\n              <>\r\n                <span>Copiado</span>\r\n                <FaCheckCircle size={18} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>Copiar código QR</span>\r\n                <FaCopy size={18} />\r\n              </>\r\n            )}\r\n          </button>\r\n        </CopyToClipboard>\r\n        <span>\r\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\r\n          código Pix acima :)\r\n        </span>\r\n      </SuccessContent>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CheckoutSuccess;\r\n","import CheckoutSuccess from './CheckoutSuccess';\r\nexport default CheckoutSuccess;\r\n","export default {\r\n  formId: 'checkoutForm',\r\n  formField: {\r\n    firstName: {\r\n      name: 'firstName',\r\n      label: 'Nome completo*',\r\n      requiredErrorMsg: 'O nome completo é obrigatório'\r\n    },\r\n    lastName: {\r\n      name: 'lastName',\r\n      label: 'Last name*',\r\n      requiredErrorMsg: 'Last name is required'\r\n    },\r\n    address1: {\r\n      name: 'address2',\r\n      label: 'Endereço*',\r\n      requiredErrorMsg: 'O Endereço é obrigatório'\r\n    },\r\n\r\n    city: {\r\n      name: 'city',\r\n      label: 'Cidade*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    state: {\r\n      name: 'state',\r\n      label: 'Estado*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    zipcode: {\r\n      name: 'zipcode',\r\n      label: 'CEP*',\r\n      requiredErrorMsg: 'CEP é obrigatório',\r\n      invalidErrorMsg: 'Formato de CEP inválido'\r\n    },\r\n    country: {\r\n      name: 'country',\r\n      label: 'País*',\r\n      requiredErrorMsg: 'País é obrigatório'\r\n    },\r\n    useAddressForPaymentDetails: {\r\n      name: 'useAddressForPaymentDetails',\r\n      label: 'Use this address for payment details'\r\n    },\r\n    invoiceId: {\r\n      name: 'invoiceId',\r\n      label: 'Use this invoiceId'\r\n    },\r\n    nameOnCard: {\r\n      name: 'nameOnCard',\r\n      label: 'Name on card*',\r\n      requiredErrorMsg: 'Name on card is required'\r\n    },\r\n    cardNumber: {\r\n      name: 'cardNumber',\r\n      label: 'Card number*',\r\n      requiredErrorMsg: 'Card number is required',\r\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\r\n    },\r\n    expiryDate: {\r\n      name: 'expiryDate',\r\n      label: 'Expiry date*',\r\n      requiredErrorMsg: 'Expiry date is required',\r\n      invalidErrorMsg: 'Expiry date is not valid'\r\n    },\r\n    cvv: {\r\n      name: 'cvv',\r\n      label: 'CVV*',\r\n      requiredErrorMsg: 'CVV is required',\r\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\r\n    }\r\n  }\r\n};\r\n","import * as Yup from 'yup';\r\nimport checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    address1,\r\n    city,\r\n    zipcode,\r\n    country,\r\n  }\r\n} = checkoutFormModel;\r\n\r\n\r\nexport default [\r\n  Yup.object().shape({\r\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\r\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\r\n    [city.name]: Yup.string()\r\n      .nullable()\r\n      .required(`${city.requiredErrorMsg}`),\r\n    [zipcode.name]: Yup.string()\r\n      .required(`${zipcode.requiredErrorMsg}`),\r\n\r\n    [country.name]: Yup.string()\r\n      .nullable()\r\n      .required(`${country.requiredErrorMsg}`)\r\n  }),\r\n\r\n];\r\n","import checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    lastName,\r\n    address1,\r\n    city,\r\n    state,\r\n    zipcode,\r\n    country,\r\n    useAddressForPaymentDetails,\r\n    nameOnCard,\r\n    cardNumber,\r\n    invoiceId,\r\n    cvv\r\n  }\r\n} = checkoutFormModel;\r\n\r\nexport default {\r\n  [firstName.name]: '',\r\n  [lastName.name]: '',\r\n  [address1.name]: '',\r\n  [city.name]: '',\r\n  [state.name]: '',\r\n  [zipcode.name]: '',\r\n  [country.name]: '',\r\n  [useAddressForPaymentDetails.name]: false,\r\n  [nameOnCard.name]: '',\r\n  [cardNumber.name]: '',\r\n  [invoiceId.name]: '',\r\n  [cvv.name]: ''\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5)\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  wrapper: {\r\n    margin: theme.spacing(1),\r\n    position: 'relative'\r\n  },\r\n  buttonProgress: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%'\r\n  }\r\n}));\r\n","import CheckoutPage from './CheckoutPage';\r\nexport default CheckoutPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n  Typography,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form } from \"formik\";\r\n\r\nimport AddressForm from \"./Forms/AddressForm\";\r\nimport PaymentForm from \"./Forms/PaymentForm\";\r\nimport ReviewOrder from \"./ReviewOrder\";\r\nimport CheckoutSuccess from \"./CheckoutSuccess\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n\r\nimport validationSchema from \"./FormModel/validationSchema\";\r\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\r\nimport formInitialValues from \"./FormModel/formInitialValues\";\r\n\r\nimport useStyles from \"./styles\";\r\nimport Invoices from \"../../pages/Financeiro\";\r\n\r\n\r\nexport default function CheckoutPage(props) {\r\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\r\n  const { formId, formField } = checkoutFormModel;\r\n  \r\n  \r\n  \r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(1);\r\n  const [datePayment, setDatePayment] = useState(null);\r\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\r\n  const currentValidationSchema = validationSchema[activeStep];\r\n  const isLastStep = activeStep === steps.length - 1;\r\n  const { user } = useContext(AuthContext);\r\n\r\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\r\n\r\n  switch (step) {\r\n    case 0:\r\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\r\n    case 1:\r\n      return <PaymentForm \r\n      formField={formField} \r\n      setFieldValue={setFieldValue} \r\n      setActiveStep={setActiveStep} \r\n      activeStep={step} \r\n      invoiceId={invoiceId}\r\n      values={values}\r\n      />;\r\n    case 2:\r\n      return <ReviewOrder />;\r\n    default:\r\n      return <div>Not Found</div>;\r\n  }\r\n}\r\n\r\n\r\n  async function _submitForm(values, actions) {\r\n    try {\r\n      const plan = JSON.parse(values.plan);\r\n      const newValues = {\r\n        firstName: values.firstName,\r\n        lastName: values.lastName,\r\n        address2: values.address2,\r\n        city: values.city,\r\n        state: values.state,\r\n        zipcode: values.zipcode,\r\n        country: values.country,\r\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\r\n        nameOnCard: values.nameOnCard,\r\n        cardNumber: values.cardNumber,\r\n        cvv: values.cvv,\r\n        plan: values.plan,\r\n        price: plan.price,\r\n        users: plan.users,\r\n        connections: plan.connections,\r\n        invoiceId: invoiceId\r\n      }\r\n\r\n      const { data } = await api.post(\"/subscription\", newValues);\r\n      setDatePayment(data)\r\n      actions.setSubmitting(false);\r\n      setActiveStep(activeStep + 1);\r\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  function _handleSubmit(values, actions) {\r\n    if (isLastStep) {\r\n      _submitForm(values, actions);\r\n    } else {\r\n      setActiveStep(activeStep + 1);\r\n      actions.setTouched({});\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  function _handleBack() {\r\n    setActiveStep(activeStep - 1);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n        Falta pouco!\r\n      </Typography>\r\n      <Stepper activeStep={activeStep} className={classes.stepper}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <React.Fragment>\r\n        {activeStep === steps.length ? (\r\n          <CheckoutSuccess pix={datePayment} />\r\n        ) : (\r\n          <Formik\r\n            initialValues={{\r\n              ...user, \r\n              ...formInitialValues\r\n            }}\r\n            validationSchema={currentValidationSchema}\r\n            onSubmit={_handleSubmit}\r\n          >\r\n            {({ isSubmitting, setFieldValue, values }) => (\r\n              <Form id={formId}>\r\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\r\n\r\n                <div className={classes.buttons}>\r\n                  {activeStep !== 1 && (\r\n                    <Button onClick={_handleBack} className={classes.button}>\r\n                      VOLTAR\r\n                    </Button>\r\n                  )}\r\n                  <div className={classes.wrapper}>\r\n                    {activeStep !== 1 && (\r\n                      <Button\r\n                        disabled={isSubmitting}\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.button}\r\n                      >\r\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\r\n                      </Button>\r\n                    )}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        )}\r\n      </React.Fragment>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport CheckoutPage from \"../CheckoutPage/\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\n\r\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogContent dividers>\r\n          <CheckoutPage\r\n            Invoice={Invoice}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactModal;\r\n","import React, { useState, useEffect, useReducer } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport UserModal from \"../../components/UserModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nimport moment from \"moment\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INVOICES\") {\r\n    const invoices = action.payload;\r\n    const newUsers = [];\r\n\r\n    invoices.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Invoices = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [invoices, dispatch] = useReducer(reducer, []);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n\r\n\r\n  const handleOpenContactModal = (invoices) => {\r\n    setStoragePlans(invoices);\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchInvoices = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/invoices/all\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchInvoices();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n  const rowStyle = (record) => {\r\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\r\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\r\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\r\n    var dias = moment.duration(diff).asDays();    \r\n    if (dias < 0 && record.status !== \"paid\") {\r\n      return { backgroundColor: \"#ffbcbc9c\" };\r\n    }\r\n  };\r\n\r\n  const rowStatus = (record) => {\r\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\r\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\r\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\r\n    var dias = moment.duration(diff).asDays();    \r\n    const status = record.status;\r\n    if (status === \"paid\") {\r\n      return \"Pago\";\r\n    }\r\n    if (dias < 0) {\r\n      return \"Vencido\";\r\n    } else {\r\n      return \"Em Aberto\"\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <MainContainer>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        Invoice={storagePlans}\r\n        contactId={selectedContactId}\r\n\r\n      ></SubscriptionModal>\r\n      <MainHeader>\r\n        <Title>Faturas</Title>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">Id</TableCell>\r\n              <TableCell align=\"center\">Detalhes</TableCell>\r\n              <TableCell align=\"center\">Valor</TableCell>\r\n              <TableCell align=\"center\">Data Venc.</TableCell>\r\n              <TableCell align=\"center\">Status</TableCell>\r\n              <TableCell align=\"center\">Ação</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {invoices.map((invoices) => (\r\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\r\n                  <TableCell align=\"center\">{invoices.id}</TableCell>\r\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\r\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\r\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\r\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {rowStatus(invoices) !== \"Pago\" ?\r\n                      <Button\r\n                        size=\"small\"\r\n                        variant=\"outlined\"\r\n                        color=\"secondary\"\r\n                        onClick={() => handleOpenContactModal(invoices)}\r\n                      >\r\n                        PAGAR\r\n                      </Button> :\r\n                      <Button\r\n                        size=\"small\"\r\n                        variant=\"outlined\" \r\n                        /* color=\"secondary\"\r\n                        disabled */\r\n                      >\r\n                        PAGO \r\n                      </Button>}\r\n\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Invoices;\r\n","import React, { useState, useEffect, useReducer } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport UserModal from \"../../components/UserModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_USERS\") {\r\n    const users = action.payload;\r\n    const newUsers = [];\r\n\r\n    users.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Users = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [users, dispatch] = useReducer(reducer, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-user`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setSelectedUser(user);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    try {\r\n      await api.delete(`/users/${userId}`);\r\n      toast.success(i18n.t(\"users.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\r\n            deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseUserModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        userId={selectedUser && selectedUser.id}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"users.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenUserModal}\r\n          >\r\n            {i18n.t(\"users.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n\t\t\t<TableCell align=\"center\">\r\n                {i18n.t(\"users.table.id\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"users.table.email\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"users.table.profile\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"users.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {users.map((user) => (\r\n                <TableRow key={user.id}>\r\n\t\t\t\t  <TableCell align=\"center\">{user.id}</TableCell>\r\n                  <TableCell align=\"center\">{user.name}</TableCell>\r\n                  <TableCell align=\"center\">{user.email}</TableCell>\r\n                  <TableCell align=\"center\">{user.profile}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditUser(user)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingUser(user);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nimport {CSVLink} from \"react-csv\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [deletingAllContact, setDeletingAllContact] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contacts/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-contact`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  // const handleSaveTicket = async contactId => {\r\n  // \tif (!contactId) return;\r\n  // \tsetLoading(true);\r\n  // \ttry {\r\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\r\n  // \t\t\tcontactId: contactId,\r\n  // \t\t\tuserId: user?.id,\r\n  // \t\t\tstatus: \"open\",\r\n  // \t\t});\r\n  // \t\thistory.push(`/tickets/${ticket.id}`);\r\n  // \t} catch (err) {\r\n  // \t\ttoastError(err);\r\n  // \t}\r\n  // \tsetLoading(false);\r\n  // };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contacts/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n  \r\n    const handleDeleteAllContact = async () => {\r\n    try {\r\n      await api.delete(\"/contacts\");\r\n      toast.success(i18n.t(\"contacts.toasts.deletedAll\"));\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingAllContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber();\r\n  };\r\n\r\n  const handleimportContact = async () => {\r\n    try {\r\n      await api.post(\"/contacts/import\");\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={(ticket) => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n\t\t\t: deletingAllContact ? `${i18n.t(\"contacts.confirmationModal.deleteAllTitle\")}`\r\n            : `${i18n.t(\"Deseja importar os contatos?\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={(e) =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n\t\t\t: deletingAllContact ? handleDeleteAllContact(deletingAllContact)\r\n            : handleimportContact()\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\r\n\t\t  : deletingAllContact ? `${i18n.t(\"contacts.confirmationModal.deleteAllMessage\")}`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"contacts.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => setConfirmOpen(true)}\r\n          >\r\n            {i18n.t(\"contacts.buttons.import\")}\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenContactModal}\r\n          >\r\n            {i18n.t(\"contacts.buttons.add\")}\r\n          </Button>\r\n\r\n         <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'whaticket.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\r\n          <Button\tvariant=\"contained\" color=\"primary\"> \r\n          EXPORTAR CONTATOS \r\n          </Button>\r\n          </CSVLink>\r\n\t\t  \r\n\t\t <Tooltip title={i18n.t(\"contacts.buttons.delete\")}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={(e) => {\r\n                      setConfirmOpen(true);\r\n                      setDeletingAllContact(contacts);\r\n                    }}\r\n                  >\r\n                    <DeleteForeverIcon />\r\n                  </Button>\r\n         </Tooltip>\r\n\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\" />\r\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.whatsapp\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.email\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contacts.map((contact) => (\r\n                <TableRow key={contact.id}>\r\n                  <TableCell style={{ paddingRight: 0 }}>\r\n                    {<Avatar src={contact.profilePicUrl} />}\r\n                  </TableCell>\r\n                  <TableCell>{contact.name}</TableCell>\r\n                  <TableCell align=\"center\">{contact.number}</TableCell>\r\n                  <TableCell align=\"center\">{contact.email}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setContactTicket(contact);\r\n                        setNewTicketModalOpen(true);\r\n                      }}\r\n                    >\r\n                      <WhatsAppIcon />\r\n                    </IconButton>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => hadleEditContact(contact.id)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmOpen(true);\r\n                            setDeletingContact(contact);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton avatar columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","import { Dialog } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport { BlockPicker } from \"react-color\";\r\n\r\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\r\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\r\n\r\n\tconst handleChange = color => {\r\n\t\tsetSelectedColor(color.hex);\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tconst colors = [\r\n\t\t\"#B80000\",\r\n\t\t\"#DB3E00\",\r\n\t\t\"#FCCB00\",\r\n\t\t\"#008B02\",\r\n\t\t\"#006B76\",\r\n\t\t\"#1273DE\",\r\n\t\t\"#004DCF\",\r\n\t\t\"#5300EB\",\r\n\t\t\"#EB9694\",\r\n\t\t\"#FAD0C3\",\r\n\t\t\"#FEF3BD\",\r\n\t\t\"#C1E1C5\",\r\n\t\t\"#BEDADC\",\r\n\t\t\"#C4DEF6\",\r\n\t\t\"#BED3F3\",\r\n\t\t\"#D4C4FB\",\r\n\t\t\"#4D4D4D\",\r\n\t\t\"#999999\",\r\n\t\t\"#F44E3B\",\r\n\t\t\"#FE9200\",\r\n\t\t\"#FCDC00\",\r\n\t\t\"#DBDF00\",\r\n\t\t\"#A4DD00\",\r\n\t\t\"#68CCCA\",\r\n\t\t\"#73D8FF\",\r\n\t\t\"#AEA1FF\",\r\n\t\t\"#FDA1FF\",\r\n\t\t\"#333333\",\r\n\t\t\"#808080\",\r\n\t\t\"#cccccc\",\r\n\t\t\"#D33115\",\r\n\t\t\"#E27300\",\r\n\t\t\"#FCC400\",\r\n\t\t\"#B0BC00\",\r\n\t\t\"#68BC00\",\r\n\t\t\"#16A5A5\",\r\n\t\t\"#009CE0\",\r\n\t\t\"#7B64FF\",\r\n\t\t\"#FA28FF\",\r\n\t\t\"#666666\",\r\n\t\t\"#B3B3B3\",\r\n\t\t\"#9F0500\",\r\n\t\t\"#C45100\",\r\n\t\t\"#FB9E00\",\r\n\t\t\"#808900\",\r\n\t\t\"#194D33\",\r\n\t\t\"#0C797D\",\r\n\t\t\"#0062B1\",\r\n\t\t\"#653294\",\r\n\t\t\"#AB149E\",\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\tonClose={handleClose}\r\n\t\t\taria-labelledby=\"simple-dialog-title\"\r\n\t\t\topen={open}\r\n\t\t>\r\n\t\t\t<BlockPicker\r\n\t\t\t\twidth={\"100%\"}\r\n\t\t\t\ttriangle=\"hide\"\r\n\t\t\t\tcolor={selectedColor}\r\n\t\t\t\tcolors={colors}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\r\n\t\t\t/>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default ColorPicker;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Button, IconButton, StepContent, TextField } from \"@material-ui/core\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    //height: 400,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxHeight: \"20vh\",\r\n    },\r\n  },\r\n  button: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  input: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  addButton: {\r\n    marginTop: theme.spacing(2),\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\r\n  const classes = useStyles();\r\n  const [activeOption, setActiveOption] = useState(-1);\r\n\r\n  const handleOption = (index) => async () => {\r\n    setActiveOption(index);\r\n    const option = options[index];\r\n\r\n    if (option !== undefined && option.id !== undefined) {\r\n      try {\r\n        const { data } = await api.request({\r\n          url: \"/queue-options\",\r\n          method: \"GET\",\r\n          params: { queueId, parentId: option.id },\r\n        });\r\n        const optionList = data.map((option) => {\r\n          return {\r\n            ...option,\r\n            children: [],\r\n            edition: false,\r\n          };\r\n        });\r\n        option.children = optionList;\r\n        updateOptions();\r\n      } catch (e) {\r\n        toastError(e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSave = async (option) => {\r\n    try {\r\n      if (option.id) {\r\n        await api.request({\r\n          url: `/queue-options/${option.id}`,\r\n          method: \"PUT\",\r\n          data: option,\r\n        });\r\n      } else {\r\n        const { data } = await api.request({\r\n          url: `/queue-options`,\r\n          method: \"POST\",\r\n          data: option,\r\n        });\r\n        option.id = data.id;\r\n      }\r\n      option.edition = false;\r\n      updateOptions();\r\n    } catch (e) {\r\n      toastError(e);\r\n    }\r\n  };\r\n\r\n  const handleEdition = (index) => {\r\n    options[index].edition = !options[index].edition;\r\n    updateOptions();\r\n  };\r\n\r\n  const handleDeleteOption = async (index) => {\r\n    const option = options[index];\r\n    if (option !== undefined && option.id !== undefined) {\r\n      try {\r\n        await api.request({\r\n          url: `/queue-options/${option.id}`,\r\n          method: \"DELETE\",\r\n        });\r\n      } catch (e) {\r\n        toastError(e);\r\n      }\r\n    }\r\n    options.splice(index, 1);\r\n    options.forEach(async (option, order) => {\r\n      option.option = order + 1;\r\n      await handleSave(option);\r\n    });\r\n    updateOptions();\r\n  };\r\n\r\n  const handleOptionChangeTitle = (event, index) => {\r\n    options[index].title = event.target.value;\r\n    updateOptions();\r\n  };\r\n\r\n  const handleOptionChangeMessage = (event, index) => {\r\n    options[index].message = event.target.value;\r\n    updateOptions();\r\n  };\r\n\r\n  const renderTitle = (index) => {\r\n    const option = options[index];\r\n    if (option.edition) {\r\n      return (\r\n        <>\r\n          <TextField\r\n            value={option.title}\r\n            onChange={(event) => handleOptionChangeTitle(event, index)}\r\n            size=\"small\"\r\n            className={classes.input}\r\n            placeholder=\"Título da opção\"\r\n          />\r\n          {option.edition && (\r\n            <>\r\n              <IconButton\r\n                color=\"primary\"\r\n                variant=\"outlined\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                onClick={() => handleSave(option)}\r\n              >\r\n                <SaveIcon />\r\n              </IconButton>\r\n              <IconButton\r\n                variant=\"outlined\"\r\n                color=\"secondary\"\r\n                size=\"small\"\r\n                className={classes.button}\r\n                onClick={() => handleDeleteOption(index)}\r\n              >\r\n                <DeleteOutlineIcon />\r\n              </IconButton>\r\n            </>\r\n          )}\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <Typography>\r\n          {option.title !== \"\" ? option.title : \"Título não definido\"}\r\n          <IconButton\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            className={classes.button}\r\n            onClick={() => handleEdition(index)}\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n        </Typography>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderMessage = (index) => {\r\n    const option = options[index];\r\n    if (option.edition) {\r\n      return (\r\n        <>\r\n          <TextField\r\n            style={{ width: \"100%\" }}\r\n            multiline\r\n            value={option.message}\r\n            onChange={(event) => handleOptionChangeMessage(event, index)}\r\n            size=\"small\"\r\n            className={classes.input}\r\n            placeholder=\"Digite o texto da opção\"\r\n          />\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <Typography onClick={() => handleEdition(index)}>\r\n          {option.message}\r\n        </Typography>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleAddOption = (index) => {\r\n    const optionNumber = options[index].children.length + 1;\r\n    options[index].children.push({\r\n      title: \"\",\r\n      message: \"\",\r\n      edition: false,\r\n      option: optionNumber,\r\n      queueId,\r\n      parentId: options[index].id,\r\n      children: [],\r\n    });\r\n    updateOptions();\r\n  };\r\n\r\n  const renderStep = (option, index) => {\r\n    return (\r\n      <Step key={index}>\r\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\r\n          {renderTitle(index)}\r\n        </StepLabel>\r\n        <StepContent>\r\n          {renderMessage(index)}\r\n\r\n          {option.id !== undefined && (\r\n            <>\r\n              <Button\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                onClick={() => handleAddOption(index)}\r\n                startIcon={<AddIcon />}\r\n                variant=\"outlined\"\r\n                className={classes.addButton}\r\n              >\r\n                Adicionar\r\n              </Button>\r\n            </>\r\n          )}\r\n          <QueueOptionStepper\r\n            queueId={queueId}\r\n            options={option.children}\r\n            updateOptions={updateOptions}\r\n          />\r\n        </StepContent>\r\n      </Step>\r\n    );\r\n  };\r\n\r\n  const renderStepper = () => {\r\n    return (\r\n      <Stepper\r\n        style={{ marginBottom: 0, paddingBottom: 0 }}\r\n        nonLinear\r\n        activeStep={activeOption}\r\n        orientation=\"vertical\"\r\n      >\r\n        {options.map((option, index) => renderStep(option, index))}\r\n      </Stepper>\r\n    );\r\n  };\r\n\r\n  return renderStepper();\r\n}\r\n\r\nexport function QueueOptions({ queueId }) {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (queueId) {\r\n      const fetchOptions = async () => {\r\n        try {\r\n          const { data } = await api.request({\r\n            url: \"/queue-options\",\r\n            method: \"GET\",\r\n            params: { queueId, parentId: -1 },\r\n          });\r\n          const optionList = data.map((option) => {\r\n            return {\r\n              ...option,\r\n              children: [],\r\n              edition: false,\r\n            };\r\n          });\r\n          setOptions(optionList);\r\n        } catch (e) {\r\n          toastError(e);\r\n        }\r\n      };\r\n      fetchOptions();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const renderStepper = () => {\r\n    if (options.length > 0) {\r\n      return (\r\n        <QueueOptionStepper\r\n          queueId={queueId}\r\n          updateOptions={updateOptions}\r\n          options={options}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const updateOptions = () => {\r\n    setOptions([...options]);\r\n  };\r\n\r\n  const addOption = () => {\r\n    const newOption = {\r\n      title: \"\",\r\n      message: \"\",\r\n      edition: false,\r\n      option: options.length + 1,\r\n      queueId,\r\n      parentId: null,\r\n      children: [],\r\n    };\r\n    setOptions([...options, newOption]);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <br />\r\n      <Typography>\r\n        Opções\r\n        <Button\r\n          color=\"primary\"\r\n          size=\"small\"\r\n          onClick={addOption}\r\n          startIcon={<AddIcon />}\r\n          style={{ marginLeft: 10 }}\r\n          variant=\"outlined\"\r\n        >\r\n          Adicionar\r\n        </Button>\r\n      </Typography>\r\n      {renderStepper()}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n} from \"@material-ui/core\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport { QueueOptions } from \"../QueueOptions\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\r\n  greetingMessage: Yup.string(),\r\n});\r\n\r\nconst QueueModal = ({ open, onClose, queueId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    color: \"\",\r\n    greetingMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    orderQueue: \"\",\r\n    integrationId: \"\",\r\n    promptId: \"\"\r\n  };\r\n\r\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n  const [queue, setQueue] = useState(initialState);\r\n  const [tab, setTab] = useState(0);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const greetingRef = useRef();\r\n  const [integrations, setIntegrations] = useState([]);\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"08:00\", endTime: \"18:00\", },\r\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"08:00\", endTime: \"18:00\", },\r\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"08:00\", endTime: \"18:00\", },\r\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"08:00\", endTime: \"18:00\", },\r\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"08:00\", endTime: \"18:00\", },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"08:00\", endTime: \"12:00\", },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"00:00\", endTime: \"00:00\", },\r\n  ]);\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.get(`/settings`).then(({ data }) => {\r\n      if (Array.isArray(data)) {\r\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\r\n        if (scheduleType) {\r\n          setSchedulesEnabled(scheduleType.value === \"queue\");\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!queueId) return;\r\n      try {\r\n        const { data } = await api.get(`/queue/${queueId}`);\r\n        setQueue((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\r\n\r\n        setSchedules(data.schedules);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setQueue({\r\n        name: \"\",\r\n        color: \"\",\r\n        greetingMessage: \"\",\r\n        outOfHoursMessage: \"\",\r\n        orderQueue: \"\",\r\n        integrationId: \"\"\r\n      });\r\n    };\r\n  }, [queueId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setQueue(initialState);\r\n  };\r\n\r\n  const handleSaveQueue = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        await api.put(`/queue/${queueId}`, {\r\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\r\n        });\r\n      } else {\r\n        await api.post(\"/queue\", {\r\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\r\n        });\r\n      }\r\n      toast.success(\"Fila salva com sucesso\");\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n    setTab(0);\r\n  };\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        maxWidth=\"md\"\r\n        fullWidth={true}\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {queueId\r\n            ? `${i18n.t(\"queueModal.title.edit\")}`\r\n            : `${i18n.t(\"queueModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Tabs\r\n          value={tab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          onChange={(_, v) => setTab(v)}\r\n          aria-label=\"disabled tabs example\"\r\n        >\r\n          <Tab label=\"Dados da Fila\" />\r\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\r\n        </Tabs>\r\n        {tab === 0 && (\r\n          <Paper>\r\n            <Formik\r\n              initialValues={queue}\r\n              enableReinitialize={true}\r\n              validationSchema={QueueSchema}\r\n              onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                  handleSaveQueue(values);\r\n                  actions.setSubmitting(false);\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting, values }) => (\r\n                <Form>\r\n                  <DialogContent dividers>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.name\")}\r\n                      autoFocus\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.textField}\r\n                    />\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.color\")}\r\n                      name=\"color\"\r\n                      id=\"color\"\r\n                      onFocus={() => {\r\n                        setColorPickerModalOpen(true);\r\n                        greetingRef.current.focus();\r\n                      }}\r\n                      error={touched.color && Boolean(errors.color)}\r\n                      helperText={touched.color && errors.color}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <div\r\n                              style={{ backgroundColor: values.color }}\r\n                              className={classes.colorAdorment}\r\n                            ></div>\r\n                          </InputAdornment>\r\n                        ),\r\n                        endAdornment: (\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            color=\"default\"\r\n                            onClick={() => setColorPickerModalOpen(true)}\r\n                          >\r\n                            <Colorize />\r\n                          </IconButton>\r\n                        ),\r\n                      }}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.textField}\r\n                    />\r\n                    <ColorPicker\r\n                      open={colorPickerModalOpen}\r\n                      handleClose={() => setColorPickerModalOpen(false)}\r\n                      onChange={(color) => {\r\n                        values.color = color;\r\n                        setQueue(() => {\r\n                          return { ...values, color };\r\n                        });\r\n                      }}\r\n                    />\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.orderQueue\")}\r\n                      name=\"orderQueue\"\r\n                      type=\"orderQueue\"\r\n                      error={touched.orderQueue && Boolean(errors.orderQueue)}\r\n                      helperText={touched.orderQueue && errors.orderQueue}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.textField1}\r\n                    />\r\n                    <div>\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.FormControl}\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"integrationId-selection-label\">\r\n                          {i18n.t(\"queueModal.form.integrationId\")}\r\n                        </InputLabel>\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueModal.form.integrationId\")}\r\n                          name=\"integrationId\"\r\n                          id=\"integrationId\"\r\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                          labelId=\"integrationId-selection-label\"\r\n                          value={values.integrationId || \"\"}\r\n                        >\r\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                          {integrations.map((integration) => (\r\n                            <MenuItem key={integration.id} value={integration.id}>\r\n                              {integration.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Field>\r\n\r\n                      </FormControl>\r\n                      <FormControl\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel>\r\n                          {i18n.t(\"whatsappModal.form.prompt\")}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId=\"dialog-select-prompt-label\"\r\n                          id=\"dialog-select-prompt\"\r\n                          name=\"promptId\"\r\n                          value={selectedPrompt || \"\"}\r\n                          onChange={handleChangePrompt}\r\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                          fullWidth\r\n                          MenuProps={{\r\n                            anchorOrigin: {\r\n                              vertical: \"bottom\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            transformOrigin: {\r\n                              vertical: \"top\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            getContentAnchorEl: null,\r\n                          }}\r\n                        >\r\n                          {prompts.map((prompt) => (\r\n                            <MenuItem\r\n                              key={prompt.id}\r\n                              value={prompt.id}\r\n                            >\r\n                              {prompt.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    </div>\r\n                    <div style={{ marginTop: 5 }}>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                        type=\"greetingMessage\"\r\n                        multiline\r\n                        inputRef={greetingRef}\r\n                        rows={5}\r\n                        fullWidth\r\n                        name=\"greetingMessage\"\r\n                        error={\r\n                          touched.greetingMessage &&\r\n                          Boolean(errors.greetingMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.greetingMessage && errors.greetingMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                      {schedulesEnabled && (\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\r\n                          type=\"outOfHoursMessage\"\r\n                          multiline\r\n                          inputRef={greetingRef}\r\n                          rows={5}\r\n                          fullWidth\r\n                          name=\"outOfHoursMessage\"\r\n                          error={\r\n                            touched.outOfHoursMessage &&\r\n                            Boolean(errors.outOfHoursMessage)\r\n                          }\r\n                          helperText={\r\n                            touched.outOfHoursMessage && errors.outOfHoursMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n                    <QueueOptions queueId={queueId} />\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button\r\n                      onClick={handleClose}\r\n                      color=\"secondary\"\r\n                      disabled={isSubmitting}\r\n                      variant=\"outlined\"\r\n                    >\r\n                      {i18n.t(\"queueModal.buttons.cancel\")}\r\n                    </Button>\r\n                    <Button\r\n                      type=\"submit\"\r\n                      color=\"primary\"\r\n                      disabled={isSubmitting}\r\n                      variant=\"contained\"\r\n                      className={classes.btnWrapper}\r\n                    >\r\n                      {queueId\r\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\r\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\r\n                      {isSubmitting && (\r\n                        <CircularProgress\r\n                          size={24}\r\n                          className={classes.buttonProgress}\r\n                        />\r\n                      )}\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Paper>\r\n        )}\r\n        {tab === 1 && (\r\n          <Paper style={{ padding: 20 }}>\r\n            <SchedulesForm\r\n              loading={false}\r\n              onSubmit={handleSaveSchedules}\r\n              initialValues={schedules}\r\n              labelSaveButton=\"Adicionar\"\r\n            />\r\n          </Paper>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueueModal;\r\n","import React, { useEffect, useReducer, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport QueueModal from \"../../components/QueueModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUEUES\") {\r\n    const queues = action.payload;\r\n    const newQueues = [];\r\n\r\n    queues.forEach((queue) => {\r\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\r\n      if (queueIndex !== -1) {\r\n        state[queueIndex] = queue;\r\n      } else {\r\n        newQueues.push(queue);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newQueues];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUEUES\") {\r\n    const queue = action.payload;\r\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\r\n\r\n    if (queueIndex !== -1) {\r\n      state[queueIndex] = queue;\r\n      return [...state];\r\n    } else {\r\n      return [queue, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUEUE\") {\r\n    const queueId = action.payload;\r\n    const queueIndex = state.findIndex((q) => q.id === queueId);\r\n    if (queueIndex !== -1) {\r\n      state.splice(queueIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Queues = () => {\r\n  const classes = useStyles();\r\n\r\n  const [queues, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-queue`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenQueueModal = () => {\r\n    setQueueModalOpen(true);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleCloseQueueModal = () => {\r\n    setQueueModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleEditQueue = (queue) => {\r\n    setSelectedQueue(queue);\r\n    setQueueModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/queue/${queueId}`);\r\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\r\n            selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QueueModal\r\n        open={queueModalOpen}\r\n        onClose={handleCloseQueueModal}\r\n        queueId={selectedQueue?.id}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"queues.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenQueueModal}\r\n          >\r\n            {i18n.t(\"queues.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n\t\t\t   <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.id\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.name\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.color\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.orderQueue\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.greeting\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"queues.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {queues.map((queue) => (\r\n                <TableRow key={queue.id}>\r\n\t\t\t\t<TableCell align=\"center\">{queue.id}</TableCell>\r\n                  <TableCell align=\"center\">{queue.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <div className={classes.customTableCell}>\r\n                      <span\r\n                        style={{\r\n                          backgroundColor: queue.color,\r\n                          width: 60,\r\n                          height: 20,\r\n                          alignSelf: \"center\",\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <div className={classes.customTableCell}>\r\n                      <Typography\r\n                        style={{ width: 300, align: \"center\" }}\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                      >\r\n                        {queue.orderQueue}\r\n                      </Typography>\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <div className={classes.customTableCell}>\r\n                      <Typography\r\n                        style={{ width: 300, align: \"center\" }}\r\n                        noWrap\r\n                        variant=\"body2\"\r\n                      >\r\n                        {queue.greetingMessage}\r\n                      </Typography>\r\n                    </div>\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditQueue(queue)}\r\n                    >\r\n                      <Edit />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setSelectedQueue(queue);\r\n                        setConfirmModalOpen(true);\r\n                      }}\r\n                    >\r\n                      <DeleteOutline />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Queues;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport { ColorBox } from 'material-ui-color';\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport { FormControlLabel, Switch } from '@material-ui/core';\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tcolorAdorment: {\r\n\t\twidth: 20,\r\n\t\theight: 20,\r\n\t},\r\n}));\r\n\r\nconst TagSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(3, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\")\r\n});\r\n\r\nconst TagModal = ({ open, onClose, tagId, reload }) => {\r\n\tconst classes = useStyles();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tcolor: \"\",\r\n\t\tkanban: 0\r\n\t};\r\n\r\n\tconst [tag, setTag] = useState(initialState);\r\n\tconst [ kanban, setKanban] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\t(async () => {\r\n\t\t\t\tif (!tagId) return;\r\n\r\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\r\n\t\t\t\tsetKanban(data.kanban);\r\n\t\t\t\tsetTag(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t})()\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}, [tagId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetTag(initialState);\r\n\t\tsetColorPickerModalOpen(false);\r\n\t\tonClose();\r\n\t};\r\n\r\n\tconst handleKanbanChange = (e) => {\r\n\t\tsetKanban( e.target.checked ? 1 : 0);\r\n\t};\r\n\r\n\tconst handleSaveTag = async values => {\r\n\t\tconst tagData = { ...values, userId: user.id, kanban };\r\n\t\ttry {\r\n\t\t\tif (tagId) {\r\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/tags\", tagData);\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\r\n\t\t\tif (typeof reload == 'function') {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"xs\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{(tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`)}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={tag}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={TagSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveTag(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\r\n\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{(user.profile === \"admin\" || user.profile === \"supervisor\") && (\r\n                                <>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n        \t\t\t\t\t\t\t<FormControlLabel\r\n          \t\t\t\t\t\t\t\tcontrol={\r\n            \t\t\t\t\t\t\t\t<Checkbox\r\n             \t\t\t\t\t\t\t\t\tchecked={kanban === 1}\r\n             \t\t\t\t\t\t\t\t\tonChange={handleKanbanChange}\r\n              \t\t\t\t\t\t\t\t\tvalue={kanban}\r\n              \t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n            \t\t\t\t\t\t\t\t/>\r\n          \t\t\t\t\t\t\t\t}\r\n          \t\t\t\t\t\t\t\tlabel=\"Kanban\"\r\n          \t\t\t\t\t\t\t\tlabelPlacement=\"start\"\r\n        \t\t\t\t\t\t\t/>\r\n      \t\t\t\t\t\t\t</div>\r\n      \t\t\t\t\t\t\t<br />\r\n                                </>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<ColorBox\r\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\r\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tagId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TagModal;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useCallback,\r\n  useContext,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip } from \"@material-ui/core\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_TAGS\") {\r\n    const tags = action.payload;\r\n    const newTags = [];\r\n\r\n    tags.forEach((tag) => {\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n      } else {\r\n        newTags.push(tag);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newTags];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TAGS\") {\r\n    const tag = action.payload;\r\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n    if (tagIndex !== -1) {\r\n      state[tagIndex] = tag;\r\n      return [...state];\r\n    } else {\r\n      return [tag, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_TAG\") {\r\n    const tagId = action.payload;\r\n\r\n    const tagIndex = state.findIndex((s) => s.id === tagId);\r\n    if (tagIndex !== -1) {\r\n      state.splice(tagIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [deletingAllTags, setDeletingAllTags] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n\r\n  const fetchTags = useCallback(async () => {\r\n    try {\r\n      const { data } = await api.get(\"/tags/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchTags();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, fetchTags]);\r\n\r\n  useEffect(() => {\r\n    const socket = socketConnection({ companyId: user.companyId });\r\n\r\n    socket.on(\"user\", (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [user]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchTags();\r\n  };\r\n  \r\n    const handleDeleteAllTags = async () => {\r\n    try {\r\n      await api.delete(`/tags`);\r\n      toast.success(i18n.t(\"tags.toasts.deletedAll\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingAllTags(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber();\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchTags();\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingTag ? `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`\r\n          : `${i18n.t(\"tags.confirmationModal.deleteAllTitle\")}`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => \r\n          deletingTag ? handleDeleteTag(deletingTag.id)\r\n         : handleDeleteAllTags(deletingAllTags)\r\n        }\r\n      >\r\n        {\r\n          deletingTag ? `${i18n.t(\"tags.confirmationModal.deleteMessage\")}`\r\n            : `${i18n.t(\"tags.confirmationModal.deleteAllMessage\")}`\r\n        }\r\n      </ConfirmationModal>\r\n      <TagModal\r\n        open={tagModalOpen}\r\n        onClose={handleCloseTagModal}\r\n        reload={fetchTags}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        tagId={selectedTag && selectedTag.id}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"tags.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n          >\r\n            {i18n.t(\"tags.buttons.add\")}\r\n          </Button>\r\n\t\t  \r\n\t\t  <Tooltip title={i18n.t(\"tags.buttons.deleteAll\")}>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={(e) => {\r\n                setConfirmModalOpen(true);\r\n                setDeletingAllTags(tags);\r\n              }}\r\n            >\r\n              <DeleteForeverIcon />\r\n            </Button>\r\n          </Tooltip>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.tickets\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\n// import api from \"../../services/api\";\r\nimport axios from \"axios\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 100\r\n  },\r\n  mainHeader: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  elementMargin: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  formContainer: {\r\n    maxWidth: 500,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\"\r\n  }\r\n}));\r\n\r\nconst MessagesAPI = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [formMessageTextData,] = useState({ token: '', number: '', body: '' })\r\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\r\n  const [file, setFile] = useState({})\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = localStorage.getItem(\"companyId\");\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useExternalApi) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getEndpoint = () => {\r\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\r\n  }\r\n\r\n  const handleSendTextMessage = async (values) => {\r\n    const { number, body } = values;\r\n    const data = { number, body };\r\n    try {\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: 'POST',\r\n        data,\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n          'Authorization': `Bearer ${values.token}`\r\n        }\r\n      })\r\n      toast.success('Mensagem enviada com sucesso');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  const handleSendMediaMessage = async (values) => {\r\n    try {\r\n      const firstFile = file[0];\r\n      const data = new FormData();\r\n      data.append('number', values.number);\r\n      data.append('body', firstFile.name);\r\n      data.append('medias', firstFile);\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: 'POST',\r\n        data,\r\n        headers: {\r\n          'Content-type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${values.token}`\r\n        }\r\n      })\r\n      toast.success('Mensagem enviada com sucesso');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  const renderFormMessageText = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageTextData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendTextMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm()\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\r\n                  name=\"body\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : 'Enviar'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    )\r\n  }\r\n\r\n  const renderFormMessageMedia = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageMediaData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendMediaMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm()\r\n            document.getElementById('medias').files = null\r\n            document.getElementById('medias').value = null\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : 'Enviar'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Paper\r\n      className={classes.mainPaper}\r\n      style={{marginLeft: \"5px\"}}\r\n      // className={classes.elementMargin}\r\n      variant=\"outlined\"\r\n    >\r\n      <Typography variant=\"h5\">\r\n        Documentação para envio de mensagens\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n        Métodos de Envio\r\n      </Typography>\r\n      <Typography component=\"div\">\r\n        <ol>\r\n          <li>Mensagens de Texto</li>\r\n          <li>Mensagens de Media</li>\r\n        </ol>\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n        Instruções\r\n      </Typography>\r\n      <Typography className={classes.elementMargin} component=\"div\">\r\n        <b>Observações importantes</b><br />\r\n        <ul>\r\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\r\n          <li>\r\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\r\n            <ul>\r\n              <li>Código do país</li>\r\n              <li>DDD</li>\r\n              <li>Número</li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </Typography>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n        1. Mensagens de Texto\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (application/json) <br />\r\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"595985523065\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageText()}\r\n        </Grid>\r\n      </Grid>\r\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\r\n        2. Mensagens de Media\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization (Bearer token) e Content-Type (multipart/form-data) <br />\r\n            <b>FormData: </b> <br />\r\n            <ul>\r\n              <li>\r\n                <b>number: </b> 5599999999999\r\n              </li>\r\n              <li>\r\n                <b>medias: </b> arquivo\r\n              </li>\r\n            </ul>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageMedia()}\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaperContainer: {\r\n    overflowY: 'auto',\r\n    maxHeight: 'calc(100vh - 200px)',\r\n  },\r\n  mainPaper: {\r\n    width: '100%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n    gap: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  helpPaper: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    minHeight: '340px',\r\n    padding: theme.spacing(2),\r\n    boxShadow: theme.shadows[3],\r\n    borderRadius: theme.spacing(1),\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    maxWidth: '340px',\r\n  },\r\n  paperHover: {\r\n    transition: 'transform 0.3s, box-shadow 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.03)',\r\n      boxShadow: `0 0 8px`,\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  videoThumbnail: {\r\n    width: '100%',\r\n    height: 'calc(100% - 56px)',\r\n    objectFit: 'cover',\r\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\r\n  },\r\n  videoTitle: {\r\n    marginTop: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  videoDescription: {\r\n    maxHeight: '100px',\r\n    overflow: 'hidden',\r\n  },\r\n  videoModal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  videoModalContent: {\r\n    outline: 'none',\r\n    width: '90%',\r\n    maxWidth: 1024,\r\n    aspectRatio: '16/9',\r\n    position: 'relative',\r\n    backgroundColor: 'white',\r\n    borderRadius: theme.spacing(1),\r\n    overflow: 'hidden',\r\n  },\r\n}));\r\n\r\nconst Helps = () => {\r\n  const classes = useStyles();\r\n  const [records, setRecords] = useState([]);\r\n  const { list } = useHelps();\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const helps = await list();\r\n      setRecords(helps);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openVideoModal = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  const closeVideoModal = () => {\r\n    setSelectedVideo(null);\r\n  };\r\n\r\n  const handleModalClose = useCallback((event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeVideoModal();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleModalClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleModalClose);\r\n    };\r\n  }, [handleModalClose]);\r\n\r\n  const renderVideoModal = () => {\r\n    return (\r\n      <Modal\r\n        open={Boolean(selectedVideo)}\r\n        onClose={closeVideoModal}\r\n        className={classes.videoModal}\r\n      >\r\n        <div className={classes.videoModalContent}>\r\n          {selectedVideo && (\r\n            <iframe\r\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\r\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n              title=\"YouTube video player\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const renderHelps = () => {\r\n    return (\r\n      <>\r\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\r\n          {records.length ? records.map((record, key) => (\r\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\r\n              <img\r\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\r\n                alt=\"Thumbnail\"\r\n                className={classes.videoThumbnail}\r\n              />\r\n              <Typography variant=\"button\" className={classes.videoTitle}>\r\n                {record.title}\r\n              </Typography>\r\n              <Typography variant=\"caption\" className={classes.videoDescription}>\r\n                {record.description}\r\n              </Typography>\r\n            </Paper>\r\n          )) : null}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\r\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <div className={classes.mainPaper}>\r\n        {renderHelps()}\r\n      </div>\r\n      {renderVideoModal()}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Helps;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst ContactListSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst ContactListModal = ({ open, onClose, contactListId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n  };\r\n\r\n  const [contactList, setContactList] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    const fetchContactList = async () => {\r\n      if (!contactListId) return;\r\n      try {\r\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\r\n        setContactList((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContactList();\r\n  }, [contactListId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContactList(initialState);\r\n  };\r\n\r\n  const handleSaveContactList = async (values) => {\r\n    const contactListData = { ...values };\r\n    try {\r\n      if (contactListId) {\r\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\r\n      } else {\r\n        await api.post(\"/contact-lists\", contactListData);\r\n      }\r\n      toast.success(i18n.t(\"Lista Salva.\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactListId\r\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\r\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contactList}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactListSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContactList(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactLists.dialog.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactLists.dialog.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactListId\r\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\r\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListModal;\r\n","import React, { useState, useEffect, useReducer } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactListDialog from \"../../components/ContactListDialog\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTLISTS\") {\r\n    const contactLists = action.payload;\r\n    const newContactLists = [];\r\n\r\n    contactLists.forEach((contactList) => {\r\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n      if (contactListIndex !== -1) {\r\n        state[contactListIndex] = contactList;\r\n      } else {\r\n        newContactLists.push(contactList);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContactLists];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTLIST\") {\r\n    const contactList = action.payload;\r\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n\r\n    if (contactListIndex !== -1) {\r\n      state[contactListIndex] = contactList;\r\n      return [...state];\r\n    } else {\r\n      return [contactList, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACTLIST\") {\r\n    const contactListId = action.payload;\r\n\r\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\r\n    if (contactListIndex !== -1) {\r\n      state.splice(contactListIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactLists = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedContactList, setSelectedContactList] = useState(null);\r\n  const [deletingContactList, setDeletingContactList] = useState(null);\r\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contactLists, dispatch] = useReducer(reducer, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContactLists = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contact-lists/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContactLists();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-ContactList`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditContactList = (contactList) => {\r\n    setSelectedContactList(contactList);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContactList = async (contactListId) => {\r\n    try {\r\n      await api.delete(`/contact-lists/${contactListId}`);\r\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContactList(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContacts = (id) => {\r\n    history.push(`/contact-lists/${id}/contacts`);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContactList &&\r\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\r\n            deletingContactList.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\r\n      >\r\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <ContactListDialog\r\n        open={contactListModalOpen}\r\n        onClose={handleCloseContactListModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactListId={selectedContactList && selectedContactList.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={7} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={5} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleOpenContactListModal}\r\n                >\r\n                  {i18n.t(\"contactLists.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.name\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.contacts\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contactLists.map((contactList) => (\r\n                <TableRow key={contactList.id}>\r\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {contactList.contactsCount || 0}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\r\n                        <DownloadIcon />\r\n                      </IconButton>\r\n                    </a>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => goToContacts(contactList.id)}\r\n                    >\r\n                      <PeopleIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditContactList(contactList)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingContactList(contactList);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactLists;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactListItemModal = ({\r\n  open,\r\n  onClose,\r\n  contactId,\r\n  initialValues,\r\n  onSave,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const {\r\n    user: { companyId },\r\n  } = useContext(AuthContext);\r\n  const { contactListId } = useParams();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n  };\r\n\r\n  const [contact, setContact] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchContact = async () => {\r\n      if (initialValues) {\r\n        setContact((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      if (!contactId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\r\n        if (isMounted.current) {\r\n          setContact(data);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContact();\r\n  }, [contactId, open, initialValues]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContact(initialState);\r\n  };\r\n\r\n  const handleSaveContact = async (values) => {\r\n    try {\r\n      if (contactId) {\r\n        await api.put(`/contact-list-items/${contactId}`, {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/contact-list-items\", {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"contactModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactId\r\n            ? `${i18n.t(\"contactModal.title.edit\")}`\r\n            : `${i18n.t(\"contactModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contact}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContact(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  {i18n.t(\"contactModal.form.mainInfo\")}\r\n                </Typography>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.name\")}\r\n                  name=\"name\"\r\n                  autoFocus\r\n                  error={touched.name && Boolean(errors.name)}\r\n                  helperText={touched.name && errors.name}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  className={classes.textField}\r\n                />\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.number\")}\r\n                  name=\"number\"\r\n                  error={touched.number && Boolean(errors.number)}\r\n                  helperText={touched.number && errors.number}\r\n                  placeholder=\"5513912344321\"\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                />\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    placeholder=\"Email address\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactId\r\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListItemModal;\r\n","import api from \"../../services/api\";\r\n\r\nconst useContactLists = () => {\r\n  const save = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: \"/contact-lists\",\r\n      method: \"POST\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const update = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: `/contact-lists/${data.id}`,\r\n      method: \"PUT\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const deleteRecord = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"DELETE\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const findById = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"GET\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const list = async (params) => {\r\n    const { data } = await api.request({\r\n      url: \"/contact-lists/list\",\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return {\r\n    findById,\r\n    save,\r\n    update,\r\n    deleteRecord,\r\n    list,\r\n  };\r\n};\r\n\r\nexport default useContactLists;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport useContactLists from \"../../hooks/useContactLists\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactListItems = () => {\r\n  const classes = useStyles();\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const { contactListId } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\r\n    useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [contactList, setContactList] = useState({});\r\n  const fileUploadRef = useRef(null);\r\n\r\n  const { findById: findContactList } = useContactLists();\r\n\r\n  useEffect(() => {\r\n    findContactList(contactListId).then((data) => {\r\n      setContactList(data);\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [contactListId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`contact-list-items`, {\r\n            params: { searchParam, pageNumber, contactListId },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, contactListId]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\r\n      }\r\n\r\n      if (data.action === \"reload\") {\r\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\r\n      }\r\n    });\r\n\r\n    socket.on(\r\n      `company-${companyId}-ContactListItem-${contactListId}`,\r\n      (data) => {\r\n        if (data.action === \"reload\") {\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [contactListId]);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(false);\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contact-list-items/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const handleImportContacts = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", fileUploadRef.current.files[0]);\r\n      await api.request({\r\n        url: `contact-lists/${contactListId}/upload`,\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContactLists = () => {\r\n    history.push(\"/contact-lists\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <ContactListItemModal\r\n        open={contactListItemModalOpen}\r\n        onClose={handleCloseContactListItemModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactListItemModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={() =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n            : handleImportContacts()\r\n        }\r\n      >\r\n        {deletingContact ? (\r\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\r\n        ) : (\r\n          <>\r\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\r\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n              Clique aqui para baixar planilha exemplo.\r\n            </a>\r\n          </>\r\n        )}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={5} item>\r\n            <Title>{contactList.name}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={7} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={12} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={4} sm={2} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={goToContactLists}\r\n                >\r\n                  {i18n.t(\"contactListItems.buttons.lists\")}\r\n                </Button>\r\n              </Grid>\r\n              <Grid xs={4} sm={2} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    fileUploadRef.current.value = null;\r\n                    fileUploadRef.current.click();\r\n                  }}\r\n                >\r\n                  {i18n.t(\"contactListItems.buttons.import\")}\r\n                </Button>\r\n              </Grid>\r\n              <Grid xs={4} sm={2} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleOpenContactListItemModal}\r\n                >\r\n                  {i18n.t(\"contactListItems.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <>\r\n          <input\r\n            style={{ display: \"none\" }}\r\n            id=\"upload\"\r\n            name=\"file\"\r\n            type=\"file\"\r\n            accept=\".xls,.xlsx\"\r\n            onChange={() => {\r\n              setConfirmOpen(true);\r\n            }}\r\n            ref={fileUploadRef}\r\n          />\r\n        </>\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                #\r\n              </TableCell>\r\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactListItems.table.number\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactListItems.table.email\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactListItems.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contacts.map((contact) => (\r\n                <TableRow key={contact.id}>\r\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                    <IconButton>\r\n                      {contact.isWhatsappValid ? (\r\n                        <CheckCircleIcon\r\n                          titleAccess=\"Whatsapp Válido\"\r\n                          htmlColor=\"green\"\r\n                        />\r\n                      ) : (\r\n                        <BlockIcon\r\n                          titleAccess=\"Whatsapp Inválido\"\r\n                          htmlColor=\"grey\"\r\n                        />\r\n                      )}\r\n                    </IconButton>\r\n                  </TableCell>\r\n                  <TableCell>{contact.name}</TableCell>\r\n                  <TableCell align=\"center\">{contact.number}</TableCell>\r\n                  <TableCell align=\"center\">{contact.email}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => hadleEditContact(contact.id)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => {\r\n                            setConfirmOpen(true);\r\n                            setDeletingContact(contact);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactListItems;\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head } from \"lodash\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\n\r\nimport {\r\n    FormControl,\r\n    Grid,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst path = require('path');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst QuickeMessageSchema = Yup.object().shape({\r\n    shortcode: Yup.string().required(\"Obrigatório\"),\r\n    //   message: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\r\n    const classes = useStyles();\r\n    const { user } = useContext(AuthContext);\r\n    const { profile } = user;\r\n    const messageInputRef = useRef();\r\n\r\n    const initialState = {\r\n        shortcode: \"\",\r\n        message: \"\",\r\n        geral: false,\r\n        status: true,\r\n    };\r\n\r\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n    const [quickemessage, setQuickemessage] = useState(initialState);\r\n    const [attachment, setAttachment] = useState(null);\r\n    const attachmentFile = useRef(null);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            (async () => {\r\n                if (!quickemessageId) return;\r\n\r\n                const { data } = await api.get(`/quick-messages/${quickemessageId}`);\r\n\r\n                setQuickemessage((prevState) => {\r\n                    return { ...prevState, ...data };\r\n                });\r\n            })();\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [quickemessageId, open]);\r\n\r\n    const handleClose = () => {\r\n        setQuickemessage(initialState);\r\n        setAttachment(null);\r\n        onClose();\r\n    };\r\n\r\n    const handleAttachmentFile = (e) => {\r\n      \r\n        const file = head(e.target.files);\r\n        if (file) {\r\n            setAttachment(file);\r\n        }\r\n    };\r\n\r\n    const handleSaveQuickeMessage = async (values) => {\r\n\r\n        const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\r\n\r\n        try {\r\n            if (quickemessageId) {\r\n                await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\r\n                if (attachment != null) {\r\n                    const formData = new FormData();\r\n                    formData.append(\"typeArch\", \"quickMessage\");\r\n                    formData.append(\"file\", attachment);\r\n                    await api.post(\r\n                        `/quick-messages/${quickemessageId}/media-upload`,\r\n                        formData\r\n                    );\r\n                }\r\n            } else {\r\n                const { data } = await api.post(\"/quick-messages\", quickemessageData);\r\n                if (attachment != null) {\r\n                    const formData = new FormData();\r\n                    formData.append(\"typeArch\", \"quickMessage\");\r\n                    formData.append(\"file\", attachment);\r\n                    await api.post(`/quick-messages/${data.id}/media-upload`, formData);\r\n                }\r\n            }\r\n            toast.success(i18n.t(\"quickMessages.toasts.success\"));\r\n            if (typeof reload == \"function\") {\r\n\r\n                reload();\r\n            }\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    const deleteMedia = async () => {\r\n        if (attachment) {\r\n            setAttachment(null);\r\n            attachmentFile.current.value = null;\r\n        }\r\n\r\n        if (quickemessage.mediaPath) {\r\n            await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\r\n            setQuickemessage((prev) => ({\r\n                ...prev,\r\n                mediaPath: null,\r\n            }));\r\n            toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\r\n            if (typeof reload == \"function\") {\r\n\r\n                reload();\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n        const el = messageInputRef.current;\r\n        const firstHalfText = el.value.substring(0, el.selectionStart);\r\n        const secondHalfText = el.value.substring(el.selectionEnd);\r\n        const newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n        setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n        await new Promise(r => setTimeout(r, 100));\r\n        messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <ConfirmationModal\r\n                title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\r\n                open={confirmationOpen}\r\n                onClose={() => setConfirmationOpen(false)}\r\n                onConfirm={deleteMedia}\r\n            >\r\n                {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n            </ConfirmationModal>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"xs\"\r\n                fullWidth\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {quickemessageId\r\n                        ? `${i18n.t(\"quickMessages.dialog.edit\")}`\r\n                        : `${i18n.t(\"quickMessages.dialog.add\")}`}\r\n                </DialogTitle>\r\n                <div style={{ display: \"none\" }}>\r\n                    <input\r\n                        type=\"file\"\r\n                        ref={attachmentFile}\r\n                        onChange={(e) => handleAttachmentFile(e)}\r\n                    />\r\n                </div>\r\n                <Formik\r\n                    initialValues={quickemessage}\r\n                    enableReinitialize={true}\r\n                    validationSchema={QuickeMessageSchema}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSaveQuickeMessage(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, setFieldValue, values }) => (\r\n                        <Form>\r\n                            <DialogContent dividers>\r\n                                <Grid spacing={2} container>\r\n                                    <Grid xs={12} item>\r\n                                        <Field\r\n                                            as={TextField}\r\n                                            autoFocus\r\n                                            label={i18n.t(\"quickMessages.dialog.shortcode\")}\r\n                                            name=\"shortcode\"\r\n                                            error={touched.shortcode && Boolean(errors.shortcode)}\r\n                                            helperText={touched.shortcode && errors.shortcode}\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            fullWidth\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid xs={12} item>\r\n                                        <Field\r\n                                            as={TextField}\r\n                                            label={i18n.t(\"quickMessages.dialog.message\")}\r\n                                            name=\"message\"\r\n                                            inputRef={messageInputRef}\r\n                                            error={touched.message && Boolean(errors.message)}\r\n                                            helperText={touched.message && errors.message}\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            multiline={true}\r\n                                            rows={7}\r\n                                            fullWidth\r\n                                        // disabled={quickemessage.mediaPath || attachment ? true : false}\r\n                                        />\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <MessageVariablesPicker\r\n                                            disabled={isSubmitting}\r\n                                            onClick={value => handleClickMsgVar(value, setFieldValue)}\r\n                                        />\r\n                                    </Grid>\r\n                                    {(quickemessage.mediaPath || attachment) && (\r\n                                        <Grid xs={12} item>\r\n                                            <Button startIcon={<AttachFileIcon />}>\r\n                                                {attachment ? attachment.name : quickemessage.mediaName}\r\n                                            </Button>\r\n                                            <IconButton\r\n                                                onClick={() => setConfirmationOpen(true)}\r\n                                                color=\"secondary\"\r\n                                            >\r\n                                                <DeleteOutlineIcon color=\"secondary\" />\r\n                                            </IconButton>\r\n                                        </Grid>\r\n                                    )}\r\n                                </Grid>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                {!attachment && !quickemessage.mediaPath && (\r\n                                    <Button\r\n                                        color=\"primary\"\r\n                                        onClick={() => attachmentFile.current.click()}\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"outlined\"\r\n                                    >\r\n                                        {i18n.t(\"quickMessages.buttons.attach\")}\r\n                                    </Button>\r\n                                )}\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"quickMessages.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {quickemessageId\r\n                                        ? `${i18n.t(\"quickMessages.buttons.edit\")}`\r\n                                        : `${i18n.t(\"quickMessages.buttons.add\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\r\n    //console.log(\"aqui\");\r\n    //console.log(action);\r\n    //console.log(action.payload);\r\n    const quickmessages = action.payload;\r\n    const newQuickmessages = [];\r\n    //console.log(newQuickmessages);\r\n\r\n    if (isArray(quickmessages)) {\r\n      quickmessages.forEach((quickemessage) => {\r\n        const quickemessageIndex = state.findIndex(\r\n          (u) => u.id === quickemessage.id\r\n        );\r\n        if (quickemessageIndex !== -1) {\r\n          state[quickemessageIndex] = quickemessage;\r\n        } else {\r\n          newQuickmessages.push(quickemessage);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newQuickmessages];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\r\n    const quickemessage = action.payload;\r\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\r\n\r\n    if (quickemessageIndex !== -1) {\r\n      state[quickemessageIndex] = quickemessage;\r\n      return [...state];\r\n    } else {\r\n      return [quickemessage, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\r\n    const quickemessageId = action.payload;\r\n\r\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\r\n    if (quickemessageIndex !== -1) {\r\n      state.splice(quickemessageIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Quickemessages = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\r\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\r\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [quickemessages, dispatch] = useReducer(reducer, []);\r\n  const { user } = useContext(AuthContext);\r\n  const { profile } = user;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchQuickemessages();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    socket.on(`company${companyId}-quickemessage`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const fetchQuickemessages = async () => {\r\n    try {\r\n      const companyId = user.companyId;\r\n      //const searchParam = ({ companyId, userId: user.id });\r\n      const { data } = await api.get(\"/quick-messages\", {\r\n        params: { searchParam, pageNumber, userId: user.id },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(false);\r\n    //window.location.reload();\r\n    fetchQuickemessages();\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditQuickemessage = (quickemessage) => {\r\n    //console.log(quickemessage);\r\n    setSelectedQuickemessage(quickemessage);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleDeleteQuickemessage = async (quickemessageId) => {\r\n    try {\r\n      await api.delete(`/quick-messages/${quickemessageId}`);\r\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingQuickemessage(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n    fetchQuickemessages();\r\n    dispatch({ type: \"RESET\" });\r\n\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\r\n      >\r\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QuickMessageDialog\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchQuickemessages();\r\n        }}\r\n        open={quickemessageModalOpen}\r\n        onClose={handleCloseQuickMessageDialog}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenQuickMessageDialog}\r\n                  color=\"primary\"\r\n                >\r\n                  {i18n.t(\"quickMessages.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.shortcode\")}\r\n              </TableCell>\r\n\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.mediaName\")}\r\n              </TableCell>        \r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {quickemessages.map((quickemessage) => (\r\n                <TableRow key={quickemessage.id}>\r\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditQuickemessage(quickemessage)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingQuickemessage(quickemessage);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Quickemessages;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Board from 'react-trello';\r\nimport { toast } from \"react-toastify\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { useHistory } from 'react-router-dom';\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(1),\r\n  },\r\n  button: {\r\n    background: \"#10a110\",\r\n    border: \"none\",\r\n    padding: \"10px\",\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  \r\n}));\r\n\r\nconst Kanban = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [tags, setTags] = useState([]);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\r\n\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      const response = await api.get(\"/tags/kanban\");\r\n      const fetchedTags = response.data.lista || []; \r\n\r\n      setTags(fetchedTags);\r\n\r\n      // Fetch tickets after fetching tags\r\n      await fetchTickets(jsonString);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, []);\r\n\r\n  const [file, setFile] = useState({\r\n    lanes: []\r\n  });\r\n\r\n\r\n  const [tickets, setTickets] = useState([]);\r\n  const { user } = useContext(AuthContext);\r\n  const { profile, queues } = user;\r\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\r\n\r\n  const fetchTickets = async (jsonString) => {\r\n    try {\r\n      \r\n      const { data } = await api.get(\"/ticket/kanban\", {\r\n        params: {\r\n          queueIds: JSON.stringify(jsonString),\r\n          teste: true\r\n        }\r\n      });\r\n      setTickets(data.tickets);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setTickets([]);\r\n    }\r\n  };\r\n\r\n\r\n  const popularCards = (jsonString) => {\r\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\r\n\r\n    const lanes = [\r\n      {\r\n        id: \"lane0\",\r\n        title: i18n.t(\"Em aberto\"),\r\n        label: \"0\",\r\n        cards: filteredTickets.map(ticket => ({\r\n          id: ticket.id.toString(),\r\n          label: \"Ticket nº \" + ticket.id.toString(),\r\n          description: (\r\n              <div>\r\n                <p>\r\n                  {ticket.contact.number}\r\n                  <br />\r\n                  {ticket.lastMessage}\r\n                </p>\r\n                <button \r\n                  className={classes.button} \r\n                  onClick={() => {\r\n                    handleCardClick(ticket.uuid)\r\n                  }}>\r\n                    Ver Ticket\r\n                </button>\r\n              </div>\r\n            ),\r\n          title: ticket.contact.name,\r\n          draggable: true,\r\n          href: \"/tickets/\" + ticket.uuid,\r\n        })),\r\n      },\r\n      ...tags.map(tag => {\r\n        const filteredTickets = tickets.filter(ticket => {\r\n          const tagIds = ticket.tags.map(tag => tag.id);\r\n          return tagIds.includes(tag.id);\r\n        });\r\n\r\n        return {\r\n          id: tag.id.toString(),\r\n          title: tag.name,\r\n          label: tag.id.toString(),\r\n          cards: filteredTickets.map(ticket => ({\r\n            id: ticket.id.toString(),\r\n            label: \"Ticket nº \" + ticket.id.toString(),\r\n            description: (\r\n              <div>\r\n                <p>\r\n                  {ticket.contact.number}\r\n                  <br />\r\n                  {ticket.lastMessage}\r\n                </p>\r\n                <button \r\n                  className={classes.button} \r\n                  onClick={() => {\r\n                    \r\n                    handleCardClick(ticket.uuid)\r\n                  }}>\r\n                    Ver Ticket\r\n                </button>\r\n              </div>\r\n            ),\r\n            title: ticket.contact.name,\r\n            draggable: true,\r\n            href: \"/tickets/\" + ticket.uuid,          \r\n          })),\r\n          style: { backgroundColor: tag.color, color: \"white\" }\r\n        };\r\n      }),\r\n    ];\r\n\r\n    setFile({ lanes });\r\n  };\r\n\r\n  const handleCardClick = (uuid) => {  \r\n    //console.log(\"Clicked on card with UUID:\", uuid);\r\n    history.push('/tickets/' + uuid);\r\n  };\r\n\r\n  useEffect(() => {\r\n    popularCards(jsonString);\r\n}, [tags, tickets, reloadData]);\r\n\r\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\r\n    try {\r\n        \r\n          await api.delete(`/ticket-tags/${targetLaneId}`);\r\n        toast.success('Ticket Tag Removido!');\r\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\r\n        toast.success('Ticket Tag Adicionado com Sucesso!');\r\n\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Board \r\n\t\tdata={file} \r\n\t\tonCardMoveAcrossLanes={handleCardMove}\r\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\r\n    />\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default Kanban;\r\n","import React, { useContext } from \"react\";\r\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\n\r\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\r\n\tconst { isAuth, loading } = useContext(AuthContext);\r\n\r\n\tif (!isAuth && isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tif (isAuth && !isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t<RouterRoute {...rest} component={Component} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Route;\r\n","import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport ScheduleModal from \"../../components/ScheduleModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport moment from \"moment\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport \"moment/locale/pt-br\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport \"./Schedules.css\"; // Importe o arquivo CSS\r\n\r\n// Defina a função getUrlParam antes de usá-la\r\nfunction getUrlParam(paramName) {\r\n  const searchParams = new URLSearchParams(window.location.search);\r\n  return searchParams.get(paramName);\r\n}\r\n\r\nconst eventTitleStyle = {\r\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\r\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\r\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\r\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\r\n};\r\n\r\nconst localizer = momentLocalizer(moment);\r\nvar defaultMessages = {\r\n  date: \"Data\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  allDay: \"Dia Todo\",\r\n  week: \"Semana\",\r\n  work_week: \"Agendamentos\",\r\n  day: \"Dia\",\r\n  month: \"Mês\",\r\n  previous: \"Anterior\",\r\n  next: \"Próximo\",\r\n  yesterday: \"Ontem\",\r\n  tomorrow: \"Amanhã\",\r\n  today: \"Hoje\",\r\n  agenda: \"Agenda\",\r\n  noEventsInRange: \"Não há agendamentos no período.\",\r\n  showMore: function showMore(total) {\r\n    return \"+\" + total + \" mais\";\r\n  }\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_SCHEDULES\") {\r\n    return [...state, ...action.payload];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SCHEDULES\") {\r\n    const schedule = action.payload;\r\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\r\n\r\n    if (scheduleIndex !== -1) {\r\n      state[scheduleIndex] = schedule;\r\n      return [...state];\r\n    } else {\r\n      return [schedule, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_SCHEDULE\") {\r\n    const scheduleId = action.payload;\r\n    return state.filter((s) => s.id !== scheduleId);\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Schedules = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\r\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [schedules, dispatch] = useReducer(reducer, []);\r\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\r\n\r\n\r\n  const fetchSchedules = useCallback(async () => {\r\n    try {\r\n      const { data } = await api.get(\"/schedules/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\r\n    if (contactId) {\r\n      handleOpenScheduleModal();\r\n    }\r\n  }, [contactId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchSchedules();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    pageNumber,\r\n    contactId,\r\n    fetchSchedules,\r\n    handleOpenScheduleModalFromContactId,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    handleOpenScheduleModalFromContactId();\r\n    const socket = socketConnection({ companyId: user.companyId });\r\n\r\n    socket.on(`company${user.companyId}-schedule`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [handleOpenScheduleModalFromContactId, user]);\r\n\r\n  const cleanContact = () => {\r\n    setContactId(\"\");\r\n  };\r\n\r\n  const handleOpenScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleCloseScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditSchedule = (schedule) => {\r\n    setSelectedSchedule(schedule);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteSchedule = async (scheduleId) => {\r\n    try {\r\n      await api.delete(`/schedules/${scheduleId}`);\r\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingSchedule(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchSchedules();\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const truncate = (str, len) => {\r\n    if (str.length > len) {\r\n      return str.substring(0, len) + \"...\";\r\n    }\r\n    return str;\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingSchedule &&\r\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\r\n      >\r\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <ScheduleModal\r\n        open={scheduleModalOpen}\r\n        onClose={handleCloseScheduleModal}\r\n        reload={fetchSchedules}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        scheduleId={selectedSchedule && selectedSchedule.id}\r\n        contactId={contactId}\r\n        cleanContact={cleanContact}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenScheduleModal}\r\n          >\r\n            {i18n.t(\"schedules.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\r\n        <Calendar\r\n          messages={defaultMessages}\r\n          formats={{\r\n          agendaDateFormat: \"DD/MM ddd\",\r\n          weekdayFormat: \"dddd\"\r\n      }}\r\n          localizer={localizer}\r\n          events={schedules.map((schedule) => ({\r\n            title: (\r\n              <div className=\"event-container\">\r\n                <div style={eventTitleStyle}>{schedule.contact.name}</div>\r\n                <DeleteOutlineIcon\r\n                  onClick={() => handleDeleteSchedule(schedule.id)}\r\n                  className=\"delete-icon\"\r\n                />\r\n                <EditIcon\r\n                  onClick={() => {\r\n                    handleEditSchedule(schedule);\r\n                    setScheduleModalOpen(true);\r\n                  }}\r\n                  className=\"edit-icon\"\r\n                />\r\n              </div>\r\n            ),\r\n            start: new Date(schedule.sendAt),\r\n            end: new Date(schedule.sendAt),\r\n          }))}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          style={{ height: 500 }}\r\n        />\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Schedules;","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { head } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n} from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    backgroundColor: \"#fff\"\r\n  },\r\n\r\n  tabmsg: {\r\n    backgroundColor: theme.palette.campaigntab,\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst CampaignSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst CampaignModal = ({\r\n  open,\r\n  onClose,\r\n  campaignId,\r\n  initialValues,\r\n  onSave,\r\n  resetPagination,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n  const [file, setFile] = useState(null);\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    message1: \"\",\r\n    message2: \"\",\r\n    message3: \"\",\r\n    message4: \"\",\r\n    message5: \"\",\r\n    confirmationMessage1: \"\",\r\n    confirmationMessage2: \"\",\r\n    confirmationMessage3: \"\",\r\n    confirmationMessage4: \"\",\r\n    confirmationMessage5: \"\",\r\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\r\n    confirmation: false,\r\n    scheduledAt: \"\",\r\n    whatsappId: \"\",\r\n    contactListId: \"\",\r\n    tagListId: \"Nenhuma\",\r\n    companyId,\r\n  };\r\n\r\n  const [campaign, setCampaign] = useState(initialState);\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [contactLists, setContactLists] = useState([]);\r\n  const [messageTab, setMessageTab] = useState(0);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [campaignEditable, setCampaignEditable] = useState(true);\r\n  const attachmentFile = useRef(null);\r\n  const [tagLists, setTagLists] = useState([]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/files/\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setFile(data.files);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      if (initialValues) {\r\n        setCampaign((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      api\r\n        .get(`/contact-lists/list`, { params: { companyId } })\r\n        .then(({ data }) => setContactLists(data));\r\n\r\n      api\r\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n        .then(({ data }) => setWhatsapps(data));\r\n\r\n      api.get(`/tags`, { params: { companyId } })\r\n        .then(({ data }) => {\r\n          const fetchedTags = data.tags;\r\n          // Perform any necessary data transformation here\r\n          const formattedTagLists = fetchedTags.map((tag) => ({\r\n            id: tag.id,\r\n            name: tag.name,\r\n          }));\r\n          setTagLists(formattedTagLists);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error retrieving tags:\", error);\r\n        });\r\n        \r\n      if (!campaignId) return;\r\n\r\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\r\n        setCampaign((prev) => {\r\n          let prevCampaignData = Object.assign({}, prev);\r\n\r\n          Object.entries(data).forEach(([key, value]) => {\r\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\r\n            } else {\r\n              prevCampaignData[key] = value === null ? \"\" : value;\r\n            }\r\n          });\r\n\r\n          return prevCampaignData;\r\n        });\r\n      });\r\n    }\r\n  }, [campaignId, open, initialValues, companyId]);\r\n\r\n  useEffect(() => {\r\n    const now = moment();\r\n    const scheduledAt = moment(campaign.scheduledAt);\r\n    const moreThenAnHour =\r\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\r\n    const isEditable =\r\n      campaign.status === \"INATIVA\" ||\r\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\r\n\r\n    setCampaignEditable(isEditable);\r\n  }, [campaign.status, campaign.scheduledAt]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setCampaign(initialState);\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveCampaign = async (values) => {\r\n    try {\r\n      const dataValues = {};\r\n      Object.entries(values).forEach(([key, value]) => {\r\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        } else {\r\n          dataValues[key] = value === \"\" ? null : value;\r\n        }\r\n      });\r\n\r\n      if (campaignId) {\r\n        await api.put(`/campaigns/${campaignId}`, dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\r\n        }\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/campaigns\", dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\r\n        }\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\r\n    } catch (err) {\r\n      console.log(err);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (campaign.mediaPath) {\r\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\r\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    }\r\n  };\r\n\r\n  const renderMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalziadas.\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderConfirmationMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const cancelCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {campaignEditable ? (\r\n            <>\r\n              {campaignId\r\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\r\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\r\n            </>\r\n          ) : (\r\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\r\n          )}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={campaign}\r\n          enableReinitialize={true}\r\n          validationSchema={CampaignSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveCampaign(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} md={9} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={3} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"confirmation-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.confirmation\"\r\n                        )}\r\n                        labelId=\"confirmation-selection-label\"\r\n                        id=\"confirmation\"\r\n                        name=\"confirmation\"\r\n                        error={\r\n                          touched.confirmation && Boolean(errors.confirmation)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value={false}>Desabilitada</MenuItem>\r\n                        <MenuItem value={true}>Habilitada</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"contactList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.contactList\"\r\n                        )}\r\n                        labelId=\"contactList-selection-label\"\r\n                        id=\"contactListId\"\r\n                        name=\"contactListId\"\r\n                        error={\r\n                          touched.contactListId && Boolean(errors.contactListId)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\r\n                        {contactLists &&\r\n                          contactLists.map((contactList) => (\r\n                            <MenuItem\r\n                              key={contactList.id}\r\n                              value={contactList.id}\r\n                            >\r\n                              {contactList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"tagList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        labelId=\"tagList-selection-label\"\r\n                        id=\"tagListId\"\r\n                        name=\"tagListId\"\r\n                        error={touched.tagListId && Boolean(errors.tagListId)}\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\r\n                        {Array.isArray(tagLists) &&\r\n                          tagLists.map((tagList) => (\r\n                            <MenuItem key={tagList.id} value={tagList.id}>\r\n                              {tagList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"whatsapp-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        labelId=\"whatsapp-selection-label\"\r\n                        id=\"whatsappId\"\r\n                        name=\"whatsappId\"\r\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\r\n                        {whatsapps &&\r\n                          whatsapps.map((whatsapp) => (\r\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n                              {whatsapp.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\r\n                      name=\"scheduledAt\"\r\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\r\n                      helperText={touched.scheduledAt && errors.scheduledAt}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      type=\"datetime-local\"\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                  <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.FormControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"campaigns.dialog.form.fileList\")}</InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.fileList\")}\r\n                        name=\"fileListId\"\r\n                        id=\"fileListId\"\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.fileList\")}\r\n                        labelId=\"fileListId-selection-label\"\r\n                        value={values.fileListId || \"\"}\r\n                      >\r\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                        {file.map(f => (\r\n                          <MenuItem key={f.id} value={f.id}>\r\n                            {f.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <Tabs\r\n                      value={messageTab}\r\n                      indicatorColor=\"primary\"\r\n                      textColor=\"primary\"\r\n                      className={classes.tabmsg}\r\n                      onChange={(e, v) => setMessageTab(v)}\r\n                      variant=\"fullWidth\"\r\n                      centered\r\n                      style={{\r\n                        borderRadius: 2,\r\n                      }}\r\n                    >\r\n                      <Tab label=\"Msg. 1\" index={0} />\r\n                      <Tab label=\"Msg. 2\" index={1} />\r\n                      <Tab label=\"Msg. 3\" index={2} />\r\n                      <Tab label=\"Msg. 4\" index={3} />\r\n                      <Tab label=\"Msg. 5\" index={4} />\r\n                    </Tabs>\r\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\r\n                      {messageTab === 0 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message1\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage1\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message1\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 1 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message2\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage2\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message2\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 2 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message3\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage3\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message3\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 3 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message4\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage4\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message4\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 4 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message5\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage5\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message5\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                    </Box>\r\n                  </Grid>\r\n                  {(campaign.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment != null\r\n                          ? attachment.name\r\n                          : campaign.mediaName}\r\n                      </Button>\r\n                      {campaignEditable && (\r\n                        <IconButton\r\n                          onClick={() => setConfirmationOpen(true)}\r\n                          color=\"secondary\"\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      )}\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {campaign.status === \"CANCELADA\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => restartCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\r\n                  </Button>\r\n                )}\r\n                {campaign.status === \"EM_ANDAMENTO\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => cancelCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\r\n                  </Button>\r\n                )}\r\n                {!attachment && !campaign.mediaPath && campaignEditable && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\r\n                </Button>\r\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                  >\r\n                    {campaignId\r\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\r\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignModal;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useState, useEffect, useReducer } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CampaignModal from \"../../components/CampaignModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach((campaign) => {\r\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Campaigns = () => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [campaigns, dispatch] = useReducer(reducer, []);\r\n\r\n  const { datetimeToClient } = useDate();\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchCampaigns();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-campaign`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const fetchCampaigns = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/campaigns/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleCloseCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditCampaign = (campaign) => {\r\n    setSelectedCampaign(campaign);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteCampaign = async (campaignId) => {\r\n    try {\r\n      await api.delete(`/campaigns/${campaignId}`);\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingCampaign(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return \"Inativa\";\r\n      case \"PROGRAMADA\":\r\n        return \"Programada\";\r\n      case \"EM_ANDAMENTO\":\r\n        return \"Em Andamento\";\r\n      case \"CANCELADA\":\r\n        return \"Cancelada\";\r\n      case \"FINALIZADA\":\r\n        return \"Finalizada\";\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  const cancelCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\r\n            deletingCampaign.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <CampaignModal\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchCampaigns();\r\n        }}\r\n        open={campaignModalOpen}\r\n        onClose={handleCloseCampaignModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        campaignId={selectedCampaign && selectedCampaign.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenCampaignModal}\r\n                  color=\"primary\"\r\n                >\r\n                  {i18n.t(\"campaigns.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.name\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.contactList\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.whatsapp\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.scheduledAt\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.completedAt\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.confirmation\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"campaigns.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {campaigns.map((campaign) => (\r\n                <TableRow key={campaign.id}>\r\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {formatStatus(campaign.status)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.contactListId\r\n                      ? campaign.contactList.name\r\n                      : \"Não definida\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.whatsappId\r\n                      ? campaign.whatsapp.name\r\n                      : \"Não definido\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.scheduledAt\r\n                      ? datetimeToClient(campaign.scheduledAt)\r\n                      : \"Sem agendamento\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.completedAt\r\n                      ? datetimeToClient(campaign.completedAt)\r\n                      : \"Não concluída\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {campaign.status === \"EM_ANDAMENTO\" && (\r\n                      <IconButton\r\n                        onClick={() => cancelCampaign(campaign)}\r\n                        title=\"Parar Campanha\"\r\n                        size=\"small\"\r\n                      >\r\n                        <PauseCircleOutlineIcon />\r\n                      </IconButton>\r\n                    )}\r\n                    {campaign.status === \"CANCELADA\" && (\r\n                      <IconButton\r\n                        onClick={() => restartCampaign(campaign)}\r\n                        title=\"Parar Campanha\"\r\n                        size=\"small\"\r\n                      >\r\n                        <PlayCircleOutlineIcon />\r\n                      </IconButton>\r\n                    )}\r\n                    <IconButton\r\n                      onClick={() =>\r\n                        history.push(`/campaign/${campaign.id}/report`)\r\n                      }\r\n                      size=\"small\"\r\n                    >\r\n                      <DescriptionIcon />\r\n                    </IconButton>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditCampaign(campaign)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingCampaign(campaign);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={8} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Campaigns;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport api from \"../../services/api\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst initialSettings = {\r\n  messageInterval: 20,\r\n  longerIntervalAfter: 20,\r\n  greaterInterval: 60,\r\n  variables: [],\r\n};\r\n\r\nconst CampaignsConfig = () => {\r\n  const classes = useStyles();\r\n\r\n  const [settings, setSettings] = useState(initialSettings);\r\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [selectedKey, setSelectedKey] = useState(null);\r\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\r\n\r\n  useEffect(() => {\r\n    api.get(\"/campaign-settings\").then(({ data }) => {\r\n      const settingsList = [];\r\n      if (Array.isArray(data) && data.length > 0) {\r\n        data.forEach((item) => {\r\n          settingsList.push([item.key, JSON.parse(item.value)]);\r\n        });\r\n        setSettings(Object.fromEntries(settingsList));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleOnChangeVariable = (e) => {\r\n    if (e.target.value !== null) {\r\n      const changedProp = {};\r\n      changedProp[e.target.name] = e.target.value;\r\n      setVariable((prev) => ({ ...prev, ...changedProp }));\r\n    }\r\n  };\r\n\r\n  const handleOnChangeSettings = (e) => {\r\n    const changedProp = {};\r\n    changedProp[e.target.name] = e.target.value;\r\n    setSettings((prev) => ({ ...prev, ...changedProp }));\r\n  };\r\n\r\n  const addVariable = () => {\r\n    setSettings((prev) => {\r\n      const variablesExists = settings.variables.filter(\r\n        (v) => v.key === variable.key\r\n      );\r\n      const variables = prev.variables;\r\n      if (variablesExists.length === 0) {\r\n        variables.push(Object.assign({}, variable));\r\n        setVariable({ key: \"\", value: \"\" });\r\n      }\r\n      return { ...prev, variables };\r\n    });\r\n  };\r\n\r\n  const removeVariable = () => {\r\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\r\n    setSettings((prev) => ({ ...prev, variables: newList }));\r\n    setSelectedKey(null);\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    await api.post(\"/campaign-settings\", { settings });\r\n    toast.success(\"Configurações salvas\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={removeVariable}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} item>\r\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Box className={classes.tabPanelsContainer}>\r\n          <Grid spacing={2} container>\r\n            <Grid xs={12} item>\r\n              <Typography component={\"h3\"}>Intervalos</Typography>\r\n            </Grid>\r\n            <Grid xs={12} md={4} item>\r\n              <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.formControl}\r\n                fullWidth\r\n              >\r\n                <InputLabel id=\"messageInterval-label\">\r\n                  Intervalo Randômico de Disparo\r\n                </InputLabel>\r\n                <Select\r\n                  name=\"messageInterval\"\r\n                  id=\"messageInterval\"\r\n                  labelId=\"messageInterval-label\"\r\n                  label=\"Intervalo Randômico de Disparo\"\r\n                  value={settings.messageInterval}\r\n                  onChange={(e) => handleOnChangeSettings(e)}\r\n                >\r\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\r\n                  <MenuItem value={5}>5 segundos</MenuItem>\r\n                  <MenuItem value={10}>10 segundos</MenuItem>\r\n                  <MenuItem value={15}>15 segundos</MenuItem>\r\n                  <MenuItem value={20}>20 segundos</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid xs={12} md={4} item>\r\n              <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.formControl}\r\n                fullWidth\r\n              >\r\n                <InputLabel id=\"longerIntervalAfter-label\">\r\n                  Intervalo Maior Após\r\n                </InputLabel>\r\n                <Select\r\n                  name=\"longerIntervalAfter\"\r\n                  id=\"longerIntervalAfter\"\r\n                  labelId=\"longerIntervalAfter-label\"\r\n                  label=\"Intervalo Maior Após\"\r\n                  value={settings.longerIntervalAfter}\r\n                  onChange={(e) => handleOnChangeSettings(e)}\r\n                >\r\n                  <MenuItem value={0}>Não definido</MenuItem>\r\n                  <MenuItem value={1}>1 segundo</MenuItem>\r\n                  <MenuItem value={5}>5 segundos</MenuItem>\r\n                  <MenuItem value={10}>10 segundos</MenuItem>\r\n                  <MenuItem value={15}>15 segundos</MenuItem>\r\n                  <MenuItem value={20}>20 segundos</MenuItem>\r\n                  <MenuItem value={30}>30 segundos</MenuItem>\r\n                  <MenuItem value={40}>40 segundos</MenuItem>\r\n                  <MenuItem value={60}>60 segundos</MenuItem>\r\n                  <MenuItem value={80}>80 segundos</MenuItem>\r\n                  <MenuItem value={100}>100 segundos</MenuItem>\r\n                  <MenuItem value={120}>120 segundos</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid xs={12} md={4} item>\r\n              <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.formControl}\r\n                fullWidth\r\n              >\r\n                <InputLabel id=\"greaterInterval-label\">\r\n                  Intervalo de Disparo Maior\r\n                </InputLabel>\r\n                <Select\r\n                  name=\"greaterInterval\"\r\n                  id=\"greaterInterval\"\r\n                  labelId=\"greaterInterval-label\"\r\n                  label=\"Intervalo de Disparo Maior\"\r\n                  value={settings.greaterInterval}\r\n                  onChange={(e) => handleOnChangeSettings(e)}\r\n                >\r\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\r\n                  <MenuItem value={1}>1 segundo</MenuItem>\r\n                  <MenuItem value={5}>5 segundos</MenuItem>\r\n                  <MenuItem value={10}>10 segundos</MenuItem>\r\n                  <MenuItem value={15}>15 segundos</MenuItem>\r\n                  <MenuItem value={20}>20 segundos</MenuItem>\r\n                  <MenuItem value={30}>30 segundos</MenuItem>\r\n                  <MenuItem value={40}>40 segundos</MenuItem>\r\n                  <MenuItem value={60}>60 segundos</MenuItem>\r\n                  <MenuItem value={80}>80 segundos</MenuItem>\r\n                  <MenuItem value={100}>100 segundos</MenuItem>\r\n                  <MenuItem value={120}>120 segundos</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid xs={12} className={classes.textRight} item>\r\n              <Button\r\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                color=\"primary\"\r\n                style={{ marginRight: 10 }}\r\n              >\r\n                Adicionar Variável\r\n              </Button>\r\n              <Button\r\n                onClick={saveSettings}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Salvar Configurações\r\n              </Button>\r\n            </Grid>\r\n            {showVariablesForm && (\r\n              <>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label=\"Atalho\"\r\n                    variant=\"outlined\"\r\n                    value={variable.key}\r\n                    name=\"key\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label=\"Conteúdo\"\r\n                    variant=\"outlined\"\r\n                    value={variable.value}\r\n                    name=\"value\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} className={classes.textRight} item>\r\n                  <Button\r\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                    color=\"primary\"\r\n                    style={{ marginRight: 10 }}\r\n                  >\r\n                    Fechar\r\n                  </Button>\r\n                  <Button\r\n                    onClick={addVariable}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                  >\r\n                    Adicionar\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n            )}\r\n            {settings.variables.length > 0 && (\r\n              <Grid xs={12} className={classes.textRight} item>\r\n                <Table size=\"small\">\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\r\n                      <TableCell>Atalho</TableCell>\r\n                      <TableCell>Conteúdo</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {Array.isArray(settings.variables) &&\r\n                      settings.variables.map((v, k) => (\r\n                        <TableRow key={k}>\r\n                          <TableCell>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => {\r\n                                setSelectedKey(v.key);\r\n                                setConfirmationOpen(true);\r\n                              }}\r\n                            >\r\n                              <DeleteOutlineIcon />\r\n                            </IconButton>\r\n                          </TableCell>\r\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\r\n                          <TableCell>{v.value}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>\r\n            )}\r\n          </Grid>\r\n        </Box>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignsConfig;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { has, get, isNull } from \"lodash\";\r\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst CampaignReport = () => {\r\n  const classes = useStyles();\r\n\r\n  const { campaignId } = useParams();\r\n\r\n  const [campaign, setCampaign] = useState({});\r\n  const [validContacts, setValidContacts] = useState(0);\r\n  const [delivered, setDelivered] = useState(0);\r\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\r\n  const [confirmed, setConfirmed] = useState(0);\r\n  const [percent, setPercent] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const mounted = useRef(true);\r\n\r\n  const { datetimeToClient } = useDate();\r\n\r\n  useEffect(() => {\r\n    if (mounted.current) {\r\n      findCampaign();\r\n    }\r\n\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current && has(campaign, \"shipping\")) {\r\n      if (has(campaign, \"contactList\")) {\r\n        const contactList = get(campaign, \"contactList\");\r\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\r\n        setValidContacts(valids.length);\r\n      }\r\n\r\n      if (has(campaign, \"shipping\")) {\r\n        const contacts = get(campaign, \"shipping\");\r\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\r\n        const confirmationRequested = contacts.filter(\r\n          (c) => !isNull(c.confirmationRequestedAt)\r\n        );\r\n        const confirmed = contacts.filter(\r\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\r\n        );\r\n        setDelivered(delivered.length);\r\n        setConfirmationRequested(confirmationRequested.length);\r\n        setConfirmed(confirmed.length);\r\n        setDelivered(delivered.length);\r\n      }\r\n    }\r\n  }, [campaign]);\r\n\r\n  useEffect(() => {\r\n    setPercent((delivered / validContacts) * 100);\r\n  }, [delivered, validContacts]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-campaign`, (data) => {\r\n     \r\n      if (data.record.id === +campaignId) {\r\n        setCampaign(data.record);\r\n\r\n        if (data.record.status === \"FINALIZADA\") {\r\n          setTimeout(() => {\r\n            findCampaign();\r\n          }, 5000);\r\n        }\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [campaignId]);\r\n\r\n  const findCampaign = async () => {\r\n    setLoading(true);\r\n    const { data } = await api.get(`/campaigns/${campaignId}`);\r\n    setCampaign(data);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return \"Inativa\";\r\n      case \"PROGRAMADA\":\r\n        return \"Programada\";\r\n      case \"EM_ANDAMENTO\":\r\n        return \"Em Andamento\";\r\n      case \"CANCELADA\":\r\n        return \"Cancelada\";\r\n      case \"FINALIZADA\":\r\n        return \"Finalizada\";\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} item>\r\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\r\n        </Typography>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} item>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\r\n              value={percent}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<GroupIcon fontSize=\"inherit\" />}\r\n              title=\"Contatos Válidos\"\r\n              value={validContacts}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.confirmation && (\r\n            <>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneIcon fontSize=\"inherit\" />}\r\n                  title=\"Confirmações Solicitadas\"\r\n                  value={confirmationRequested}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\r\n                  title=\"Confirmações\"\r\n                  value={confirmed}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\r\n              title=\"Entregues\"\r\n              value={delivered}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.whatsappId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\r\n                title=\"Conexão\"\r\n                value={campaign.whatsapp.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          {campaign.contactListId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<ListAltIcon fontSize=\"inherit\" />}\r\n                title=\"Lista de Contatos\"\r\n                value={campaign.contactList.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\r\n              title=\"Agendamento\"\r\n              value={datetimeToClient(campaign.scheduledAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\r\n              title=\"Conclusão\"\r\n              value={datetimeToClient(campaign.completedAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignReport;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head } from \"lodash\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst AnnouncementSchema = Yup.object().shape({\r\n  title: Yup.string().required(\"Obrigatório\"),\r\n  text: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    title: \"\",\r\n    text: \"\",\r\n    priority: 3,\r\n    status: true,\r\n  };\r\n\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [announcement, setAnnouncement] = useState(initialState);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const attachmentFile = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (!announcementId) return;\r\n\r\n        const { data } = await api.get(`/announcements/${announcementId}`);\r\n        setAnnouncement((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      })();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [announcementId, open]);\r\n\r\n  const handleClose = () => {\r\n    setAnnouncement(initialState);\r\n    setAttachment(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveAnnouncement = async (values) => {\r\n    const announcementData = { ...values };\r\n    try {\r\n      if (announcementId) {\r\n        await api.put(`/announcements/${announcementId}`, announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(\r\n            `/announcements/${announcementId}/media-upload`,\r\n            formData\r\n          );\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/announcements\", announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"announcements.toasts.success\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (announcement.mediaPath) {\r\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n      setAnnouncement((prev) => ({\r\n        ...prev,\r\n        mediaPath: null,\r\n      }));\r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {announcementId\r\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\r\n            : `${i18n.t(\"announcements.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".png,.jpg,.jpeg\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={announcement}\r\n          enableReinitialize={true}\r\n          validationSchema={AnnouncementSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveAnnouncement(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.title\")}\r\n                      name=\"title\"\r\n                      error={touched.title && Boolean(errors.title)}\r\n                      helperText={touched.title && errors.title}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.text\")}\r\n                      name=\"text\"\r\n                      error={touched.text && Boolean(errors.text)}\r\n                      helperText={touched.text && errors.text}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      multiline={true}\r\n                      rows={7}\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"status-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.status\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.status\")}\r\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\r\n                        labelId=\"status-selection-label\"\r\n                        id=\"status\"\r\n                        name=\"status\"\r\n                        error={touched.status && Boolean(errors.status)}\r\n                      >\r\n                        <MenuItem value={true}>Ativo</MenuItem>\r\n                        <MenuItem value={false}>Inativo</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"priority-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.priority\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\r\n                        placeholder={i18n.t(\r\n                          \"announcements.dialog.form.priority\"\r\n                        )}\r\n                        labelId=\"priority-selection-label\"\r\n                        id=\"priority\"\r\n                        name=\"priority\"\r\n                        error={touched.priority && Boolean(errors.priority)}\r\n                      >\r\n                        <MenuItem value={1}>Alta</MenuItem>\r\n                        <MenuItem value={2}>Média</MenuItem>\r\n                        <MenuItem value={3}>Baixa</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  {(announcement.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment ? attachment.name : announcement.mediaName}\r\n                      </Button>\r\n                      <IconButton\r\n                        onClick={() => setConfirmationOpen(true)}\r\n                        color=\"secondary\"\r\n                      >\r\n                        <DeleteOutlineIcon />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {!attachment && !announcement.mediaPath && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {announcementId\r\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\r\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnnouncementModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Announcements = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\r\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\r\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n\r\n  // trava para nao acessar pagina que não pode  \r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!user.super) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    socket.on(`company-announcement`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n      }\r\n    });\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleCloseAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditAnnouncement = (announcement) => {\r\n    setSelectedAnnouncement(announcement);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteAnnouncement = async (announcement) => {\r\n    try {\r\n      if (announcement.mediaName)\r\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n\r\n      await api.delete(`/announcements/${announcement.id}`);\r\n      \r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingAnnouncement(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const translatePriority = (val) => {\r\n    if (val === 1) {\r\n      return \"Alta\";\r\n    }\r\n    if (val === 2) {\r\n      return \"Média\";\r\n    }\r\n    if (val === 3) {\r\n      return \"Baixa\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer >\r\n      <ConfirmationModal\r\n        title={\r\n          deletingAnnouncement &&\r\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <AnnouncementModal\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchAnnouncements();\r\n        }}\r\n        open={announcementModalOpen}\r\n        onClose={handleCloseAnnouncementModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenAnnouncementModal}\r\n                  color=\"primary\"\r\n                >\r\n                  {i18n.t(\"announcements.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.title\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.priority\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.mediaName\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {announcements.map((announcement) => (\r\n                <TableRow key={announcement.id}>\r\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {translatePriority(announcement.priority)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditAnnouncement(announcement)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingAnnouncement(announcement);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer >\r\n  )\r\n};\r\n\r\nexport default Announcements;","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Chip,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    height: \"calc(100% - 58px)\",\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    backgroundColor: theme.palette.boxlist, //DARK MODE PLW DESIGN//\r\n  },\r\n  chatList: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  listItem: {\r\n    cursor: \"pointer\",\r\n  },\r\n}));\r\n\r\nexport default function ChatList({\r\n  chats,\r\n  handleSelectChat,\r\n  handleDeleteChat,\r\n  handleEditChat,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { user } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n\r\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\r\n  const [selectedChat, setSelectedChat] = useState({});\r\n\r\n  const { id } = useParams();\r\n\r\n  const goToMessages = async (chat) => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n\r\n    if (id !== chat.uuid) {\r\n      history.push(`/chats/${chat.uuid}`);\r\n      handleSelectChat(chat);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    handleDeleteChat(selectedChat);\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    const currentUser = chat.users.find((u) => u.userId === user.id);\r\n    return currentUser.unreads;\r\n  };\r\n\r\n  const getPrimaryText = (chat) => {\r\n    const mainText = chat.title;\r\n    const unreads = unreadMessages(chat);\r\n    return (\r\n      <>\r\n        {mainText}\r\n        {unreads > 0 && (\r\n          <Chip\r\n            size=\"small\"\r\n            style={{ marginLeft: 5 }}\r\n            label={unreads}\r\n            color=\"secondary\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const getSecondaryText = (chat) => {\r\n    return chat.lastMessage !== \"\"\r\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\r\n      : \"\";\r\n  };\r\n\r\n  const getItemStyle = (chat) => {\r\n    return {\r\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\r\n      backgroundColor: chat.uuid === id ? \"theme.palette.chatlist\" : null,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ConfirmationModal\r\n        title={\"Excluir Conversa\"}\r\n        open={confirmationModal}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleDelete}\r\n      >\r\n        Esta ação não pode ser revertida, confirmar?\r\n      </ConfirmationModal>\r\n      <div className={classes.mainContainer}>\r\n        <div className={classes.chatList}>\r\n          <List>\r\n            {Array.isArray(chats) &&\r\n              chats.length > 0 &&\r\n              chats.map((chat, key) => (\r\n                <ListItem\r\n                  onClick={() => goToMessages(chat)}\r\n                  key={key}\r\n                  className={classes.listItem}\r\n                  style={getItemStyle(chat)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={getPrimaryText(chat)}\r\n                    secondary={getSecondaryText(chat)}\r\n                  />\r\n                  {chat.ownerId === user.id && (\r\n                    <ListItemSecondaryAction>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          goToMessages(chat).then(() => {\r\n                            handleEditChat(chat);\r\n                          });\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                        style={{ marginRight: 5 }}\r\n                      >\r\n                        <EditIcon />\r\n                      </IconButton>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          setSelectedChat(chat);\r\n                          setConfirmModalOpen(true);\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </ListItemSecondaryAction>\r\n                  )}\r\n                </ListItem>\r\n              ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport api from \"../../services/api\";\r\nimport { lightBlue } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    height: \"100%\",\r\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  messageList: {\r\n    position: \"relative\",\r\n    overflowY: \"auto\",\r\n    height: \"100%\",\r\n    ...theme.scrollbarStyles,\r\n    backgroundColor: theme.palette.chatlist, //DARK MODE PLW DESIGN//\r\n  },\r\n  inputArea: {\r\n    position: \"relative\",\r\n    height: \"auto\",\r\n  },\r\n  input: {\r\n    padding: \"20px\",\r\n  },\r\n  buttonSend: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  boxLeft: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px\",\r\n    position: \"relative\",\r\n    backgroundColor: \"lightGreen\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomLeftRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  boxRight: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px 10px 10px auto\",\r\n    position: \"relative\",\r\n    backgroundColor: \"lightBlue\", //DARK MODE PLW DESIGN//\r\n    textAlign: \"right\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomRightRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n}));\r\n\r\nexport default function ChatMessages({\r\n  chat,\r\n  messages,\r\n  handleSendMessage,\r\n  handleLoadMore,\r\n  scrollToBottomRef,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n  const baseRef = useRef();\r\n\r\n  const [contentMessage, setContentMessage] = useState(\"\");\r\n\r\n  const scrollToBottom = () => {\r\n    if (baseRef.current) {\r\n      baseRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    if (chat !== undefined) {\r\n      const currentUser = chat.users.find((u) => u.userId === user.id);\r\n      return currentUser.unreads > 0;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n    scrollToBottomRef.current = scrollToBottom;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleScroll = (e) => {\r\n    const { scrollTop } = e.currentTarget;\r\n    if (!pageInfo.hasMore || loading) return;\r\n    if (scrollTop < 600) {\r\n      handleLoadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainContainer}>\r\n      <div onScroll={handleScroll} className={classes.messageList}>\r\n        {Array.isArray(messages) &&\r\n          messages.map((item, key) => {\r\n            if (item.senderId === user.id) {\r\n              return (\r\n                <Box key={key} className={classes.boxRight}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            } else {\r\n              return (\r\n                <Box key={key} className={classes.boxLeft}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            }\r\n          })}\r\n        <div ref={baseRef}></div>\r\n      </div>\r\n      <div className={classes.inputArea}>\r\n        <FormControl variant=\"outlined\" fullWidth>\r\n          <Input\r\n            multiline\r\n            value={contentMessage}\r\n            onKeyUp={(e) => {\r\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\r\n                handleSendMessage(contentMessage);\r\n                setContentMessage(\"\");\r\n              }\r\n            }}\r\n            onChange={(e) => setContentMessage(e.target.value)}\r\n            className={classes.input}\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  onClick={() => {\r\n                    if (contentMessage.trim() !== \"\") {\r\n                      handleSendMessage(contentMessage);\r\n                      setContentMessage(\"\");\r\n                    }\r\n                  }}\r\n                  className={classes.buttonSend}\r\n                >\r\n                  <SendIcon />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport ChatList from \"./ChatList\";\r\nimport ChatMessages from \"./ChatMessages\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport api from \"../../services/api\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nimport { has, isObject } from \"lodash\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `calc(100% - 48px)`,\r\n    overflowY: \"hidden\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    backgroundColor: theme.palette.dark,\r\n  },\r\n  gridItem: {\r\n    height: \"100%\",\r\n  },\r\n  gridItemTab: {\r\n    height: \"92%\",\r\n    width: \"100%\",\r\n  },\r\n  btnContainer: {\r\n    textAlign: \"right\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nexport function ChatModal({\r\n  open,\r\n  chat,\r\n  type,\r\n  handleClose,\r\n  handleLoadNewChat,\r\n}) {\r\n  const [users, setUsers] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setTitle(\"\");\r\n    setUsers([]);\r\n    if (type === \"edit\") {\r\n      const userList = chat.users.map((u) => ({\r\n        id: u.user.id,\r\n        name: u.user.name,\r\n      }));\r\n      setUsers(userList);\r\n      setTitle(chat.title);\r\n    }\r\n  }, [chat, open, type]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (!title) {\r\n        alert(\"Por favor, preencha o título da conversa.\");\r\n        return;\r\n      }\r\n\r\n      if (!users || users.length === 0) {\r\n        alert(\"Por favor, selecione pelo menos um usuário.\");\r\n        return;\r\n      }\r\n\r\n      if (type === \"edit\") {\r\n        await api.put(`/chats/${chat.id}`, {\r\n          users,\r\n          title,\r\n        });\r\n      } else {\r\n        const { data } = await api.post(\"/chats\", {\r\n          users,\r\n          title,\r\n        });\r\n        handleLoadNewChat(data);\r\n      }\r\n      handleClose();\r\n    } catch (err) {}\r\n  };  \r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\r\n      <DialogContent>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} style={{ padding: 18 }} item>\r\n            <TextField\r\n              label=\"Título\"\r\n              placeholder=\"Título\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} item>\r\n            <UsersFilter\r\n              onFiltered={(users) => setUsers(users)}\r\n              initialUsers={users}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\r\n          Salvar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction Chat(props) {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [dialogType, setDialogType] = useState(\"new\");\r\n  const [currentChat, setCurrentChat] = useState({});\r\n  const [chats, setChats] = useState([]);\r\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\r\n  const [messages, setMessages] = useState([]);\r\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\r\n  const [messagesPage, setMessagesPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const isMounted = useRef(true);\r\n  const scrollToBottomRef = useRef();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      findChats().then((data) => {\r\n        const { records } = data;\r\n        if (records.length > 0) {\r\n          setChats(records);\r\n          setChatsPageInfo(data);\r\n\r\n          if (id && records.length) {\r\n            const chat = records.find((r) => r.uuid === id);\r\n            selectChat(chat);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      findMessages(currentChat.id).then(() => {\r\n        if (typeof scrollToBottomRef.current === \"function\") {\r\n          setTimeout(() => {\r\n            scrollToBottomRef.current();\r\n          }, 300);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\r\n      if (data.action === \"create\") {\r\n        setChats((prev) => [data.record, ...prev]);\r\n      }\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.record.id) {\r\n            setCurrentChat(data.record);\r\n            return {\r\n              ...data.record,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n      }\r\n    });\r\n\r\n    socket.on(`company-${companyId}-chat`, (data) => {\r\n      if (data.action === \"delete\") {\r\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\r\n        setChats(filteredChats);\r\n        setMessages([]);\r\n        setMessagesPage(1);\r\n        setMessagesPageInfo({ hasMore: false });\r\n        setCurrentChat({});\r\n        history.push(\"/chats\");\r\n      }\r\n    });\r\n\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\r\n        if (data.action === \"new-message\") {\r\n          setMessages((prev) => [...prev, data.newMessage]);\r\n          const changedChats = chats.map((chat) => {\r\n            if (chat.id === data.newMessage.chatId) {\r\n              return {\r\n                ...data.chat,\r\n              };\r\n            }\r\n            return chat;\r\n          });\r\n          setChats(changedChats);\r\n          scrollToBottomRef.current();\r\n        }\r\n\r\n        if (data.action === \"update\") {\r\n          const changedChats = chats.map((chat) => {\r\n            if (chat.id === data.chat.id) {\r\n              return {\r\n                ...data.chat,\r\n              };\r\n            }\r\n            return chat;\r\n          });\r\n          setChats(changedChats);\r\n          scrollToBottomRef.current();\r\n        }\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  const selectChat = (chat) => {\r\n    try {\r\n      setMessages([]);\r\n      setMessagesPage(1);\r\n      setCurrentChat(chat);\r\n      setTab(1);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const sendMessage = async (contentMessage) => {\r\n    setLoading(true);\r\n    try {\r\n      await api.post(`/chats/${currentChat.id}/messages`, {\r\n        message: contentMessage,\r\n      });\r\n    } catch (err) {}\r\n    setLoading(false);\r\n  };\r\n\r\n  const deleteChat = async (chat) => {\r\n    try {\r\n      await api.delete(`/chats/${chat.id}`);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const findMessages = async (chatId) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get(\r\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\r\n      );\r\n      setMessagesPage((prev) => prev + 1);\r\n      setMessagesPageInfo(data);\r\n      setMessages((prev) => [...data.records, ...prev]);\r\n    } catch (err) {}\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadMoreMessages = async () => {\r\n    if (!loading) {\r\n      findMessages(currentChat.id);\r\n    }\r\n  };\r\n\r\n  const findChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats\");\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const renderGrid = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid className={classes.gridItem} md={3} item>\r\n          \r\n            <div className={classes.btnContainer}>\r\n              <Button\r\n                onClick={() => {\r\n                  setDialogType(\"new\");\r\n                  setShowDialog(true);\r\n                }}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Nova\r\n              </Button>\r\n            </div>\r\n          \r\n          <ChatList\r\n            chats={chats}\r\n            pageInfo={chatsPageInfo}\r\n            loading={loading}\r\n            handleSelectChat={(chat) => selectChat(chat)}\r\n            handleDeleteChat={(chat) => deleteChat(chat)}\r\n            handleEditChat={() => {\r\n              setDialogType(\"edit\");\r\n              setShowDialog(true);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid className={classes.gridItem} md={9} item>\r\n          {isObject(currentChat) && has(currentChat, \"id\") && (\r\n            <ChatMessages\r\n              chat={currentChat}\r\n              scrollToBottomRef={scrollToBottomRef}\r\n              pageInfo={messagesPageInfo}\r\n              messages={messages}\r\n              loading={loading}\r\n              handleSendMessage={sendMessage}\r\n              handleLoadMore={loadMoreMessages}\r\n            />\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderTab = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid md={12} item>\r\n          <Tabs\r\n            value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={(e, v) => setTab(v)}\r\n            aria-label=\"disabled tabs example\"\r\n          >\r\n            <Tab label=\"Chats\" />\r\n            <Tab label=\"Mensagens\" />\r\n          </Tabs>\r\n        </Grid>\r\n        {tab === 0 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            <div className={classes.btnContainer}>\r\n              <Button\r\n                onClick={() => setShowDialog(true)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Novo\r\n              </Button>\r\n            </div>\r\n            <ChatList\r\n              chats={chats}\r\n              pageInfo={chatsPageInfo}\r\n              loading={loading}\r\n              handleSelectChat={(chat) => selectChat(chat)}\r\n              handleDeleteChat={(chat) => deleteChat(chat)}\r\n            />\r\n          </Grid>\r\n        )}\r\n        {tab === 1 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            {isObject(currentChat) && has(currentChat, \"id\") && (\r\n              <ChatMessages\r\n                scrollToBottomRef={scrollToBottomRef}\r\n                pageInfo={messagesPageInfo}\r\n                messages={messages}\r\n                loading={loading}\r\n                handleSendMessage={sendMessage}\r\n                handleLoadMore={loadMoreMessages}\r\n              />\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatModal\r\n        type={dialogType}\r\n        open={showDialog}\r\n        chat={currentChat}\r\n        handleLoadNewChat={(data) => {\r\n          setMessages([]);\r\n          setMessagesPage(1);\r\n          setCurrentChat(data);\r\n          setTab(1);\r\n          history.push(`/chats/${data.uuid}`);\r\n        }}\r\n        handleClose={() => setShowDialog(false)}\r\n      />\r\n      <Paper className={classes.mainContainer}>\r\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withWidth()(Chat);\r\n","import React, { useState, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst _formatDate = (date) => {\r\n  const now = new Date();\r\n  const past = new Date(date);\r\n  const diff = Math.abs(now.getTime() - past.getTime());\r\n  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\r\n\r\n  return days;\r\n}\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading,] = useState(false);\r\n  const [, setPageNumber] = useState(1);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [hasMore,] = useState(false);\r\n\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></SubscriptionModal>\r\n\r\n      <MainHeader>\r\n        <Title>Assinatura</Title>\r\n      </MainHeader>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Período de teste\"\r\n              defaultValue={`Seu período de teste termina em ${_formatDate(user?.company?.trialExpiration)} dias!`}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Email de cobrança\"\r\n              defaultValue={user?.company?.email}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleOpenContactModal}\r\n              fullWidth\r\n            >\r\n              Assine Agora!\r\n            </Button>\r\n          </div>\r\n\r\n        </Paper>\r\n      </Grid>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport {\r\n    Formik,\r\n    Form,\r\n    Field,\r\n    FieldArray\r\n} from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n    Box,\r\n    Button,\r\n    CircularProgress,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Divider,\r\n    Grid,\r\n    makeStyles,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        gap: 4\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    textField: {\r\n        marginRight: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n\r\n    extraAttr: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 2000,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst FileListSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .min(3, \"nome muito curto\")\r\n        .required(\"Obrigatório\"),\r\n    message: Yup.string()\r\n        .required(\"Obrigatório\")\r\n});\r\n\r\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\r\n    const classes = useStyles();\r\n    const { user } = useContext(AuthContext);\r\n    const [ files, setFiles ] = useState([]);\r\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\r\n\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        message: \"\",\r\n        options: [{ name: \"\", path:\"\", mediaType:\"\" }],\r\n    };\r\n\r\n    const [fileList, setFileList] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            (async () => {\r\n                if (!fileListId) return;\r\n\r\n                const { data } = await api.get(`/files/${fileListId}`);\r\n                setFileList(data);\r\n            })()\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [fileListId, open]);\r\n\r\n    const handleClose = () => {\r\n        setFileList(initialState);\r\n        setFiles([]);\r\n        onClose();\r\n    };\r\n\r\n    const handleSaveFileList = async (values) => {\r\n\r\n        const uploadFiles = async (options, filesOptions, id) => {\r\n                const formData = new FormData();\r\n                formData.append(\"fileId\", id);\r\n                formData.append(\"typeArch\", \"fileList\")\r\n                filesOptions.forEach((fileOption, index) => {\r\n                    if (fileOption.file) {\r\n                        formData.append(\"files\", fileOption.file);\r\n                        formData.append(\"mediaType\", fileOption.file.type)\r\n                        formData.append(\"name\", options[index].name);\r\n                        formData.append(\"id\", options[index].id);\r\n                    }\r\n                });\r\n      \r\n              try {\r\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\r\n                setFiles([]);\r\n                return data;\r\n              } catch (err) {\r\n                toastError(err);\r\n              }\r\n            return null;\r\n        }\r\n\r\n        const fileData = { ...values, userId: user.id };\r\n        \r\n        try {\r\n            if (fileListId) {\r\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\r\n                if (data.options.length > 0)\r\n\r\n                    uploadFiles(data.options, values.options, fileListId)\r\n            } else {\r\n                const { data } = await api.post(\"/files\", fileData);\r\n                if (data.options.length > 0)\r\n                    uploadFiles(data.options, values.options, data.id)\r\n            }\r\n            toast.success(i18n.t(\"fileModal.success\"));\r\n            if (typeof reload == 'function') {\r\n                reload();\r\n            }            \r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n                scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={fileList}\r\n                    enableReinitialize={true}\r\n                    validationSchema={FileListSchema}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSaveFileList(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form>\r\n                            <DialogContent dividers>\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.name\")}\r\n                                        name=\"name\"\r\n                                        error={touched.name && Boolean(errors.name)}\r\n                                        helperText={touched.name && errors.name}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                <br />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.message\")}\r\n                                        type=\"message\"\r\n                                        multiline\r\n                                        minRows={5}\r\n                                        fullWidth\r\n                                        name=\"message\"\r\n                                        error={\r\n                                            touched.message && Boolean(errors.message)\r\n                                        }\r\n                                        helperText={\r\n                                            touched.message && errors.message\r\n                                        }\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                    />\r\n                                </div>\r\n                                <Typography\r\n                                    style={{ marginBottom: 8, marginTop: 12 }}\r\n                                    variant=\"subtitle1\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\r\n                                </Typography>\r\n\r\n                                <FieldArray name=\"options\">\r\n                                    {({ push, remove }) => (\r\n                                        <>\r\n                                            {values.options &&\r\n                                                values.options.length > 0 &&\r\n                                                values.options.map((info, index) => (    \r\n                                                    <div\r\n                                                        className={classes.extraAttr}\r\n                                                        key={`${index}-info`}\r\n                                                    >\r\n                                                        <Grid container  spacing={0}>\r\n                                                            <Grid xs={6} md={10} item> \r\n                                                                <Field\r\n                                                                    as={TextField}\r\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\r\n                                                                    name={`options[${index}].name`}\r\n                                                                    variant=\"outlined\"\r\n                                                                    margin=\"dense\"\r\n                                                                    multiline\r\n                                                                    fullWidth\r\n                                                                    minRows={2}\r\n                                                                    className={classes.textField}\r\n                                                                />\r\n                                                            </Grid>     \r\n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\r\n                                                                <input\r\n                                                                    type=\"file\"\r\n                                                                    onChange={(e) => {\r\n                                                                        const selectedFile = e.target.files[0];\r\n                                                                        const updatedOptions = [...values.options];                                                                \r\n                                                                        updatedOptions[index].file = selectedFile;\r\n                                                                       \r\n                                                                        setFiles('options', updatedOptions);\r\n\r\n                                                                        // Atualize a lista selectedFileNames para o campo específico\r\n                                                                        const updatedFileNames = [...selectedFileNames];\r\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\r\n                                                                        setSelectedFileNames(updatedFileNames);\r\n                                                                    }}\r\n                                                                    style={{ display: 'none' }}\r\n                                                                    name={`options[${index}].file`}\r\n                                                                    id={`file-upload-${index}`}\r\n                                                                />\r\n                                                                <label htmlFor={`file-upload-${index}`}>\r\n                                                                    <IconButton component=\"span\">\r\n                                                                        <AttachFileIcon />\r\n                                                                    </IconButton>\r\n                                                                </label>\r\n                                                                <IconButton\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => remove(index)}\r\n                                                                >\r\n                                                                    <DeleteOutlineIcon />\r\n                                                                </IconButton>    \r\n                                                            </Grid>\r\n                                                            <Grid xs={12} md={12} item>\r\n                                                                {info.path? info.path : selectedFileNames[index]}                               \r\n                                                            </Grid> \r\n                                                        </Grid>                                                    \r\n                                                </div>                     \r\n                                                                                           \r\n                                                ))}\r\n                                            <div className={classes.extraAttr}>\r\n                                                <Button\r\n                                                    style={{ flex: 1, marginTop: 8 }}\r\n                                                    variant=\"outlined\"\r\n                                                    color=\"primary\"\r\n                                                    onClick={() => {push({ name: \"\", path: \"\"});\r\n                                                    setSelectedFileNames([...selectedFileNames, \"\"]);\r\n                                                }}\r\n                                                >\r\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\r\n                                                </Button>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </FieldArray>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {fileListId\r\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilesModal;","import React, {\r\n    useState,\r\n    useEffect,\r\n    useReducer,\r\n    useCallback,\r\n    useContext,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport FileModal from \"../../components/FileModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === \"LOAD_FILES\") {\r\n        const files = action.payload;\r\n        const newFiles = [];\r\n\r\n        files.forEach((fileList) => {\r\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n            if (fileListIndex !== -1) {\r\n                state[fileListIndex] = fileList;\r\n            } else {\r\n                newFiles.push(fileList);\r\n            }\r\n        });\r\n\r\n        return [...state, ...newFiles];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_FILES\") {\r\n        const fileList = action.payload;\r\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n\r\n        if (fileListIndex !== -1) {\r\n            state[fileListIndex] = fileList;\r\n            return [...state];\r\n        } else {\r\n            return [fileList, ...state];\r\n        }\r\n    }\r\n\r\n    if (action.type === \"DELETE_TAG\") {\r\n        const fileListId = action.payload;\r\n\r\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\r\n        if (fileListIndex !== -1) {\r\n            state.splice(fileListIndex, 1);\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: theme.spacing(1),\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n    },\r\n}));\r\n\r\nconst FileLists = () => {\r\n    const classes = useStyles();\r\n\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [hasMore, setHasMore] = useState(false);\r\n    const [selectedFileList, setSelectedFileList] = useState(null);\r\n    const [deletingFileList, setDeletingFileList] = useState(null);\r\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n    const [searchParam, setSearchParam] = useState(\"\");\r\n    const [files, dispatch] = useReducer(reducer, []);\r\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\r\n\r\n    const fetchFileLists = useCallback(async () => {\r\n        try {\r\n            const { data } = await api.get(\"/files/\", {\r\n                params: { searchParam, pageNumber },\r\n            });\r\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [searchParam, pageNumber]);\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [searchParam]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            fetchFileLists();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchParam, pageNumber, fetchFileLists]);\r\n\r\n    useEffect(() => {\r\n        const socket = socketConnection({ companyId: user.companyId });\r\n\r\n        socket.on(`company-${user.companyId}-file`, (data) => {\r\n            if (data.action === \"update\" || data.action === \"create\") {\r\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({ type: \"DELETE_USER\", payload: +data.fileId });\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            socket.disconnect();\r\n        };\r\n    }, [user]);\r\n\r\n    const handleOpenFileListModal = () => {\r\n        setSelectedFileList(null);\r\n        setFileListModalOpen(true);\r\n    };\r\n\r\n    const handleCloseFileListModal = () => {\r\n        setSelectedFileList(null);\r\n        setFileListModalOpen(false);\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchParam(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleEditFileList = (fileList) => {\r\n        setSelectedFileList(fileList);\r\n        setFileListModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteFileList = async (fileListId) => {\r\n        try {\r\n            await api.delete(`/files/${fileListId}`);\r\n            toast.success(i18n.t(\"files.toasts.deleted\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingFileList(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n        await fetchFileLists();\r\n    };\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <MainContainer>\r\n            <ConfirmationModal\r\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\r\n                open={confirmModalOpen}\r\n                onClose={setConfirmModalOpen}\r\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\r\n            >\r\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\r\n            </ConfirmationModal>\r\n            <FileModal\r\n                open={fileListModalOpen}\r\n                onClose={handleCloseFileListModal}\r\n                reload={fetchFileLists}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                fileListId={selectedFileList && selectedFileList.id}\r\n            />\r\n            <MainHeader>\r\n                <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\r\n                <MainHeaderButtonsWrapper>\r\n                    <TextField\r\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <SearchIcon style={{ color: \"gray\" }} />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenFileListModal}\r\n                    >\r\n                        {i18n.t(\"files.buttons.add\")}\r\n                    </Button>\r\n                </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n            <Paper\r\n                className={classes.mainPaper}\r\n                variant=\"outlined\"\r\n                onScroll={handleScroll}\r\n            >\r\n                <Table size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\r\n                            <TableCell align=\"center\">\r\n                                {i18n.t(\"files.table.actions\")}\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        <>\r\n                            {files.map((fileList) => (\r\n                                <TableRow key={fileList.id}>\r\n                                    <TableCell align=\"center\">\r\n                                        {fileList.name}\r\n                                    </TableCell>\r\n                                    <TableCell align=\"center\">\r\n                                        <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\r\n                                            <EditIcon />\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={(e) => {\r\n                                                setConfirmModalOpen(true);\r\n                                                setDeletingFileList(fileList);\r\n                                            }}\r\n                                        >\r\n                                            <DeleteOutlineIcon />\r\n                                        </IconButton>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))}\r\n                            {loading && <TableRowSkeleton columns={4} />}\r\n                        </>\r\n                    </TableBody>\r\n                </Table>\r\n            </Paper>\r\n        </MainContainer>\r\n    );\r\n};\r\n\r\nexport default FileLists;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Field } from \"formik\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\n\r\nconst QueueSelectSingle = () => {\r\n    const classes = useStyles();\r\n    const [queues, setQueues] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await api.get(\"/queue\");\r\n                setQueues(data);\r\n            } catch (err) {\r\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ marginTop: 6 }}>\r\n            <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.FormControl}\r\n                margin=\"dense\"\r\n                fullWidth\r\n            >\r\n                <div>\r\n                    <Typography>\r\n                        {i18n.t(\"queueSelect.inputLabel\")}\r\n                    </Typography>\r\n                    <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueSelect.inputLabel\")}\r\n                        name=\"queueId\"\r\n                        labelId=\"queue-selection-label\"\r\n                        id=\"queue-selection\"\r\n                        fullWidth\r\n                    >\r\n                        {queues.map(queue => (\r\n                            <MenuItem key={queue.id} value={queue.id}>\r\n                                {queue.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Field>\r\n                </div>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QueueSelectSingle;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport QueueSelectSingle from \"../../components/QueueSelectSingle\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst PromptSchema = Yup.object().shape({\r\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\r\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\r\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\r\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\r\n    temperature: Yup.number().required(\"Informe a temperatura\"),\r\n    apikey: Yup.string().required(\"Informe a API Key\"),\r\n    queueId: Yup.number().required(\"Informe a fila\"),\r\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\r\n});\r\n\r\nconst PromptModal = ({ open, onClose, promptId }) => {\r\n    const classes = useStyles();\r\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\r\n    const [showApiKey, setShowApiKey] = useState(false);\r\n\r\n    const handleToggleApiKey = () => {\r\n        setShowApiKey(!showApiKey);\r\n    };\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        prompt: \"\",\r\n        voice: \"texto\",\r\n        voiceKey: \"\",\r\n        voiceRegion: \"\",\r\n        maxTokens: 100,\r\n        temperature: 1,\r\n        apiKey: \"\",\r\n        queueId: null,\r\n        maxMessages: 10\r\n    };\r\n\r\n    const [prompt, setPrompt] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        const fetchPrompt = async () => {\r\n            if (!promptId) {\r\n                setPrompt(initialState);\r\n                return;\r\n            }\r\n            try {\r\n                const { data } = await api.get(`/prompt/${promptId}`);\r\n                setPrompt(prevState => {\r\n                    return { ...prevState, ...data };\r\n                });\r\n                setSelectedVoice(data.voice);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        };\r\n\r\n        fetchPrompt();\r\n    }, [promptId, open]);\r\n\r\n    const handleClose = () => {\r\n        setPrompt(initialState);\r\n        setSelectedVoice(\"texto\");\r\n        onClose();\r\n    };\r\n\r\n    const handleChangeVoice = (e) => {\r\n        setSelectedVoice(e.target.value);\r\n    };\r\n\r\n    const handleSavePrompt = async values => {\r\n        const promptData = { ...values, voice: selectedVoice };\r\n        if (!values.queueId) {\r\n            toastError(\"Informe o setor\");\r\n            return;\r\n        }\r\n        try {\r\n            if (promptId) {\r\n                await api.put(`/prompt/${promptId}`, promptData);\r\n            } else {\r\n                await api.post(\"/prompt\", promptData);\r\n            }\r\n            toast.success(i18n.t(\"promptModal.success\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                scroll=\"paper\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {promptId\r\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\r\n                        : `${i18n.t(\"promptModal.title.add\")}`}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={prompt}\r\n                    enableReinitialize={true}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSavePrompt(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form style={{ width: \"100%\" }}>\r\n                            <DialogContent dividers>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.name\")}\r\n                                    name=\"name\"\r\n                                    error={touched.name && Boolean(errors.name)}\r\n                                    helperText={touched.name && errors.name}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                />\r\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.apikey\")}\r\n                                        name=\"apiKey\"\r\n                                        type={showApiKey ? 'text' : 'password'}\r\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\r\n                                        helperText={touched.apiKey && errors.apiKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        InputProps={{\r\n                                            endAdornment: (\r\n                                                <InputAdornment position=\"end\">\r\n                                                    <IconButton onClick={handleToggleApiKey}>\r\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\r\n                                                    </IconButton>\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                </FormControl>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.prompt\")}\r\n                                    name=\"prompt\"\r\n                                    error={touched.prompt && Boolean(errors.prompt)}\r\n                                    helperText={touched.prompt && errors.prompt}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                    rows={10}\r\n                                    multiline={true}\r\n                                />\r\n                                <QueueSelectSingle />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\r\n                                        <Select\r\n                                            id=\"type-select\"\r\n                                            labelWidth={60}\r\n                                            name=\"voice\"\r\n                                            value={selectedVoice}\r\n                                            onChange={handleChangeVoice}\r\n                                            multiple={false}\r\n                                        >\r\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\r\n                                                Texto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\r\n                                                Francisa\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\r\n                                                Antônio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\r\n                                                Brenda\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\r\n                                                Donato\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\r\n                                                Elza\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\r\n                                                Fábio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\r\n                                                Giovanna\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\r\n                                                Humberto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\r\n                                                Julio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\r\n                                                Leila\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\r\n                                                Letícia\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\r\n                                                Manuela\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\r\n                                                Nicolau\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\r\n                                                Valério\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\r\n                                                Yara\r\n                                            </MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\r\n                                        name=\"voiceKey\"\r\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\r\n                                        helperText={touched.voiceKey && errors.voiceKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\r\n                                        name=\"voiceRegion\"\r\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\r\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                \r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.temperature\")}\r\n                                        name=\"temperature\"\r\n                                        error={touched.temperature && Boolean(errors.temperature)}\r\n                                        helperText={touched.temperature && errors.temperature}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\r\n                                        name=\"maxTokens\"\r\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\r\n                                        helperText={touched.maxTokens && errors.maxTokens}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\r\n                                        name=\"maxMessages\"\r\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\r\n                                        helperText={touched.maxMessages && errors.maxMessages}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {promptId\r\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport openSocket from \"socket.io-client\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography // Importar Typography do Material-UI\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport PromptModal from \"../../components/PromptModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { socketConnection } from \"../../services/socket\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  // Adicione um estilo para a box vermelha\r\n  redBox: {\r\n    backgroundColor: \"#ffcccc\", // Definindo a cor de fundo vermelha\r\n    padding: theme.spacing(2), // Adicionando um espaçamento interno\r\n    marginBottom: theme.spacing(2), // Adicionando margem inferior para separar do conteúdo abaixo\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_PROMPTS\") {\r\n    const prompts = action.payload;\r\n    const newPrompts = [];\r\n\r\n    prompts.forEach((prompt) => {\r\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n      if (promptIndex !== -1) {\r\n        state[promptIndex] = prompt;\r\n      } else {\r\n        newPrompts.push(prompt);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newPrompts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_PROMPTS\") {\r\n    const prompt = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n\r\n    if (promptIndex !== -1) {\r\n      state[promptIndex] = prompt;\r\n      return [...state];\r\n    } else {\r\n      return [prompt, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_PROMPT\") {\r\n    const promptId = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === promptId);\r\n    if (promptIndex !== -1) {\r\n      state.splice(promptIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Prompts = () => {\r\n  const classes = useStyles();\r\n\r\n  const [prompts, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const { getPlanCompany } = usePlans();\r\n  const history = useHistory();\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useOpenAi) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    socket.on(`company-${companyId}-prompt`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenPromptModal = () => {\r\n    setPromptModalOpen(true);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleClosePromptModal = () => {\r\n    setPromptModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleEditPrompt = (prompt) => {\r\n    setSelectedPrompt(prompt);\r\n    setPromptModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleDeletePrompt = async (promptId) => {\r\n    try {\r\n      const { data } = await api.delete(`/prompt/${promptId}`);\r\n      toast.info(i18n.t(data.message));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      {/* Box vermelha com o aviso */}\r\n      <Paper className={classes.redBox} variant=\"outlined\">\r\n        <Typography variant=\"body1\">\r\n          <strong>Aviso Importante:</strong> Aviso Importante: Se o OpenAI parou de funcionar no seu CRM WN, é porque o crédito grátis de $5 USD acabou. Recarregue a conta para continuar usando o serviço sem interrupções. Verifique se seu crédito expirou e recarregue, se necessário. Links úteis para mais informações estão disponíveis abaixo. Obrigado pela compreensão.\r\n        </Typography>\r\n        {/* Links úteis */}\r\n        <Typography variant=\"body1\">\r\n          <strong>Links Úteis:</strong>\r\n          <br />\r\n          Uso: <a href=\"https://platform.openai.com/usage\">https://platform.openai.com/usage</a>\r\n          <br />\r\n          Fatura: <a href=\"https://platform.openai.com/account/billing/overview\">https://platform.openai.com/account/billing/overview</a>\r\n          <br />\r\n          API: <a href=\"https://platform.openai.com/api-keys\">https://platform.openai.com/api-keys</a>\r\n        </Typography>\r\n      </Paper>\r\n      {/* Fim da box vermelha */}\r\n\r\n      <ConfirmationModal\r\n        title={\r\n          selectedPrompt &&\r\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\r\n      >\r\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <PromptModal\r\n        open={promptModalOpen}\r\n        onClose={handleClosePromptModal}\r\n        promptId={selectedPrompt?.id}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"prompts.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenPromptModal}\r\n          >\r\n            {i18n.t(\"prompts.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"left\">\r\n                {i18n.t(\"prompts.table.name\")}\r\n              </TableCell>\r\n              <TableCell align=\"left\">\r\n                {i18n.t(\"prompts.table.queue\")}\r\n              </TableCell>\r\n              <TableCell align=\"left\">\r\n                {i18n.t(\"prompts.table.max_tokens\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"prompts.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {prompts.map((prompt) => (\r\n                <TableRow key={prompt.id}>\r\n                  <TableCell align=\"left\">{prompt.name}</TableCell>\r\n                  <TableCell align=\"left\">{prompt.queue.name}</TableCell>\r\n                  <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditPrompt(prompt)}\r\n                    >\r\n                      <Edit />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setSelectedPrompt(prompt);\r\n                        setConfirmModalOpen(true);\r\n                      }}\r\n                    >\r\n                      <DeleteOutline />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Prompts;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  CircularProgress,\r\n  Select,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  TextField,\r\n  Grid,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  btnLeft: {\r\n    display: \"flex\",\r\n    marginRight: \"auto\",\r\n    marginLeft: 12,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst DialogflowSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  // projectName: Yup.string()\r\n  //   .min(3, \"Too Short!\")\r\n  //   .max(100, \"Too Long!\")\r\n  //   .required(),\r\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\r\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\r\n});\r\n\r\n\r\n\r\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    type: \"typebot\",\r\n    name: \"\",\r\n    projectName: \"\",\r\n    jsonContent: \"\",\r\n    language: \"\",\r\n    urlN8N: \"\",\r\n    typebotDelayMessage: 1000,\r\n    typebotExpires: 1,\r\n    typebotKeywordFinish: \"\",\r\n    typebotKeywordRestart: \"\",\r\n    typebotRestartMessage: \"\",\r\n    typebotSlug: \"\",\r\n    typebotUnknownMessage: \"\",\r\n\r\n  };\r\n\r\n  const [integration, setIntegration] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!integrationId) return;\r\n      try {\r\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\r\n        setIntegration((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setIntegration({\r\n        type: \"dialogflow\",\r\n        name: \"\",\r\n        projectName: \"\",\r\n        jsonContent: \"\",\r\n        language: \"\",\r\n        urlN8N: \"\",\r\n        typebotDelayMessage: 1000\r\n      });\r\n    };\r\n\r\n  }, [integrationId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setIntegration(initialState);\r\n  };\r\n\r\n  const handleTestSession = async (event, values) => {\r\n    try {\r\n      const { projectName, jsonContent, language } = values;\r\n\r\n      await api.post(`/queueIntegration/testSession`, {\r\n        projectName,\r\n        jsonContent,\r\n        language,\r\n      });\r\n\r\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveDialogflow = async (values) => {\r\n    try {\r\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot') values.projectName = values.name\r\n      if (integrationId) {\r\n        await api.put(`/queueIntegration/${integrationId}`, values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\r\n      } else {\r\n        await api.post(\"/queueIntegration\", values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\r\n      }\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogTitle>\r\n          {integrationId\r\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\r\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={integration}\r\n          enableReinitialize={true}\r\n          validationSchema={DialogflowSchema}\r\n          onSubmit={(values, actions, event) => {\r\n            setTimeout(() => {\r\n              handleSaveDialogflow(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <Paper square className={classes.mainPaper} elevation={1}>\r\n                <DialogContent dividers>\r\n                  <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={6} xl={6}>\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        className={classes.formControl}\r\n                        margin=\"dense\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"type-selection-input-label\">\r\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\r\n                        </InputLabel>\r\n\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\r\n                          name=\"type\"\r\n                          labelId=\"profile-selection-label\"\r\n                          error={touched.type && Boolean(errors.type)}\r\n                          helpertext={touched.type && errors.type}\r\n                          id=\"type\"\r\n                          required\r\n                        >\r\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\r\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\r\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\r\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\r\n                        </Field>\r\n                      </FormControl>\r\n                    </Grid>\r\n                    {values.type === \"dialogflow\" && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            fullWidth\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            className={classes.formControl}\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"language-selection-input-label\">\r\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\r\n                            </InputLabel>\r\n\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\r\n                              name=\"language\"\r\n                              labelId=\"profile-selection-label\"\r\n                              fullWidth\r\n                              error={touched.language && Boolean(errors.language)}\r\n                              helpertext={touched.language && errors.language}\r\n                              id=\"language-selection\"\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\r\n                              <MenuItem value=\"en\">Inglês</MenuItem>\r\n                              <MenuItem value=\"es\">Español</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\r\n                            name=\"projectName\"\r\n                            error={touched.projectName && Boolean(errors.projectName)}\r\n                            helpertext={touched.projectName && errors.projectName}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\r\n                            type=\"jsonContent\"\r\n                            multiline\r\n                            //inputRef={greetingRef}\r\n                            maxRows={5}\r\n                            minRows={5}\r\n                            fullWidth\r\n                            name=\"jsonContent\"\r\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\r\n                            helpertext={touched.jsonContent && errors.jsonContent}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            required\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n                    {(values.type === \"typebot\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\r\n                            name=\"typebotSlug\"\r\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\r\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\r\n                            required\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\r\n                            name=\"typebotExpires\"\r\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\r\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\r\n                            name=\"typebotDelayMessage\"\r\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\r\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\r\n                            name=\"typebotKeywordFinish\"\r\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\r\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\r\n                            name=\"typebotKeywordRestart\"\r\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\r\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\r\n                            name=\"typebotUnknownMessage\"\r\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\r\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\r\n                            name=\"typebotRestartMessage\"\r\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\r\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        \r\n                      </>\r\n                    )}\r\n                  </Grid>\r\n                </DialogContent>\r\n              </Paper>\r\n\r\n              <DialogActions>\r\n                {values.type === \"dialogflow\" && (\r\n                  <Button\r\n                    //type=\"submit\"\r\n                    onClick={(e) => handleTestSession(e, values)}\r\n                    color=\"inherit\"\r\n                    disabled={isSubmitting}\r\n                    name=\"testSession\"\r\n                    variant=\"outlined\"\r\n                    className={classes.btnLeft}\r\n                  >\r\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {integrationId\r\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport n8n from \"../../assets/n8n.png\";\r\nimport dialogflow from \"../../assets/dialogflow.png\";\r\nimport webhooks from \"../../assets/webhook.png\";\r\nimport typebot from \"../../assets/typebot.jpg\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  IconButton,\r\n  InputAdornment,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n  Tooltip\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  DeleteOutline,\r\n  Edit\r\n} from \"@material-ui/icons\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const newIntegrations = [];\r\n\r\n    queueIntegration.forEach((integration) => {\r\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\r\n      if (integrationIndex !== -1) {\r\n        state[integrationIndex] = integration;\r\n      } else {\r\n        newIntegrations.push(integration);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newIntegrations];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\r\n\r\n    if (integrationIndex !== -1) {\r\n      state[integrationIndex] = queueIntegration;\r\n      return [...state];\r\n    } else {\r\n      return [queueIntegration, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_INTEGRATION\") {\r\n    const integrationId = action.payload;\r\n\r\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\r\n    if (integrationIndex !== -1) {\r\n      state.splice(integrationIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  avatar: {\r\n    width: \"140px\",\r\n    height: \"40px\",\r\n    borderRadius: 4\r\n  },\r\n}));\r\n\r\nconst QueueIntegration = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\r\n  const { user } = useContext(AuthContext);\r\n  const { getPlanCompany } = usePlans();\r\n  const companyId = user.companyId;\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useIntegrations) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchIntegrations = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/queueIntegration/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchIntegrations();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n    const socket = socketConnection({ companyId });\r\n\r\n    socket.on(`company-${companyId}-queueIntegration`, (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseIntegrationModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditIntegration = (queueIntegration) => {\r\n    setSelectedIntegration(queueIntegration);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteIntegration = async (integrationId) => {\r\n    try {\r\n      await api.delete(`/queueIntegration/${integrationId}`);\r\n      toast.success(i18n.t(\"Integração excluída\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <IntegrationModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseIntegrationModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        integrationId={selectedIntegration && selectedIntegration.id}\r\n      />\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon color=\"secondary\" />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenUserModal}\r\n          >\r\n            {i18n.t(\"queueIntegration.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\"></TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {queueIntegration.map((integration) => (\r\n                <TableRow key={integration.id}>\r\n                  <TableCell >\r\n                    {integration.type === \"dialogflow\" && (<Avatar \r\n                      src={dialogflow} className={classes.avatar} />)}\r\n                    {integration.type === \"n8n\" && (<Avatar\r\n                      src={n8n} className={classes.avatar} />)}\r\n                    {integration.type === \"webhook\" && (<Avatar\r\n                      src={webhooks} className={classes.avatar} />)}\r\n                    {integration.type === \"typebot\" && (<Avatar\r\n                      src={typebot} className={classes.avatar} />)}\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"center\">{integration.id}</TableCell>\r\n                  <TableCell align=\"center\">{integration.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditIntegration(integration)}\r\n                    >\r\n                      <Edit color=\"secondary\" />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingUser(integration);\r\n                      }}\r\n                    >\r\n                      <DeleteOutline color=\"secondary\" />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={7} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;","import React, { useState } from \"react\";\r\nimport qs from \"query-string\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport * as Yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\nimport logo from \"../../assets/logo3.png\";\r\nimport { toast } from 'react-toastify'; \r\nimport toastError from '../../errors/toastError';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.8)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"100% 100%\",\r\n    backgroundPosition: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: \"35px\",\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    border: \"6px solid transparent\",\r\n    boxShadow: \"0 0 180px rgba(0, 0, 255, 0.5)\",\r\n    animation: \"neonBorder 60s linear infinite\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  powered: {\r\n    color: \"white\",\r\n  },\r\n}));\r\n\r\nconst passwordRegex = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\r\n\r\nconst ForgetPassword = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  let companyId = null;\r\n  const [showAdditionalFields, setShowAdditionalFields] = useState(false);\r\n  const [showResetPasswordButton, setShowResetPasswordButton] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [error, setError] = useState(\"\"); // Estado para mensagens de erro\r\n  const [emailExists, setEmailExists] = useState(true); // Adicionado estado para verificar se o e-mail existe\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  const toggleConfirmPasswordVisibility = () => {\r\n    setShowConfirmPassword(!showConfirmPassword);\r\n  };\r\n\r\n  const toggleAdditionalFields = () => {\r\n    setShowAdditionalFields(!showAdditionalFields);\r\n    if (showAdditionalFields) {\r\n      setShowResetPasswordButton(false);\r\n    } else {\r\n      setShowResetPasswordButton(true);\r\n    }\r\n  };\r\n\r\n  const params = qs.parse(window.location.search);\r\n  if (params.companyId !== undefined) {\r\n    companyId = params.companyId;\r\n  }\r\n\r\n  const initialState = { email: \"\" };\r\n\r\n  const [user] = useState(initialState);\r\n  const dueDate = moment().add(3, \"day\").format();\r\n\r\nconst handleSendEmail = async (values) => {\r\n    const email = values.email;\r\n    try {\r\n      const response = await api.post(\r\n        `${process.env.REACT_APP_BACKEND_URL}/forgetpassword/${email}`\r\n      );\r\n\r\n      if (response.data.status === 404) {\r\n        setEmailExists(false); // Atualiza o estado se o e-mail não existe\r\n        toast.error(\"Email não encontrado\");\r\n      } else {\r\n        setEmailExists(true); // Atualiza o estado se o e-mail existe\r\n        toast.success(i18n.t(\"Email encontrado. Enviamos um código de verificação.\"));\r\n        // Adicional: Mostrar campos adicionais\r\n        toggleAdditionalFields();\r\n      }\r\n    } catch (err) {\r\n      console.log(\"API Error:\", err);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleResetPassword = async (values) => {\r\n    const email = values.email;\r\n    const token = values.token;\r\n    const newPassword = values.newPassword;\r\n    const confirmPassword = values.confirmPassword;\r\n\r\n    if (newPassword === confirmPassword) {\r\n      try {\r\n        await api.post(\r\n          `${process.env.REACT_APP_BACKEND_URL}/resetpasswords/${email}/${token}/${newPassword}`\r\n        );\r\n        setError(\"\"); // Limpe o erro se não houver erro\r\n        toast.success(i18n.t(\"Senha redefinida com sucesso.\"));\r\n        history.push(\"/login\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const isResetPasswordButtonClicked = showResetPasswordButton;\r\n  const UserSchema = Yup.object().shape({\r\n    email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n    newPassword: isResetPasswordButtonClicked\r\n      ? Yup.string()\r\n          .required(\"Campo obrigatório\")\r\n          .matches(\r\n            passwordRegex,\r\n            \"Sua senha precisa ter no mínimo 8 caracteres, sendo uma letra maiúscula, uma minúscula e um número.\"\r\n          )\r\n      : Yup.string(), // Sem validação se não for redefinição de senha\r\n    confirmPassword: Yup.string().when(\"newPassword\", {\r\n      is: (newPassword) => isResetPasswordButtonClicked && newPassword,\r\n      then: Yup.string()\r\n        .oneOf([Yup.ref(\"newPassword\"), null], \"As senhas não correspondem\")\r\n        .required(\"Campo obrigatório\"),\r\n      otherwise: Yup.string(), // Sem validação se não for redefinição de senha\r\n    }),\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <div>\r\n            <img\r\n              style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }}\r\n              src={logo}\r\n              alt=\"Whats\"\r\n            />\r\n          </div>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            {i18n.t(\"Redefinir senha\")}\r\n          </Typography>\r\n          <Formik\r\n  initialValues={{\r\n    email: \"\",\r\n    token: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  }}\r\n  enableReinitialize={true}\r\n  validationSchema={UserSchema}\r\n  onSubmit={(values, actions) => {\r\n    setTimeout(() => {\r\n      if (showResetPasswordButton) {\r\n        handleResetPassword(values);\r\n      } else {\r\n        if (emailExists) {\r\n          handleSendEmail(values);\r\n        } else {\r\n          toast.error(\"Email não encontrado. Certifique-se de que o e-mail está cadastrado.\");\r\n        }\r\n      }\r\n      actions.setSubmitting(false);\r\n    }, 400);\r\n  }}\r\n>\r\n  {({ touched, errors, isSubmitting }) => (\r\n    <Form className={classes.form}>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <Field\r\n            as={TextField}\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            id=\"email\"\r\n            label={i18n.t(\"signup.form.email\")}\r\n            name=\"email\"\r\n            error={touched.email && Boolean(errors.email)}\r\n            helperText={touched.email && errors.email}\r\n            autoComplete=\"email\"\r\n            required\r\n          />\r\n        </Grid>\r\n        {showAdditionalFields && (\r\n          <>\r\n            <Grid item xs={12}>\r\n              <Field\r\n                as={TextField}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"token\"\r\n                label=\"Código de Verificação\"\r\n                name=\"token\"\r\n                error={touched.token && Boolean(errors.token)}\r\n                helperText={touched.token && errors.token}\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Field\r\n                as={TextField}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                id=\"newPassword\"\r\n                label=\"Nova senha\"\r\n                name=\"newPassword\"\r\n                error={touched.newPassword && Boolean(errors.newPassword)}\r\n                helperText={touched.newPassword && errors.newPassword}\r\n                autoComplete=\"off\"\r\n                required\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton onClick={togglePasswordVisibility}>\r\n                        {showPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Field\r\n                as={TextField}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                type={showConfirmPassword ? \"text\" : \"password\"}\r\n                id=\"confirmPassword\"\r\n                label=\"Confirme a senha\"\r\n                name=\"confirmPassword\"\r\n                error={touched.confirmPassword && Boolean(errors.confirmPassword)}\r\n                helperText={touched.confirmPassword && errors.confirmPassword}\r\n                autoComplete=\"off\"\r\n                required\r\n                InputProps={{\r\n                  endAdornment: (\r\n                    <InputAdornment position=\"end\">\r\n                      <IconButton onClick={toggleConfirmPasswordVisibility}>\r\n                        {showConfirmPassword ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            </Grid>\r\n          </>\r\n        )}\r\n      </Grid>\r\n      {showResetPasswordButton ? (\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Redefinir Senha\r\n        </Button>\r\n      ) : (\r\n        <Button\r\n          type=\"submit\"\r\n          fullWidth\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          className={classes.submit}\r\n        >\r\n          Enviar Email\r\n        </Button>\r\n      )}\r\n      <Grid container justifyContent=\"flex-end\">\r\n        <Grid item>\r\n          <Link\r\n            href=\"#\"\r\n            variant=\"body2\"\r\n            component={RouterLink}\r\n            to=\"/signup\"\r\n          >\r\n            {i18n.t(\"Não tem uma conta? Cadastre-se!\")}\r\n          </Link>\r\n        </Grid>\r\n      </Grid>\r\n      {error && (\r\n        <Typography variant=\"body2\" color=\"error\">\r\n          {error}\r\n        </Typography>\r\n      )}\r\n    </Form>\r\n  )}\r\n</Formik>\r\n        </div>\r\n        <Box mt={5} />\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgetPassword;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport LoggedInLayout from \"../layout\";\r\nimport Dashboard from \"../pages/Dashboard/\";\r\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\r\nimport Signup from \"../pages/Signup/\";\r\nimport Login from \"../pages/Login/\";\r\nimport Connections from \"../pages/Connections/\";\r\nimport SettingsCustom from \"../pages/SettingsCustom/\";\r\nimport Financeiro from \"../pages/Financeiro/\";\r\nimport Users from \"../pages/Users\";\r\nimport Contacts from \"../pages/Contacts/\";\r\nimport Queues from \"../pages/Queues/\";\r\nimport Tags from \"../pages/Tags/\";\r\nimport MessagesAPI from \"../pages/MessagesAPI/\";\r\nimport Helps from \"../pages/Helps/\";\r\nimport ContactLists from \"../pages/ContactLists/\";\r\nimport ContactListItems from \"../pages/ContactListItems/\";\r\n// import Companies from \"../pages/Companies/\";\r\nimport QuickMessages from \"../pages/QuickMessages/\";\r\nimport Kanban from \"../pages/Kanban\";\r\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\r\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\r\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport Route from \"./Route\";\r\nimport Schedules from \"../pages/Schedules\";\r\nimport Campaigns from \"../pages/Campaigns\";\r\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\r\nimport CampaignReport from \"../pages/CampaignReport\";\r\nimport Annoucements from \"../pages/Annoucements\";\r\nimport Chat from \"../pages/Chat\";\r\nimport ToDoList from \"../pages/ToDoList/\";\r\nimport Subscription from \"../pages/Subscription/\";\r\nimport Files from \"../pages/Files/\";\r\nimport Prompts from \"../pages/Prompts\";\r\nimport QueueIntegration from \"../pages/QueueIntegration\";\r\nimport ForgetPassword from \"../pages/ForgetPassWord/\"; // Reset PassWd\r\n\r\nconst Routes = () => {\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const cshow = localStorage.getItem(\"cshow\");\r\n    if (cshow !== undefined) {\r\n      setShowCampaigns(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        <TicketsContextProvider>\r\n          <Switch>\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/signup\" component={Signup} />\r\n\t\t\t<Route exact path=\"/forgetpsw\" component={ForgetPassword} /> \r\n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\r\n            <WhatsAppsProvider>\r\n              <LoggedInLayout>\r\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\r\n                <Route\r\n                  exact\r\n                  path=\"/tickets/:ticketId?\"\r\n                  component={TicketResponsiveContainer}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/connections\"\r\n                  component={Connections}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/quick-messages\"\r\n                  component={QuickMessages}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/todolist\"\r\n                  component={ToDoList}\r\n                  isPrivate\r\n                  />\r\n                <Route\r\n                  exact\r\n                  path=\"/schedules\"\r\n                  component={Schedules}\r\n                  isPrivate\r\n                />\r\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\r\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\r\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\r\n                <Route exact path=\"/users\" component={Users} isPrivate />\r\n                <Route exact path=\"/files\" component={Files} isPrivate />\r\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\r\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\r\n\r\n                <Route\r\n                  exact\r\n                  path=\"/messages-api\"\r\n                  component={MessagesAPI}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/settings\"\r\n                  component={SettingsCustom}\r\n                  isPrivate\r\n                />\r\n\t\t\t\t        <Route \r\n                  exact\r\n                  path=\"/kanban\"\r\n                  component={Kanban}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/financeiro\"\r\n                  component={Financeiro}\r\n                  isPrivate\r\n                />\r\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\r\n                <Route\r\n                  exact\r\n                  path=\"/announcements\"\r\n                  component={Annoucements}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/subscription\"\r\n                  component={Subscription}\r\n                  isPrivate\r\n                />\r\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\r\n                {showCampaigns && (\r\n                  <>\r\n                    <Route\r\n                      exact\r\n                      path=\"/contact-lists\"\r\n                      component={ContactLists}\r\n                      isPrivate\r\n                    />\r\n                    <Route\r\n                      exact\r\n                      path=\"/contact-lists/:contactListId/contacts\"\r\n                      component={ContactListItems}\r\n                      isPrivate\r\n                    />\r\n                    <Route\r\n                      exact\r\n                      path=\"/campaigns\"\r\n                      component={Campaigns}\r\n                      isPrivate\r\n                    />\r\n                    <Route\r\n                      exact\r\n                      path=\"/campaign/:campaignId/report\"\r\n                      component={CampaignReport}\r\n                      isPrivate\r\n                    />\r\n                    <Route\r\n                      exact\r\n                      path=\"/campaigns-config\"\r\n                      component={CampaignsConfig}\r\n                      isPrivate\r\n                    />\r\n                  </>\r\n                )}\r\n              </LoggedInLayout>\r\n            </WhatsAppsProvider>\r\n          </Switch>\r\n          <ToastContainer autoClose={3000} />\r\n        </TicketsContextProvider>\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\n\r\nimport { ptBR } from \"@material-ui/core/locale\";\r\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\nimport ColorModeContext from \"./layout/themeContext\";\r\n\r\nimport Routes from \"./routes\";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst App = () => {\r\n    const [locale, setLocale] = useState();\r\n\r\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\r\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\r\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\r\n\r\n    const colorMode = React.useMemo(\r\n        () => ({\r\n            toggleColorMode: () => {\r\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\r\n            },\r\n        }),\r\n        []\r\n    );\r\n\r\n    const theme = createTheme(\r\n        {\r\n            scrollbarStyles: {\r\n                \"&::-webkit-scrollbar\": {\r\n                    width: '8px',\r\n                    height: '8px',\r\n                },\r\n                \"&::-webkit-scrollbar-thumb\": {\r\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\r\n                    backgroundColor: \"#A200FF\",\r\n                },\r\n            },\r\n            scrollbarStylesSoft: {\r\n                \"&::-webkit-scrollbar\": {\r\n                    width: \"8px\",\r\n                },\r\n                \"&::-webkit-scrollbar-thumb\": {\r\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\r\n                },\r\n            },\r\n            palette: {\r\n                type: mode,\r\n                primary: { main: mode === \"light\" ? \"#A200FF\" : \"#FFFFFF\" },\r\n                textPrimary: mode === \"light\" ? \"#A200FF\" : \"#FFFFFF\",\r\n                borderPrimary: mode === \"light\" ? \"#A200FF\" : \"#FFFFFF\",\r\n                dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\r\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\r\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\r\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n\t\t\t\toptions: mode === \"light\" ? \"#fafafa\" : \"#666\",\r\n\t\t\t\tfontecor: mode === \"light\" ? \"#128c7e\" : \"#fff\",\r\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n\t\t\t\tbordabox: mode === \"light\" ? \"#eee\" : \"#333\",\r\n\t\t\t\tnewmessagebox: mode === \"light\" ? \"#eee\" : \"#333\",\r\n\t\t\t\tinputdigita: mode === \"light\" ? \"#fff\" : \"#666\",\r\n\t\t\t\tcontactdrawer: mode === \"light\" ? \"#fff\" : \"#666\",\r\n\t\t\t\tannouncements: mode === \"light\" ? \"#ededed\" : \"#333\",\r\n\t\t\t\tlogin: mode === \"light\" ? \"#fff\" : \"#1C1C1C\",\r\n\t\t\t\tannouncementspopover: mode === \"light\" ? \"#fff\" : \"#666\",\r\n\t\t\t\tchatlist: mode === \"light\" ? \"#eee\" : \"#666\",\r\n\t\t\t\tboxlist: mode === \"light\" ? \"#ededed\" : \"#666\",\r\n\t\t\t\tboxchatlist: mode === \"light\" ? \"#ededed\" : \"#333\",\r\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\r\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\r\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\r\n                barraSuperior: mode === \"light\" ? \"linear-gradient(to right, #A200FF, #2D0F3F , #2D0F3F)\" : \"#666\",\r\n\t\t\t\tboxticket: mode === \"light\" ? \"#EEE\" : \"#666\",\r\n\t\t\t\tcampaigntab: mode === \"light\" ? \"#ededed\" : \"#666\",\r\n\t\t\t\tmediainput: mode === \"light\" ? \"#ededed\" : \"#1c1c1c\",\r\n            },\r\n            mode,\r\n        },\r\n        locale\r\n    );\r\n\r\n    useEffect(() => {\r\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\r\n        const browserLocale =\r\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\r\n\r\n        if (browserLocale === \"ptBR\") {\r\n            setLocale(ptBR);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        window.localStorage.setItem(\"preferredTheme\", mode);\r\n    }, [mode]);\r\n\r\n\r\n\r\n    return (\r\n        <ColorModeContext.Provider value={{ colorMode }}>\r\n            <ThemeProvider theme={theme}>\r\n                <QueryClientProvider client={queryClient}>\r\n                    <Routes />\r\n                </QueryClientProvider>\r\n            </ThemeProvider>\r\n        </ColorModeContext.Provider>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<CssBaseline>\r\n\t\t<App />\r\n\t</CssBaseline>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// ReactDOM.render(\r\n// \t<React.StrictMode>\r\n// \t\t<CssBaseline>\r\n// \t\t\t<App />\r\n// \t\t</CssBaseline>,\r\n//   </React.StrictMode>\r\n\r\n// \tdocument.getElementById(\"root\")\r\n// );\r\n","module.exports = __webpack_public_path__ + \"static/media/logo2.934542eb.png\";","module.exports = __webpack_public_path__ + \"static/media/logo3.c754d430.png\";","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/logo.2094f524.png\";","module.exports = __webpack_public_path__ + \"static/media/n8n.5c788b8d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAADICAMAAAApx+PaAAABrVBMVEUAAAB2dnZ1dXV2dnZ2dnZ2dnZ1dXWYmJh2dnZ7e3t1dXV2dnaHh4d2dnZ2dnb/8fF2dnZ1dXV9fX11dXV3d3d1dXV2dnZ4eHh1dXWFhYV1dXV1dXXvbxB8fHx9fX12dnZ1dXV1dXV2dnZ1dXV3d3d1dXV3d3d3d3d3d3d1dXV9fX12dnZ2dnZ2dnZ4eHh4eHh1dXV1dXV2dnZ7e3t2dnZ1dXV3d3eEhIT0lxp3d3fyjRd2dnZ1dXV2dnZ3d3d2dnZ2dnb/jiD0kxl2dnZ2dnZ2dnZ2dnZ3d3d2dnbtbw52dnZ2dnb0lhp1dXV4eHh3d3d2dnZ2dnZ3d3d4eHj1jBv1hRvEmHj1lxr0lRp4eHh8fHzsbg7zlhn0lxryhxbxgxX0lxrtbg/1lxp3d3fucBDvdA/tcA7wehLtbg7tbg70lhrtbg7vcxDxgRPvdxHtbg/tbQ7zlxv0lhr0lxvubg/tbw/zmBv2mBz2mRzwcA94eHjsbg7zlxvtbg7tbg7tbg72lxrubg/ubg7scBDwfRLzlxrtbQ/1lhv0mBr0lxz2lxz1lhzsbQ51dXXzlhptsIrZAAAAjHRSTlMAy7fZp62fA6Af9qYGzvwB0t4R0GqJcRs/C/qVPhQP/e7qm+KOYzE7NuYY88JUKiXxxoEi1btQCPtH3KqleXZgDQretLCSfFxL/oRY6r9AJ+xtNC4dEgT25DMh9vLv49rQhGxBM/v58u7Tua/x6+jgv6yfh1RGQTUoJCDm2cmhk5JzaV/gxZp6YVlRSVahGaQAAAzRSURBVHja7NcxCoJgGADQ72rdodShQLyBCrq4OojwnbkhgggbW37fu8ULAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6u6pauCs5kajOznYLTuPb50l+DU7iMdb7V4yUo39bkp2YLCjev+W2dg4Ldhjwy3IJCVd0jj931rVD7kr8te1CcJ3tn2pTIEQbgV10dZREWEBAobrkVwQN0PeOxGm9jLjebc3NU5fqQfMhVSaUqqUoqNa+/OUw3dM9MDwuzUM6oPJ8WxIbh6e73mN7dn7++eTVf/wwD7hVv/Lhy04mVQfl2n3D/e3LTDSf/umHA/eCnT2665ZNB+XYvePuHGzP8MOjM3nne+OfFjTle/DMI7Xeb/3ZuzLPzHwy4s7Qv0wbl2z3lnT9Xbl6XlT8Hndk7yLufndz0wsmgM3vnIEdjemBwsObOQY7G9MDgYM3d48/3bvrDytfQG04JBtwO3+30SfrJ92DI0bCKvZQ/cFAGA1bTiENX0JmAMk4K+s+0f9aTKDwZP5YAYDPSIAP3FPnNj97vg/L3PpZlMGQYBQrjB9ugJR/HBhdF6MgYNhiBfnM2hE0moQF5NAr3FFmWv3j6Ya9b+9M35W6kcxIbIVCzjAS/VdI34thi6kFIl+WvdlZ6cf7+t7JsQjolGZCAk0TCsEXSA8gobT8Q6bLcQ2j/8G9ZNiGds7sNDB8Sxq2R/lYcGSl4MNIbof3k9Xb2RjDvLH1phhJ5tOxzYYuleWixiYRVC6Sz4OKaeRl8Pnf+gKQrof01qrenX8qdpOtX8PbhzAVSEsy6tIaI8QWwRHqQ7utZIDwo6UpoN12mybIJ6YzQZhIJIzFesx09uwZrpGdQ4RIepHRZNlW+vSA7uxnpnOgyEvbcoMIi6X5UiD1U6fKbXZdvK09lhnnpIM0gYdMG0lOkeQAPVnrX5dvOt7J56eJXjYmY9dLXSU/mIUvvqnz7kATz3qQ7q6iwMJB+68gCpHzr2HPtXTpMhDstdcn7vOjsUnrseQxehXOivA3GPO5e+v049y0L0PLtRacyrXfpkOJtTzjPNvgVVOQik2RWXOwFiq+WHqqlPA5EDHvG5gzFus8iaWxQmc2Q7u9irsG5MhOyCsNkyDyl2E56MDPqK7gcnqHIYZ1PJa+CdmKSp0LaT0ieA7sgCwihXey59kn6oot/tZPY4LFKuQ85jlSwvfT6ZgI5lWch0HNdVQ21IAFEsMEjZbNBgSlj6eVd5JT8MaC8hQrPNFeFCmlQM4sNfGAXZDWdy7cXtOfau3T+XSQkUbr7CLVc1NpJz6VRS+ElEPhYcVQzNG9eej0VRw3JA6CQd68CgzUX88CJuejUsAuyCC/fTgx6rv2UvkC/HkG6e7yNDFH6sQP1hLdAhSSMVQialR6tosARDe+k8oxHgTMk3jA8RoUy2AVZpF1ndmXnA7m/0s9oK0yQPsNXVCGMlHjNSHqG79sFBxeny9IopSRSnqyZk170oAFjoDCNCgfqni7FA5xx+pltgywglm+859pn6V5etPlU0l82NY7nQgDOs8cuWtF7RelvNUWPTC0CuINTPiSEc9BiCinDc14AZ27GgRQqPbikUCHv5qMcC9KlUyS41o5/DcWuAkOIfLJKSTqWeJf2CgjsNX6wDXIH6MEaWqb1Xbqb6IzopQ9Rkee6sO0XpMc8dHZMSa0BM1RqIQqUK/o4nWMLcY9Lb/GILP+2JZsfCbPz0GSuoJpaKZaXUGbZ/g8t8qjwFtgGuQPkYA05GtNn6fzsxJp+e8+OORA9MWAskteVnFy6OidIqL/O66QmotKcezIKDCliUvo83Wj2JWAEn9CUEBqsosI0NCnGEZGEpCVt6pIG+yB3wVdPaZnWf+kj2OBUzN6jG+k5EDKhM530WIIE+1VQkwuTxU81Z2nqPwEq3MPmpI8h/zNTS9f6IQA4K5q9e4o8crDEjQ22D/ZBNkFfpfOCZ9eoTpe0ccBDNkyd9IDhubpntHRWCZsDDdGSGelBF1mn20Yp6Cxr4rLfXia6d9UlWrG5F9gHa6WXSBosSBdJkVG4dD50KQpathO8dC6QF7tBy4wZ6VsspxcvyxVTIjwqTAAh6iKfbqvVjGEjJO10qt9S6XW+VEXp+c3RJ+mKp7q2P+ekYXFYK93poFNGzz7zUUaFAOgom5H+mKUTGg5RoQYAIYdqVmToBXnJ9rAIhFF69M5GWCp9HhU2DaRLU0vIuZhJsdXLpedZiaylRhMAtkqzQtGQNCGdRSAtIZI6zDCpu+xqSZ6+3LwwFvRXwUZYKj1DQ64oPe9DA4a4dL7YztsceTtudUTjEuhZNiE9bNBBZTXmOjQ4IJljnaSWyqvT7mY+N8S7DhUn2AhLpa8TKV5Bes2BHaTzKRNtEzQuWxX2BQisdS89xkK60XUtM9N4yPzvtyo3DLIMYh3shJXSnQWqUi/9pQspyeHxyNjokkuUzpN3cQnxxRmh/VCBVPfSn7NtQ8ca/+zDrMW0xyrLKssmRmjwtxNWSedL9UgvPeRBwl4OKKEDn5H0rXYrnS3OI9K76Wmle1Eh0+a6Tvl1eFo5XVJiM3K2NWtKdbATFkqXRmiepZd+iULSLa23jell0DNBMwW2F4gx/bRL6axTvAECQ3wMupeXm9Vbin+IeBHg0oYHr6ySzpTsgl56Fdl2ydjXSecHGLZAAyucc6yRlxey90SX0lmpvyaGphIN37zfvtncQQ5VI0w1r/8YbIV10s9oqL7WS5doleYUj1sMGdXp62LEZtn0r2i4TLNoQjoJ00k3cMRbqgG61ddLqjx9gyR6dMcPx8BWWCb9PEkDN+ilF1FcW8G4gXTYJXaLoMVbYnk1eEi0lUBLxIz0KdaFEQsPLKoCiitWU1cg5+S56CHtKtkLq6TXKjQ/DwrSacdmX1i8ovRLFgfU+FUZwb5RBAg6zEinH2dS0k1ZF3kW1J9+blzT6F8iGSCZYHb7Jy2skR6dQUJ4GgTpXhQWRw0NpYeSBvdTVuMkZd9WHb2szIMKadbcXbY9g9s6dZ+2G7hBBkwgoiOkuaE6nCbrHeyFFdKf+x3CuSYqnadZrhwwDh2idP5do2MVOLkEu8nGd+GRCc2ZOXPSr8UjWPVROqyk6eazcEW5whanYDNuR/roIqU8XcukPNgkvgEE3ckZaqWSB0p9IY5tpIdo0efacALFGQhTHaHW/KJRpHAITRaX0Yx0PnFwfxuazE8ioaY9GKAPJew6L8Fm3Ip0YyqHYCg9h5S91SCEss/Shm1YStmBBM9CNgTO7IYHCY6yqn6jnG4FJfCuphxoWnpoCQmFDSVMOKdTLvG86xFSXF5NckEJgs2wTvpSGQTpXAIljBSPX5ROnbqwBdfpmtPldZR4a7TTlCnpMJ9g7zGSZm+zLAHnuvUkcPJIqYLdsEq6Z4t9Z0LvPTaJWirlgCidslpBPaVVULMgzLZYxJx0OPegwCMnqPGIkd9dQMIm2A1LpLuqGa5cXOkQnUU16RwI0hlXPtTiuwItmRKq2YsCkb7evXSInqKW8ILb6DQOFrVtRMI82I3bll4Zqe7XtkGDeD9dCiT5rvzYC6J0jnTgQU6a7SCc4CP1DtNKFSNdSOfUllDFmiBy2mAnP0M6sO34Q+4Xf4Ah0QkVRSe0oaj8OAqMemY0iegqVDeCZMcnv83GC4IaKb8w6ymhwzN7lJfAiInAaTqMF77xl27WylsAgvGQ2ekGZc2bTPufkHieWA4w5eofK8wbPHcO9uPz3+V+8Pvn0HekmATd44RX4+YvGHndQmp7MWirIzCvjfuv3+Re+e2vu/S39Ytou1Nrt88bn34g98KXn9r5P23KThne0w2H4IHzyzc9OP/mF7AtzuMq4jVoqP/f3h20RBWFYQC+kdEiMVpEmy8wsigUgqBFBBG4CLdKbdxK6MpZOJugRBeu7v3PgiPIMIIz9x7xfPo8f+GDmft+973nfJy0WhgftP0cjJt67by5mO/ytaee0Pw+3W8Xt39S9Z09zyctnM3lmc+e3t6PB7LBfh1vtYvZOqv9dq73k5c1G9vNpb/fuq7GV9x3Z2/ULmK011RvrZvY/Pnh9audd0uX+/dnmdLGbTs6bOd1eNQkcNGjnbHhx71PfNutOqZNHzQ0Y+lHw5TxXDEtzzVsT1+udFPW/Z/PiDliWjSZbH/prqx+rufkxnrEjTHtNN1T0KfvTx6vrqy/eLT29cEv4voM/c9x7TGN0kMfVbxzpbdIH9MoOPTdkyQxjWJD/58nplFm6P8S7FzpK/JXY1hUZKvGMFykqsZQRGSqxlBGZKrGUEakqsZQROSqxlBC2Lk+PJGsGkMBka0aw3CRrxrDUJGxGsMwoRoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQue6vJdUy+5+yQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/webhook.e5374d73.png\";","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}